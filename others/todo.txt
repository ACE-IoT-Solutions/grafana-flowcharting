Template changed
https://community.grafana.com/t/catch-event-on-template-variable-changing-in-custom-plugin-develop/8518
https://community.grafana.com/t/whats-the-best-way-to-access-dashboard-variables-within-a-plugin/1937/7

Tooltip, voir exemple sur discrete


variable
templateSrv
getVariable
https://github.com/alexanderzobnin/grafana-zabbix/blob/c5453041acce64235e9991da6b36fb9aea6671bc/src/datasource-zabbix/partials/query.editor.html
bs-typeahead="ctrl.getVariables"


https://github.com/alexanderzobnin/grafana-zabbix/blob/fd62b996b1ca4bbe9d3da07b1069d566ec4fe625/src/datasource-zabbix/query.controller.js

              <input
                type="text"
                id="{{ shape.getId() }}"
                placeholder="id or regex of shape"
                class="gf-form-input width-13"
                ng-model="shape.data.pattern"
                bs-tooltip="'Specify regex using /my.*regex/ syntax or complete id of shape (see inspect tab)'"
                bs-typeahead="editor.getCellNamesForShape"
                ng-blur="editor.onRulesChange()"
                data-min-length="0"
                data-items="100"
                ng-model-onblur
                data-placement="right"
                ng-mouseleave="editor.unselectCell()"
                ng-mouseover="editor.selectCell(rule.data.shapeProp,shape.data.pattern)"
              />

function replaceTemplateVars(templateSrv, target, scopedVars) {
  var replacedTarget = templateSrv.replace(target, scopedVars, zabbixTemplateFormat);
  if (target !== replacedTarget && !utils.isRegex(replacedTarget)) {
    replacedTarget = '/^' + replacedTarget + '$/';
  }
  return replacedTarget;
}