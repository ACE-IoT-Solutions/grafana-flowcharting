{"version":3,"sources":["../src/Shapes.js"],"names":["CubeShape","mxCylinder","call","mxUtils","extend","prototype","size","redrawPath","path","x","y","w","h","isForeground","s","Math","max","min","parseFloat","getValue","style","moveTo","lineTo","end","close","getLabelMargins","rect","scale","mxRectangle","mxCellRenderer","registerShape","tan30","tan","toRadians","tan30Dx","IsoRectangleShape","mxActor","m","translate","IsoCubeShape","DataStoreShape","c","dy","round","strokewidth","fill","curveTo","stroke","begin","height","NoteShape","SwitchShape","curve","quadTo","FolderShape","tabWidth","tabHeight","tabPosition","dx","tp","CardShape","isRoundable","arcSize","mxConstants","STYLE_ARCSIZE","LINE_ARCSIZE","addPoints","mxPoint","isRounded","TapeShape","fy","getLabelBounds","width","direction","DIRECTION_EAST","DIRECTION_WEST","DocumentShape","cylinderGetCylinderSize","getCylinderSize","apply","arguments","maxHeight","ParallelogramShape","TrapezoidShape","CurlyBracketShape","setFillColor","ParallelMarkerShape","setStrokeWidth","w2","fillAndStroke","HandJiggle","canvas","defaultVariation","setLineJoin","setLineCap","originalLineTo","bind","originalMoveTo","originalClose","originalQuadTo","originalCurveTo","originalArcTo","arcTo","endX","endY","lastX","lastY","firstX","firstY","x1","y1","x2","y2","x3","y3","rx","ry","angle","largeArcFlag","sweepFlag","sign","NaN","abs","dist","sqrt","segs","variation","stepX","stepY","fx","offset","random","destroy","mxShapePaint0","mxShape","paint","defaultJiggle","handHiggle","handJiggle","mxRhombus","mxRectangleShapeIsHtmlAllowed0","mxRectangleShape","isHtmlAllowed","mxRectangleShapePaintBackground0","paintBackground","events","STYLE_POINTER_EVENTS","NONE","pointerEvents","r","STYLE_ABSOLUTE_ARCSIZE","f","RECTANGLE_ROUNDING_FACTOR","mxRectangleShapePaintForeground0","paintForeground","ProcessShape","state","STYLE_HORIZONTAL","inset","TransparentShape","CalloutShape","mxHexagon","position","position2","base","dx2","StepShape","fixedSize","fixed","HexagonShape","PlusShape","border","mxRhombusPaintVertexShape","paintVertexShape","margin","STYLE_MARGIN","outline","setShadow","ExtendedShape","setDashed","counter","shape","defaultShapes","align","valign","spacing","vspacing","arcspacing","getArcSize","ALIGN_CENTER","ALIGN_RIGHT","ALIGN_MIDDLE","ALIGN_BOTTOM","save","tmp","restore","MessageShape","UmlActorShape","ellipse","UmlBoundaryShape","UmlEntityShape","mxEllipse","UmlDestroyShape","UmlControlShape","UmlLifeline","participant","ctor","view","graph","cellRenderer","getShape","UmlFrame","corner","co","w0","h0","bg","STYLE_SWIMLANE_FILLCOLOR","gradient","b","getGradientBounds","setGradient","gradientDirection","mxPerimeter","LifelinePerimeter","bounds","vertex","next","orthogonal","sw","STYLE_STROKEWIDTH","getCenterX","mxStyleRegistry","putValue","OrthogonalPerimeter","RectanglePerimeter","BackbonePerimeter","STYLE_DIRECTION","getCenterY","CalloutPerimeter","getDirectedBounds","ParallelogramPerimeter","vertical","DIRECTION_NORTH","DIRECTION_SOUTH","points","cx","cy","p1","getPerimeterPoint","TrapezoidPerimeter","StepPerimeter","HexagonPerimeter2","LollipopShape","sz","RequiresShape","RequiredInterfaceShape","ProvidedRequiredInterfaceShape","ComponentShape","jettyWidth","jettyHeight","x0","y0","StateShape","mxDoubleEllipse","outerStroke","StartStateShape","LinkShape","mxArrowConnector","defaultWidth","isOpenEnded","getEdgeWidth","getNumber","isArrowRounded","FlexArrowShape","defaultArrowWidth","getStartArrowWidth","getEndArrowWidth","ManualInputShape","InternalStorageShape","CornerShape","CrossbarShape","TeeShape","SingleArrowShape","arrowWidth","arrowSize","aw","as","at","ab","DoubleArrowShape","DataStorageShape","OrShape","XorShape","LoopLimitShape","OffPageConnectorShape","TapeDataShape","OrEllipseShape","SumEllipseShape","s2","SortShape","CollateShape","DimensionShape","al","PartialRectangleShape","setStrokeColor","LineEllipseShape","DelayShape","CrossShape","t","l","DisplayShape","FilledEdge","mxConnector","origPaintEdgeShape","paintEdgeShape","pts","rounded","temp","i","length","push","clone","dashed","fixDash","strokeWidth","fillClr","StyleFormatPanel","styleFormatPanelGetCustomColors","getCustomColors","ss","format","getSelectionState","result","title","mxResources","get","key","defaultValue","mxMarker","addMarker","type","pe","unitX","unitY","source","filled","nx","ny","circleMarker","a","pt","fn","endOffsetX","endOffsetY","createOpenAsyncArrow","widthFactor","arrow","ARROW_CLASSIC","ARROW_CLASSIC_THIN","mxVertexHandler","createHandle","keys","getPositionFn","setPositionFn","ignoreGrid","redrawEdges","handle","mxHandle","secondaryHandleImage","execute","copyStyle","getPosition","setPosition","positionChanged","invalidate","cell","validate","createArcHandle","yOffset","me","createArcHandleFunction","handles","STYLE_ROUNDED","createTrapezoidHandleFunction","createDisplayHandleFunction","allowArcHandle","fixedDefaultValue","mxEvent","isAltDown","getEvent","snap","createCubeHandleFunction","factor","createArrowHandleFunction","maxSize","createEdgeHandle","start","absolutePoints","n","tr","p0","createEdgeWidthHandle","ptSegDistSq","ptLineDistance","handleFactory","tol","gridSize","STYLE_STARTARROW","STYLE_STARTSIZE","STYLE_ENDSIZE","ARROW_SIZE","ptLineDist","isControlDown","STYLE_ENDARROW","DEFAULT_STARTSIZE","tw","th","mxGraph","createCustomHandles","getSelectionCount","isCellRotatable","name","mxStencilRegistry","getStencil","SHAPE_RECTANGLE","mxEdgeHandler","SHAPE_CONNECTOR","isoHVector","isoVVector","alpha1","cos1","cos","sin1","sin","getRotatedPoint","alpha2","cos2","sin2","mxEdgeStyle","IsometricConnector","target","transformControlPoint","a1","a2","b1","b2","elbow","isoLineTo","ignoreFirst","c1","last","c2","v","graphCreateEdgeHandler","createEdgeHandler","edgeStyle","handler","mxElbowEdgeHandler","snapToTerminals","constraints","mxConnectionConstraint","mxLabel","mxImageShape","mxSwimlane","mxLine","mxTriangle","mxCloud","mxArrow"],"mappings":"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","sourcesContent":["/**\n * Copyright (c) 2006-2015, JGraph Ltd\n */\n\n/**\n * Registers shapes.\n */\n(function()\n{\n\t// Cube Shape, supports size style\n\tfunction CubeShape()\n\t{\n\t\tmxCylinder.call(this);\n\t};\n\tmxUtils.extend(CubeShape, mxCylinder);\n\tCubeShape.prototype.size = 20;\n\tCubeShape.prototype.redrawPath = function(path, x, y, w, h, isForeground)\n\t{\n\t\tvar s = Math.max(0, Math.min(w, Math.min(h, parseFloat(mxUtils.getValue(this.style, 'size', this.size)))));\n\n\t\tif (isForeground)\n\t\t{\n\t\t\tpath.moveTo(s, h);\n\t\t\tpath.lineTo(s, s);\n\t\t\tpath.lineTo(0, 0);\n\t\t\tpath.moveTo(s, s);\n\t\t\tpath.lineTo(w, s);\n\t\t\tpath.end();\n\t\t}\n\t\telse\n\t\t{\n\t\t\tpath.moveTo(0, 0);\n\t\t\tpath.lineTo(w - s, 0);\n\t\t\tpath.lineTo(w, s);\n\t\t\tpath.lineTo(w, h);\n\t\t\tpath.lineTo(s, h);\n\t\t\tpath.lineTo(0, h - s);\n\t\t\tpath.lineTo(0, 0);\n\t\t\tpath.close();\n\t\t\tpath.end();\n\t\t}\n\t};\n\tCubeShape.prototype.getLabelMargins = function(rect)\n\t{\n\t\tif (mxUtils.getValue(this.style, 'boundedLbl', false))\n\t\t{\n\t\t\tvar s = parseFloat(mxUtils.getValue(this.style, 'size', this.size)) * this.scale;\n\t\t\t\n\t\t\treturn new mxRectangle(s, s, 0, 0);\n\t\t}\n\t\t\n\t\treturn null;\n\t};\n\t\n\tmxCellRenderer.registerShape('cube', CubeShape);\n\t\n\tvar tan30 = Math.tan(mxUtils.toRadians(30));\n\tvar tan30Dx = (0.5 - tan30) / 2;\n\t\n\t// Cube Shape, supports size style\n\tfunction IsoRectangleShape()\n\t{\n\t\tmxActor.call(this);\n\t};\n\tmxUtils.extend(IsoRectangleShape, mxActor);\n\tIsoRectangleShape.prototype.size = 20;\n\tIsoRectangleShape.prototype.redrawPath = function(path, x, y, w, h)\n\t{\n\t\tvar m = Math.min(w, h / tan30);\n\n\t\tpath.translate((w - m) / 2, (h - m) / 2 + m / 4);\n\t\tpath.moveTo(0, 0.25 * m);\n\t\tpath.lineTo(0.5 * m, m * tan30Dx);\n\t\tpath.lineTo(m, 0.25 * m);\n\t\tpath.lineTo(0.5 * m, (0.5 - tan30Dx) * m);\n\t\tpath.lineTo(0, 0.25 * m);\n\t\tpath.close();\n\t\tpath.end();\n\t};\n\n\tmxCellRenderer.registerShape('isoRectangle', IsoRectangleShape);\n\n\t// Cube Shape, supports size style\n\tfunction IsoCubeShape()\n\t{\n\t\tmxCylinder.call(this);\n\t};\n\tmxUtils.extend(IsoCubeShape, mxCylinder);\n\tIsoCubeShape.prototype.size = 20;\n\tIsoCubeShape.prototype.redrawPath = function(path, x, y, w, h, isForeground)\n\t{\n\t\tvar m = Math.min(w, h / (0.5 + tan30));\n\n\t\tif (isForeground)\n\t\t{\n\t\t\tpath.moveTo(0, 0.25 * m);\n\t\t\tpath.lineTo(0.5 * m, (0.5 - tan30Dx) * m);\n\t\t\tpath.lineTo(m, 0.25 * m);\n\t\t\tpath.moveTo(0.5 * m, (0.5 - tan30Dx) * m);\n\t\t\tpath.lineTo(0.5 * m, (1 - tan30Dx) * m);\n\t\t\tpath.end();\n\t\t}\n\t\telse\n\t\t{\n\t\t\tpath.translate((w - m) / 2, (h - m) / 2);\n\t\t\tpath.moveTo(0, 0.25 * m);\n\t\t\tpath.lineTo(0.5 * m, m * tan30Dx);\n\t\t\tpath.lineTo(m, 0.25 * m);\n\t\t\tpath.lineTo(m, 0.75 * m);\n\t\t\tpath.lineTo(0.5 * m, (1 - tan30Dx) * m);\n\t\t\tpath.lineTo(0, 0.75 * m);\n\t\t\tpath.close();\n\t\t\tpath.end();\n\t\t}\n\t};\n\n\tmxCellRenderer.registerShape('isoCube', IsoCubeShape);\n\t\n\t// DataStore Shape, supports size style\n\tfunction DataStoreShape()\n\t{\n\t\tmxCylinder.call(this);\n\t};\n\tmxUtils.extend(DataStoreShape, mxCylinder);\n\n\tDataStoreShape.prototype.redrawPath = function(c, x, y, w, h, isForeground)\n\t{\n\t\tvar dy = Math.min(h / 2, Math.round(h / 8) + this.strokewidth - 1);\n\t\t\n\t\tif ((isForeground && this.fill != null) || (!isForeground && this.fill == null))\n\t\t{\n\t\t\tc.moveTo(0, dy);\n\t\t\tc.curveTo(0, 2 * dy, w, 2 * dy, w, dy);\n\t\t\t\n\t\t\t// Needs separate shapes for correct hit-detection\n\t\t\tif (!isForeground)\n\t\t\t{\n\t\t\t\tc.stroke();\n\t\t\t\tc.begin();\n\t\t\t}\n\t\t\t\n\t\t\tc.translate(0, dy / 2);\n\t\t\tc.moveTo(0, dy);\n\t\t\tc.curveTo(0, 2 * dy, w, 2 * dy, w, dy);\n\t\t\t\n\t\t\t// Needs separate shapes for correct hit-detection\n\t\t\tif (!isForeground)\n\t\t\t{\n\t\t\t\tc.stroke();\n\t\t\t\tc.begin();\n\t\t\t}\n\t\t\t\n\t\t\tc.translate(0, dy / 2);\n\t\t\tc.moveTo(0, dy);\n\t\t\tc.curveTo(0, 2 * dy, w, 2 * dy, w, dy);\n\t\t\t\n\t\t\t// Needs separate shapes for correct hit-detection\n\t\t\tif (!isForeground)\n\t\t\t{\n\t\t\t\tc.stroke();\n\t\t\t\tc.begin();\n\t\t\t}\n\t\t\t\n\t\t\tc.translate(0, -dy);\n\t\t}\n\t\t\n\t\tif (!isForeground)\n\t\t{\n\t\t\tc.moveTo(0, dy);\n\t\t\tc.curveTo(0, -dy / 3, w, -dy / 3, w, dy);\n\t\t\tc.lineTo(w, h - dy);\n\t\t\tc.curveTo(w, h + dy / 3, 0, h + dy / 3, 0, h - dy);\n\t\t\tc.close();\n\t\t}\n\t};\n\tDataStoreShape.prototype.getLabelMargins = function(rect)\n\t{\n\t\treturn new mxRectangle(0, 2.5 * Math.min(rect.height / 2, Math.round(rect.height / 8) +\n\t\t\tthis.strokewidth - 1) * this.scale, 0, 0);\n\t}\n\n\tmxCellRenderer.registerShape('datastore', DataStoreShape);\n\n\t// Note Shape, supports size style\n\tfunction NoteShape()\n\t{\n\t\tmxCylinder.call(this);\n\t};\n\tmxUtils.extend(NoteShape, mxCylinder);\n\tNoteShape.prototype.size = 30;\n\tNoteShape.prototype.redrawPath = function(path, x, y, w, h, isForeground)\n\t{\n\t\tvar s = Math.max(0, Math.min(w, Math.min(h, parseFloat(mxUtils.getValue(this.style, 'size', this.size)))));\n\n\t\tif (isForeground)\n\t\t{\n\t\t\tpath.moveTo(w - s, 0);\n\t\t\tpath.lineTo(w - s, s);\n\t\t\tpath.lineTo(w, s);\n\t\t\tpath.end();\n\t\t}\n\t\telse\n\t\t{\n\t\t\tpath.moveTo(0, 0);\n\t\t\tpath.lineTo(w - s, 0);\n\t\t\tpath.lineTo(w, s);\n\t\t\tpath.lineTo(w, h);\n\t\t\tpath.lineTo(0, h);\n\t\t\tpath.lineTo(0, 0);\n\t\t\tpath.close();\n\t\t\tpath.end();\n\t\t}\n\t};\n\n\tmxCellRenderer.registerShape('note', NoteShape);\n\n\t// Note Shape, supports size style\n\tfunction SwitchShape()\n\t{\n\t\tmxActor.call(this);\n\t};\n\tmxUtils.extend(SwitchShape, mxActor);\n\tSwitchShape.prototype.redrawPath = function(c, x, y, w, h)\n\t{\n\t\tvar curve = 0.5;\n\t\tc.moveTo(0, 0);\n\t\tc.quadTo(w / 2, h * curve,  w, 0);\n\t\tc.quadTo(w * (1 - curve), h / 2, w, h);\n\t\tc.quadTo(w / 2, h * (1 - curve), 0, h);\n\t\tc.quadTo(w * curve, h / 2, 0, 0);\n\t\tc.end();\n\t};\n\n\tmxCellRenderer.registerShape('switch', SwitchShape);\n\n\t// Folder Shape, supports tabWidth, tabHeight styles\n\tfunction FolderShape()\n\t{\n\t\tmxCylinder.call(this);\n\t};\n\tmxUtils.extend(FolderShape, mxCylinder);\n\tFolderShape.prototype.tabWidth = 60;\n\tFolderShape.prototype.tabHeight = 20;\n\tFolderShape.prototype.tabPosition = 'right';\n\tFolderShape.prototype.redrawPath = function(path, x, y, w, h, isForeground)\n\t{\n\t\tvar dx = Math.max(0, Math.min(w, parseFloat(mxUtils.getValue(this.style, 'tabWidth', this.tabWidth))));\n\t\tvar dy = Math.max(0, Math.min(h, parseFloat(mxUtils.getValue(this.style, 'tabHeight', this.tabHeight))));\n\t\tvar tp = mxUtils.getValue(this.style, 'tabPosition', this.tabPosition);\n\n\t\tif (isForeground)\n\t\t{\n\t\t\tif (tp == 'left')\n\t\t\t{\n\t\t\t\tpath.moveTo(0, dy);\n\t\t\t\tpath.lineTo(dx, dy);\n\t\t\t}\n\t\t\t// Right is default\n\t\t\telse\n\t\t\t{\n\t\t\t\tpath.moveTo(w - dx, dy);\n\t\t\t\tpath.lineTo(w, dy);\n\t\t\t}\n\t\t\t\n\t\t\tpath.end();\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (tp == 'left')\n\t\t\t{\n\t\t\t\tpath.moveTo(0, 0);\n\t\t\t\tpath.lineTo(dx, 0);\n\t\t\t\tpath.lineTo(dx, dy);\n\t\t\t\tpath.lineTo(w, dy);\n\t\t\t}\n\t\t\t// Right is default\n\t\t\telse\n\t\t\t{\n\t\t\t\tpath.moveTo(0, dy);\n\t\t\t\tpath.lineTo(w - dx, dy);\n\t\t\t\tpath.lineTo(w - dx, 0);\n\t\t\t\tpath.lineTo(w, 0);\n\t\t\t}\n\t\t\t\n\t\t\tpath.lineTo(w, h);\n\t\t\tpath.lineTo(0, h);\n\t\t\tpath.lineTo(0, dy);\n\t\t\tpath.close();\n\t\t\tpath.end();\n\t\t}\n\t};\n\n\tmxCellRenderer.registerShape('folder', FolderShape);\n\n\t// Card shape\n\tfunction CardShape()\n\t{\n\t\tmxActor.call(this);\n\t};\n\tmxUtils.extend(CardShape, mxActor);\n\tCardShape.prototype.size = 30;\n\tCardShape.prototype.isRoundable = function()\n\t{\n\t\treturn true;\n\t};\n\tCardShape.prototype.redrawPath = function(c, x, y, w, h)\n\t{\n\t\tvar s = Math.max(0, Math.min(w, Math.min(h, parseFloat(mxUtils.getValue(this.style, 'size', this.size)))));\n\t\tvar arcSize = mxUtils.getValue(this.style, mxConstants.STYLE_ARCSIZE, mxConstants.LINE_ARCSIZE) / 2;\n\t\tthis.addPoints(c, [new mxPoint(s, 0), new mxPoint(w, 0), new mxPoint(w, h), new mxPoint(0, h), new mxPoint(0, s)],\n\t\t\t\tthis.isRounded, arcSize, true);\n\t\tc.end();\n\t};\n\n\tmxCellRenderer.registerShape('card', CardShape);\n\n\t// Tape shape\n\tfunction TapeShape()\n\t{\n\t\tmxActor.call(this);\n\t};\n\tmxUtils.extend(TapeShape, mxActor);\n\tTapeShape.prototype.size = 0.4;\n\tTapeShape.prototype.redrawPath = function(c, x, y, w, h)\n\t{\n\t\tvar dy = h * Math.max(0, Math.min(1, parseFloat(mxUtils.getValue(this.style, 'size', this.size))));\n\t\tvar fy = 1.4;\n\t\t\n\t\tc.moveTo(0, dy / 2);\n\t\tc.quadTo(w / 4, dy * fy, w / 2, dy / 2);\n\t\tc.quadTo(w * 3 / 4, dy * (1 - fy), w, dy / 2);\n\t\tc.lineTo(w, h - dy / 2);\n\t\tc.quadTo(w * 3 / 4, h - dy * fy, w / 2, h - dy / 2);\n\t\tc.quadTo(w / 4, h - dy * (1 - fy), 0, h - dy / 2);\n\t\tc.lineTo(0, dy / 2);\n\t\tc.close();\n\t\tc.end();\n\t};\n\t\n\tTapeShape.prototype.getLabelBounds = function(rect)\n\t{\n\t\tif (mxUtils.getValue(this.style, 'boundedLbl', false))\n\t\t{\n\t\t\tvar size = mxUtils.getValue(this.style, 'size', this.size);\t\t\t\n\t\t\tvar w = rect.width;\n\t\t\tvar h = rect.height;\n\t\t\t\n\t\t\tif (this.direction == null ||\n\t\t\t\t\tthis.direction == mxConstants.DIRECTION_EAST ||\n\t\t\t\t\tthis.direction == mxConstants.DIRECTION_WEST)\n\t\t\t{\n\t\t\t\tvar dy = h * size;\n\t\t\t\t\n\t\t\t\treturn new mxRectangle(rect.x, rect.y + dy, w, h - 2 * dy);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tvar dx = w * size;\n\t\t\t\t\n\t\t\t\treturn new mxRectangle(rect.x + dx, rect.y, w - 2 * dx, h);\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn rect;\n\t};\n\t\n\tmxCellRenderer.registerShape('tape', TapeShape);\n\n\t// Document shape\n\tfunction DocumentShape()\n\t{\n\t\tmxActor.call(this);\n\t};\n\tmxUtils.extend(DocumentShape, mxActor);\n\tDocumentShape.prototype.size = 0.3;\n\tDocumentShape.prototype.getLabelMargins = function(rect)\n\t{\n\t\tif (mxUtils.getValue(this.style, 'boundedLbl', false))\n\t\t{\n\t\t\treturn new mxRectangle(0, 0, 0, parseFloat(mxUtils.getValue(\n\t\t\t\tthis.style, 'size', this.size)) * rect.height);\n\t\t}\n\t\t\n\t\treturn null;\n\t};\n\tDocumentShape.prototype.redrawPath = function(c, x, y, w, h)\n\t{\n\t\tvar dy = h * Math.max(0, Math.min(1, parseFloat(mxUtils.getValue(this.style, 'size', this.size))));\n\t\tvar fy = 1.4;\n\t\t\n\t\tc.moveTo(0, 0);\n\t\tc.lineTo(w, 0);\n\t\tc.lineTo(w, h - dy / 2);\n\t\tc.quadTo(w * 3 / 4, h - dy * fy, w / 2, h - dy / 2);\n\t\tc.quadTo(w / 4, h - dy * (1 - fy), 0, h - dy / 2);\n\t\tc.lineTo(0, dy / 2);\n\t\tc.close();\n\t\tc.end();\n\t};\n\n\tmxCellRenderer.registerShape('document', DocumentShape);\n\n\tvar cylinderGetCylinderSize = mxCylinder.prototype.getCylinderSize;\n\t\n\tmxCylinder.prototype.getCylinderSize = function(x, y, w, h)\n\t{\n\t\tvar size = mxUtils.getValue(this.style, 'size');\n\t\t\n\t\tif (size != null)\n\t\t{\n\t\t\treturn h * Math.max(0, Math.min(1, size));\n\t\t}\n\t\telse\n\t\t{\n\t\t\treturn cylinderGetCylinderSize.apply(this, arguments);\n\t\t}\n\t};\n\t\n\tmxCylinder.prototype.getLabelMargins = function(rect)\n\t{\n\t\tif (mxUtils.getValue(this.style, 'boundedLbl', false))\n\t\t{\n\t\t\tvar size = mxUtils.getValue(this.style, 'size', 0.15) * 2;\n\t\t\t\n\t\t\treturn new mxRectangle(0, Math.min(this.maxHeight * this.scale, rect.height * size), 0, 0);\n\t\t}\n\t\t\n\t\treturn null;\n\t};\n\n\t// Parallelogram shape\n\tfunction ParallelogramShape()\n\t{\n\t\tmxActor.call(this);\n\t};\n\tmxUtils.extend(ParallelogramShape, mxActor);\n\tParallelogramShape.prototype.size = 0.2;\n\tParallelogramShape.prototype.isRoundable = function()\n\t{\n\t\treturn true;\n\t};\n\tParallelogramShape.prototype.redrawPath = function(c, x, y, w, h)\n\t{\n\t\tvar dx = w * Math.max(0, Math.min(1, parseFloat(mxUtils.getValue(this.style, 'size', this.size))));\n\t\tvar arcSize = mxUtils.getValue(this.style, mxConstants.STYLE_ARCSIZE, mxConstants.LINE_ARCSIZE) / 2;\n\t\tthis.addPoints(c, [new mxPoint(0, h), new mxPoint(dx, 0), new mxPoint(w, 0), new mxPoint(w - dx, h)],\n\t\t\t\tthis.isRounded, arcSize, true);\n\t\tc.end();\n\t};\n\n\tmxCellRenderer.registerShape('parallelogram', ParallelogramShape);\n\n\t// Trapezoid shape\n\tfunction TrapezoidShape()\n\t{\n\t\tmxActor.call(this);\n\t};\n\tmxUtils.extend(TrapezoidShape, mxActor);\n\tTrapezoidShape.prototype.size = 0.2;\n\tTrapezoidShape.prototype.isRoundable = function()\n\t{\n\t\treturn true;\n\t};\n\tTrapezoidShape.prototype.redrawPath = function(c, x, y, w, h)\n\t{\n\t\tvar dx = w * Math.max(0, Math.min(0.5, parseFloat(mxUtils.getValue(this.style, 'size', this.size))));\n\t\tvar arcSize = mxUtils.getValue(this.style, mxConstants.STYLE_ARCSIZE, mxConstants.LINE_ARCSIZE) / 2;\n\t\tthis.addPoints(c, [new mxPoint(0, h), new mxPoint(dx, 0), new mxPoint(w - dx, 0), new mxPoint(w, h)],\n\t\t\t\tthis.isRounded, arcSize, true);\n\t};\n\n\tmxCellRenderer.registerShape('trapezoid', TrapezoidShape);\n\n\t// Curly Bracket shape\n\tfunction CurlyBracketShape()\n\t{\n\t\tmxActor.call(this);\n\t};\n\tmxUtils.extend(CurlyBracketShape, mxActor);\n\tCurlyBracketShape.prototype.size = 0.5;\n\tCurlyBracketShape.prototype.redrawPath = function(c, x, y, w, h)\n\t{\n\t\tc.setFillColor(null);\n\t\tvar s = w * Math.max(0, Math.min(1, parseFloat(mxUtils.getValue(this.style, 'size', this.size))));\n\t\tvar arcSize = mxUtils.getValue(this.style, mxConstants.STYLE_ARCSIZE, mxConstants.LINE_ARCSIZE) / 2;\n\t\tthis.addPoints(c, [new mxPoint(w, 0), new mxPoint(s, 0), new mxPoint(s, h / 2),\n\t\t                   new mxPoint(0, h / 2), new mxPoint(s, h / 2), new mxPoint(s, h),\n\t\t                   new mxPoint(w, h)], this.isRounded, arcSize, false);\n\t\tc.end();\n\t};\n\n\tmxCellRenderer.registerShape('curlyBracket', CurlyBracketShape);\n\n\t// Parallel marker shape\n\tfunction ParallelMarkerShape()\n\t{\n\t\tmxActor.call(this);\n\t};\n\tmxUtils.extend(ParallelMarkerShape, mxActor);\n\tParallelMarkerShape.prototype.redrawPath = function(c, x, y, w, h)\n\t{\n\t\tc.setStrokeWidth(1);\n\t\tc.setFillColor(this.stroke);\n\t\tvar w2 = w / 5;\n\t\tc.rect(0, 0, w2, h);\n\t\tc.fillAndStroke();\n\t\tc.rect(2 * w2, 0, w2, h);\n\t\tc.fillAndStroke();\n\t\tc.rect(4 * w2, 0, w2, h);\n\t\tc.fillAndStroke();\n\t};\n\n\tmxCellRenderer.registerShape('parallelMarker', ParallelMarkerShape);\n\n\t/**\n\t * Adds handJiggle style (jiggle=n sets jiggle)\n\t */\n\tfunction HandJiggle(canvas, defaultVariation)\n\t{\n\t\tthis.canvas = canvas;\n\t\t\n\t\t// Avoids \"spikes\" in the output\n\t\tthis.canvas.setLineJoin('round');\n\t\tthis.canvas.setLineCap('round');\n\t\t\n\t\tthis.defaultVariation = defaultVariation;\n\t\t\n\t\tthis.originalLineTo = this.canvas.lineTo;\n\t\tthis.canvas.lineTo = mxUtils.bind(this, HandJiggle.prototype.lineTo);\n\t\t\n\t\tthis.originalMoveTo = this.canvas.moveTo;\n\t\tthis.canvas.moveTo = mxUtils.bind(this, HandJiggle.prototype.moveTo);\n\t\t\n\t\tthis.originalClose = this.canvas.close;\n\t\tthis.canvas.close = mxUtils.bind(this, HandJiggle.prototype.close);\n\t\t\n\t\tthis.originalQuadTo = this.canvas.quadTo;\n\t\tthis.canvas.quadTo = mxUtils.bind(this, HandJiggle.prototype.quadTo);\n\t\t\n\t\tthis.originalCurveTo = this.canvas.curveTo;\n\t\tthis.canvas.curveTo = mxUtils.bind(this, HandJiggle.prototype.curveTo);\n\t\t\n\t\tthis.originalArcTo = this.canvas.arcTo;\n\t\tthis.canvas.arcTo = mxUtils.bind(this, HandJiggle.prototype.arcTo);\n\t};\n\t\n\tHandJiggle.prototype.moveTo = function(endX, endY)\n\t{\n\t\tthis.originalMoveTo.apply(this.canvas, arguments);\n\t\tthis.lastX = endX;\n\t\tthis.lastY = endY;\n\t\tthis.firstX = endX;\n\t\tthis.firstY = endY;\n\t};\n\t\n\tHandJiggle.prototype.close = function()\n\t{\n\t\tif (this.firstX != null && this.firstY != null)\n\t\t{\n\t\t\tthis.lineTo(this.firstX, this.firstY);\n\t\t\tthis.originalClose.apply(this.canvas, arguments);\n\t\t}\n\t\t\n\t\tthis.originalClose.apply(this.canvas, arguments);\n\t};\n\t\n\tHandJiggle.prototype.quadTo = function(x1, y1, x2, y2)\n\t{\n\t\tthis.originalQuadTo.apply(this.canvas, arguments);\n\t\tthis.lastX = x2;\n\t\tthis.lastY = y2;\n\t};\n\t\n\tHandJiggle.prototype.curveTo = function(x1, y1, x2, y2, x3, y3)\n\t{\n\t\tthis.originalCurveTo.apply(this.canvas, arguments);\n\t\tthis.lastX = x3;\n\t\tthis.lastY = y3;\n\t};\n\t\n\tHandJiggle.prototype.arcTo = function(rx, ry, angle, largeArcFlag, sweepFlag, x, y)\n\t{\n\t\tthis.originalArcTo.apply(this.canvas, arguments);\n\t\tthis.lastX = x;\n\t\tthis.lastY = y;\n\t};\n\n\tHandJiggle.prototype.lineTo = function(endX, endY)\n\t{\n\t\t// LATER: Check why this.canvas.lastX cannot be used\n\t\tif (this.lastX != null && this.lastY != null)\n\t\t{\n\t\t\tvar dx = Math.abs(endX - this.lastX);\n\t\t\tvar dy = Math.abs(endY - this.lastY);\n\t\t\tvar dist = Math.sqrt(dx * dx + dy * dy);\n\t\t\t\n\t\t\tif (dist < 2)\n\t\t\t{\n\t\t\t\tthis.originalLineTo.apply(this.canvas, arguments);\n\t\t\t\tthis.lastX = endX;\n\t\t\t\tthis.lastY = endY;\n\t\t\t\t\n\t\t\t\treturn;\n\t\t\t}\n\t\n\t\t\tvar segs = Math.round(dist / 10);\n\t\t\tvar variation = this.defaultVariation;\n\t\t\t\n\t\t\tif (segs < 5)\n\t\t\t{\n\t\t\t\tsegs = 5;\n\t\t\t\tvariation /= 3;\n\t\t\t}\n\t\t\t\n\t\t\tfunction sign(x)\n\t\t\t{\n\t\t\t    return typeof x === 'number' ? x ? x < 0 ? -1 : 1 : x === x ? 0 : NaN : NaN;\n\t\t\t}\n\t\n\t\t\tvar stepX = sign(endX - this.lastX) * dx / segs;\n\t\t\tvar stepY = sign(endY - this.lastY) * dy / segs;\n\t\n\t\t\tvar fx = dx / dist;\n\t\t\tvar fy = dy / dist;\n\t\n\t\t\tfor (var s = 0; s < segs; s++)\n\t\t\t{\n\t\t\t\tvar x = stepX * s + this.lastX;\n\t\t\t\tvar y = stepY * s + this.lastY;\n\t\n\t\t\t\tvar offset = (Math.random() - 0.5) * variation;\n\t\t\t\tthis.originalLineTo.call(this.canvas, x - offset * fy, y - offset * fx);\n\t\t\t}\n\t\t\t\n\t\t\tthis.originalLineTo.call(this.canvas, endX, endY);\n\t\t\tthis.lastX = endX;\n\t\t\tthis.lastY = endY;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.originalLineTo.apply(this.canvas, arguments);\n\t\t\tthis.lastX = endX;\n\t\t\tthis.lastY = endY;\n\t\t}\n\t};\n\t\n\tHandJiggle.prototype.destroy = function()\n\t{\n\t\t this.canvas.lineTo = this.originalLineTo;\n\t\t this.canvas.moveTo = this.originalMoveTo;\n\t\t this.canvas.close = this.originalClose;\n\t\t this.canvas.quadTo = this.originalQuadTo;\n\t\t this.canvas.curveTo = this.originalCurveTo;\n\t\t this.canvas.arcTo = this.originalArcTo;\n\t};\n\t\n\t// Installs hand jiggle in all shapes\n\tvar mxShapePaint0 = mxShape.prototype.paint;\n\tmxShape.prototype.defaultJiggle = 1.5;\n\tmxShape.prototype.paint = function(c)\n\t{\n\t\t// NOTE: getValue does not return a boolean value so !('0') would return true here and below\n\t\tif (this.style != null && mxUtils.getValue(this.style, 'comic', '0') != '0' && c.handHiggle == null)\n\t\t{\n\t\t\tc.handJiggle = new HandJiggle(c, mxUtils.getValue(this.style, 'jiggle', this.defaultJiggle));\n\t\t}\n\t\t\n\t\tmxShapePaint0.apply(this, arguments);\n\t\t\n\t\tif (c.handJiggle != null)\n\t\t{\n\t\t\tc.handJiggle.destroy();\n\t\t\tdelete c.handJiggle;\n\t\t}\n\t};\n\t\n\t// Sets default jiggle for diamond\n\tmxRhombus.prototype.defaultJiggle = 2;\n\n\t/**\n\t * Overrides to avoid call to rect\n\t */\n\tvar mxRectangleShapeIsHtmlAllowed0 = mxRectangleShape.prototype.isHtmlAllowed;\n\tmxRectangleShape.prototype.isHtmlAllowed = function()\n\t{\n\t\treturn (this.style == null || mxUtils.getValue(this.style, 'comic', '0') == '0') &&\n\t\t\tmxRectangleShapeIsHtmlAllowed0.apply(this, arguments);\n\t};\n\t\n\tvar mxRectangleShapePaintBackground0 = mxRectangleShape.prototype.paintBackground;\n\tmxRectangleShape.prototype.paintBackground = function(c, x, y, w, h)\n\t{\n\t\tif (c.handJiggle == null)\n\t\t{\n\t\t\tmxRectangleShapePaintBackground0.apply(this, arguments);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tvar events = true;\n\t\t\t\n\t\t\tif (this.style != null)\n\t\t\t{\n\t\t\t\tevents = mxUtils.getValue(this.style, mxConstants.STYLE_POINTER_EVENTS, '1') == '1';\t\t\n\t\t\t}\n\t\t\t\n\t\t\tif (events || (this.fill != null && this.fill != mxConstants.NONE) ||\n\t\t\t\t(this.stroke != null && this.stroke != mxConstants.NONE))\n\t\t\t{\n\t\t\t\tif (!events && (this.fill == null || this.fill == mxConstants.NONE))\n\t\t\t\t{\n\t\t\t\t\tc.pointerEvents = false;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tc.begin();\n\t\t\t\t\n\t\t\t\tif (this.isRounded)\n\t\t\t\t{\n\t\t\t\t\tvar r = 0;\n\t\t\t\t\t\n\t\t\t\t\tif (mxUtils.getValue(this.style, mxConstants.STYLE_ABSOLUTE_ARCSIZE, 0) == '1')\n\t\t\t\t\t{\n\t\t\t\t\t\tr = Math.min(w / 2, Math.min(h / 2, mxUtils.getValue(this.style,\n\t\t\t\t\t\t\tmxConstants.STYLE_ARCSIZE, mxConstants.LINE_ARCSIZE) / 2));\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tvar f = mxUtils.getValue(this.style, mxConstants.STYLE_ARCSIZE,\n\t\t\t\t\t\t\tmxConstants.RECTANGLE_ROUNDING_FACTOR * 100) / 100;\n\t\t\t\t\t\tr = Math.min(w * f, h * f);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tc.moveTo(x + r, y);\n\t\t\t\t\tc.lineTo(x + w - r, y);\n\t\t\t\t\tc.quadTo(x + w, y, x + w, y + r);\n\t\t\t\t\tc.lineTo(x + w, y + h - r);\n\t\t\t\t\tc.quadTo(x + w, y + h, x + w - r, y + h);\n\t\t\t\t\tc.lineTo(x + r, y + h);\n\t\t\t\t\tc.quadTo(x, y + h, x, y + h - r);\n\t\t\t\t\tc.lineTo(x, y + r);\n\t\t\t\t\tc.quadTo(x, y, x + r, y);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\t\n\t\t\t\t\tc.moveTo(x, y);\n\t\t\t\t\tc.lineTo(x + w, y);\n\t\t\t\t\tc.lineTo(x + w, y + h);\n\t\t\t\t\tc.lineTo(x, y + h);\n\t\t\t\t\tc.lineTo(x, y);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// LATER: Check if close is needed here\n\t\t\t\tc.close();\n\t\t\t\tc.end();\n\t\t\t\t\n\t\t\t\tc.fillAndStroke();\n\t\t\t}\t\t\t\n\t\t}\n\t};\n\n\t/**\n\t * Disables glass effect with hand jiggle.\n\t */\n\tvar mxRectangleShapePaintForeground0 = mxRectangleShape.prototype.paintForeground;\n\tmxRectangleShape.prototype.paintForeground = function(c, x, y, w, h)\n\t{\n\t\tif (c.handJiggle == null)\n\t\t{\n\t\t\tmxRectangleShapePaintForeground0.apply(this, arguments);\n\t\t}\n\t};\n\n\t// End of hand jiggle integration\n\t\n\t// Process Shape\n\tfunction ProcessShape()\n\t{\n\t\tmxRectangleShape.call(this);\n\t};\n\tmxUtils.extend(ProcessShape, mxRectangleShape);\n\tProcessShape.prototype.size = 0.1;\n\tProcessShape.prototype.isHtmlAllowed = function()\n\t{\n\t\treturn false;\n\t};\n\tProcessShape.prototype.getLabelBounds = function(rect)\n\t{\n\t\tif (mxUtils.getValue(this.state.style, mxConstants.STYLE_HORIZONTAL, true) ==\n\t\t\t(this.direction == null ||\n\t\t\tthis.direction == mxConstants.DIRECTION_EAST ||\n\t\t\tthis.direction == mxConstants.DIRECTION_WEST))\n\t\t{\n\t\t\tvar w = rect.width;\n\t\t\tvar h = rect.height;\n\t\t\tvar r = new mxRectangle(rect.x, rect.y, w, h);\n\t\n\t\t\tvar inset = w * Math.max(0, Math.min(1, parseFloat(mxUtils.getValue(this.style, 'size', this.size))));\n\t\n\t\t\tif (this.isRounded)\n\t\t\t{\n\t\t\t\tvar f = mxUtils.getValue(this.style, mxConstants.STYLE_ARCSIZE,\n\t\t\t\t\tmxConstants.RECTANGLE_ROUNDING_FACTOR * 100) / 100;\n\t\t\t\tinset = Math.max(inset, Math.min(w * f, h * f));\n\t\t\t}\n\t\t\t\n\t\t\tr.x += Math.round(inset);\n\t\t\tr.width -= Math.round(2 * inset);\n\t\t\t\n\t\t\treturn r;\n\t\t}\n\t\t\n\t\treturn rect;\n\t};\n\tProcessShape.prototype.paintForeground = function(c, x, y, w, h)\n\t{\n\t\tvar inset = w * Math.max(0, Math.min(1, parseFloat(mxUtils.getValue(this.style, 'size', this.size))));\n\n\t\tif (this.isRounded)\n\t\t{\n\t\t\tvar f = mxUtils.getValue(this.style, mxConstants.STYLE_ARCSIZE,\n\t\t\t\tmxConstants.RECTANGLE_ROUNDING_FACTOR * 100) / 100;\n\t\t\tinset = Math.max(inset, Math.min(w * f, h * f));\n\t\t}\n\t\t\n\t\t// Crisp rendering of inner lines\n\t\tinset = Math.round(inset);\n\t\t\n\t\tc.begin();\n\t\tc.moveTo(x + inset, y);\n\t\tc.lineTo(x + inset, y + h);\n\t\tc.moveTo(x + w - inset, y);\n\t\tc.lineTo(x + w - inset, y + h);\n\t\tc.end();\n\t\tc.stroke();\n\t\tmxRectangleShape.prototype.paintForeground.apply(this, arguments);\n\t};\n\n\tmxCellRenderer.registerShape('process', ProcessShape);\n\t\n\t// Transparent Shape\n\tfunction TransparentShape()\n\t{\n\t\tmxRectangleShape.call(this);\n\t};\n\tmxUtils.extend(TransparentShape, mxRectangleShape);\n\tTransparentShape.prototype.paintBackground = function(c, x, y, w, h)\n\t{\n\t\tc.setFillColor(mxConstants.NONE);\n\t\tc.rect(x, y, w, h);\n\t\tc.fill();\n\t};\n\tTransparentShape.prototype.paintForeground = function(c, x, y, w, h) \t{ };\n\n\tmxCellRenderer.registerShape('transparent', TransparentShape);\n\n\t// Callout shape\n\tfunction CalloutShape()\n\t{\n\t\tmxActor.call(this);\n\t};\n\tmxUtils.extend(CalloutShape, mxHexagon);\n\tCalloutShape.prototype.size = 30;\n\tCalloutShape.prototype.position = 0.5;\n\tCalloutShape.prototype.position2 = 0.5;\n\tCalloutShape.prototype.base = 20;\n\tCalloutShape.prototype.getLabelMargins = function()\n\t{\n\t\treturn new mxRectangle(0, 0, 0, parseFloat(mxUtils.getValue(\n\t\t\tthis.style, 'size', this.size)) * this.scale);\n\t};\n\tCalloutShape.prototype.isRoundable = function()\n\t{\n\t\treturn true;\n\t};\n\tCalloutShape.prototype.redrawPath = function(c, x, y, w, h)\n\t{\n\t\tvar arcSize = mxUtils.getValue(this.style, mxConstants.STYLE_ARCSIZE, mxConstants.LINE_ARCSIZE) / 2;\n\t\tvar s = Math.max(0, Math.min(h, parseFloat(mxUtils.getValue(this.style, 'size', this.size))));\n\t\tvar dx = w * Math.max(0, Math.min(1, parseFloat(mxUtils.getValue(this.style, 'position', this.position))));\n\t\tvar dx2 = w * Math.max(0, Math.min(1, parseFloat(mxUtils.getValue(this.style, 'position2', this.position2))));\n\t\tvar base = Math.max(0, Math.min(w, parseFloat(mxUtils.getValue(this.style, 'base', this.base))));\n\t\t\n\t\tthis.addPoints(c, [new mxPoint(0, 0), new mxPoint(w, 0), new mxPoint(w, h - s),\n\t\t\tnew mxPoint(Math.min(w, dx + base), h - s), new mxPoint(dx2, h),\n\t\t\tnew mxPoint(Math.max(0, dx), h - s), new mxPoint(0, h - s)],\n\t\t\tthis.isRounded, arcSize, true, [4]);\n\t};\n\n\tmxCellRenderer.registerShape('callout', CalloutShape);\n\n\t// Step shape\n\tfunction StepShape()\n\t{\n\t\tmxActor.call(this);\n\t};\n\tmxUtils.extend(StepShape, mxActor);\n\tStepShape.prototype.size = 0.2;\n\tStepShape.prototype.fixedSize = 20;\n\tStepShape.prototype.isRoundable = function()\n\t{\n\t\treturn true;\n\t};\n\tStepShape.prototype.redrawPath = function(c, x, y, w, h)\n\t{\n\t\tvar fixed = mxUtils.getValue(this.style, 'fixedSize', '0') != '0';\n\t\tvar s = (fixed) ? Math.max(0, Math.min(w, parseFloat(mxUtils.getValue(this.style, 'size', this.fixedSize)))) :\n\t\t\tw * Math.max(0, Math.min(1, parseFloat(mxUtils.getValue(this.style, 'size', this.size))));\n\t\tvar arcSize = mxUtils.getValue(this.style, mxConstants.STYLE_ARCSIZE, mxConstants.LINE_ARCSIZE) / 2;\n\t\tthis.addPoints(c, [new mxPoint(0, 0), new mxPoint(w - s, 0), new mxPoint(w, h / 2), new mxPoint(w - s, h),\n\t\t                   new mxPoint(0, h), new mxPoint(s, h / 2)], this.isRounded, arcSize, true);\n\t\tc.end();\n\t};\n\n\tmxCellRenderer.registerShape('step', StepShape);\n\n\t// Hexagon shape\n\tfunction HexagonShape()\n\t{\n\t\tmxActor.call(this);\n\t};\n\tmxUtils.extend(HexagonShape, mxHexagon);\n\tHexagonShape.prototype.size = 0.25;\n\tHexagonShape.prototype.isRoundable = function()\n\t{\n\t\treturn true;\n\t};\n\tHexagonShape.prototype.redrawPath = function(c, x, y, w, h)\n\t{\n\t\tvar s =  w * Math.max(0, Math.min(1, parseFloat(mxUtils.getValue(this.style, 'size', this.size))));\n\t\tvar arcSize = mxUtils.getValue(this.style, mxConstants.STYLE_ARCSIZE, mxConstants.LINE_ARCSIZE) / 2;\n\t\tthis.addPoints(c, [new mxPoint(s, 0), new mxPoint(w - s, 0), new mxPoint(w, 0.5 * h), new mxPoint(w - s, h),\n\t\t                   new mxPoint(s, h), new mxPoint(0, 0.5 * h)], this.isRounded, arcSize, true);\n\t};\n\n\tmxCellRenderer.registerShape('hexagon', HexagonShape);\n\n\t// Plus Shape\n\tfunction PlusShape()\n\t{\n\t\tmxRectangleShape.call(this);\n\t};\n\tmxUtils.extend(PlusShape, mxRectangleShape);\n\tPlusShape.prototype.isHtmlAllowed = function()\n\t{\n\t\treturn false;\n\t};\n\tPlusShape.prototype.paintForeground = function(c, x, y, w, h)\n\t{\n\t\tvar border = Math.min(w / 5, h / 5) + 1;\n\t\t\n\t\tc.begin();\n\t\tc.moveTo(x + w / 2, y + border);\n\t\tc.lineTo(x + w / 2, y + h - border);\n\t\tc.moveTo(x + border, y + h / 2);\n\t\tc.lineTo(x + w - border, y + h / 2);\n\t\tc.end();\n\t\tc.stroke();\n\t\tmxRectangleShape.prototype.paintForeground.apply(this, arguments);\n\t};\n\n\tmxCellRenderer.registerShape('plus', PlusShape);\n\t\n\t// Overrides painting of rhombus shape to allow for double style\n\tvar mxRhombusPaintVertexShape = mxRhombus.prototype.paintVertexShape;\n\tmxRhombus.prototype.getLabelBounds = function(rect)\n\t{\n\t\tif (this.style['double'] == 1)\n\t\t{\n\t\t\tvar margin = (Math.max(2, this.strokewidth + 1) * 2 + parseFloat(\n\t\t\t\tthis.style[mxConstants.STYLE_MARGIN] || 0)) * this.scale;\n\t\t\n\t\t\treturn new mxRectangle(rect.x + margin, rect.y + margin,\n\t\t\t\trect.width - 2 * margin, rect.height - 2 * margin);\n\t\t}\n\t\t\n\t\treturn rect;\n\t};\n\tmxRhombus.prototype.paintVertexShape = function(c, x, y, w, h)\n\t{\n\t\tmxRhombusPaintVertexShape.apply(this, arguments);\n\n\t\tif (!this.outline && this.style['double'] == 1)\n\t\t{\n\t\t\tvar margin = Math.max(2, this.strokewidth + 1) * 2 +\n\t\t\t\tparseFloat(this.style[mxConstants.STYLE_MARGIN] || 0);\n\t\t\tx += margin;\n\t\t\ty += margin;\n\t\t\tw -= 2 * margin;\n\t\t\th -= 2 * margin;\n\t\t\t\n\t\t\tif (w > 0 && h > 0)\n\t\t\t{\n\t\t\t\tc.setShadow(false);\n\t\t\t\t\n\t\t\t\t// Workaround for closure compiler bug where the lines with x and y above\n\t\t\t\t// are removed if arguments is used as second argument in call below.\n\t\t\t\tmxRhombusPaintVertexShape.apply(this, [c, x, y, w, h]);\n\t\t\t}\n\t\t}\n\t};\n\n\t// CompositeShape\n\tfunction ExtendedShape()\n\t{\n\t\tmxRectangleShape.call(this);\n\t};\n\tmxUtils.extend(ExtendedShape, mxRectangleShape);\n\tExtendedShape.prototype.isHtmlAllowed = function()\n\t{\n\t\treturn false;\n\t};\n\tExtendedShape.prototype.getLabelBounds = function(rect)\n\t{\n\t\tif (this.style['double'] == 1)\n\t\t{\n\t\t\tvar margin = (Math.max(2, this.strokewidth + 1) + parseFloat(\n\t\t\t\tthis.style[mxConstants.STYLE_MARGIN] || 0)) * this.scale;\n\t\t\n\t\t\treturn new mxRectangle(rect.x + margin, rect.y + margin,\n\t\t\t\trect.width - 2 * margin, rect.height - 2 * margin);\n\t\t}\n\t\t\n\t\treturn rect;\n\t};\n\t\n\tExtendedShape.prototype.paintForeground = function(c, x, y, w, h)\n\t{\n\t\tif (this.style != null)\n\t\t{\n\t\t\tif (!this.outline && this.style['double'] == 1)\n\t\t\t{\n\t\t\t\tvar margin = Math.max(2, this.strokewidth + 1) + parseFloat(this.style[mxConstants.STYLE_MARGIN] || 0);\n\t\t\t\tx += margin;\n\t\t\t\ty += margin;\n\t\t\t\tw -= 2 * margin;\n\t\t\t\th -= 2 * margin;\n\t\t\t\t\n\t\t\t\tif (w > 0 && h > 0)\n\t\t\t\t{\n\t\t\t\t\tmxRectangleShape.prototype.paintBackground.apply(this, arguments);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tc.setDashed(false);\n\t\t\t\n\t\t\t// Draws the symbols defined in the style. The symbols are\n\t\t\t// numbered from 1...n. Possible postfixes are align,\n\t\t\t// verticalAlign, spacing, arcSpacing, width, height\n\t\t\tvar counter = 0;\n\t\t\tvar shape = null;\n\t\t\t\n\t\t\tdo\n\t\t\t{\n\t\t\t\tshape = mxCellRenderer.defaultShapes[this.style['symbol' + counter]];\n\t\t\t\t\n\t\t\t\tif (shape != null)\n\t\t\t\t{\n\t\t\t\t\tvar align = this.style['symbol' + counter + 'Align'];\n\t\t\t\t\tvar valign = this.style['symbol' + counter + 'VerticalAlign'];\n\t\t\t\t\tvar width = this.style['symbol' + counter + 'Width'];\n\t\t\t\t\tvar height = this.style['symbol' + counter + 'Height'];\n\t\t\t\t\tvar spacing = this.style['symbol' + counter + 'Spacing'] || 0;\n\t\t\t\t\tvar vspacing = this.style['symbol' + counter + 'VSpacing'] || spacing;\n\t\t\t\t\tvar arcspacing = this.style['symbol' + counter + 'ArcSpacing'];\n\t\t\t\t\t\n\t\t\t\t\tif (arcspacing != null)\n\t\t\t\t\t{\n\t\t\t\t\t\tvar arcSize = this.getArcSize(w + this.strokewidth, h + this.strokewidth) * arcspacing;\n\t\t\t\t\t\tspacing += arcSize;\n\t\t\t\t\t\tvspacing += arcSize;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tvar x2 = x;\n\t\t\t\t\tvar y2 = y;\n\t\t\t\t\t\n\t\t\t\t\tif (align == mxConstants.ALIGN_CENTER)\n\t\t\t\t\t{\n\t\t\t\t\t\tx2 += (w - width) / 2;\n\t\t\t\t\t}\n\t\t\t\t\telse if (align == mxConstants.ALIGN_RIGHT)\n\t\t\t\t\t{\n\t\t\t\t\t\tx2 += w - width - spacing;\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tx2 += spacing;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif (valign == mxConstants.ALIGN_MIDDLE)\n\t\t\t\t\t{\n\t\t\t\t\t\ty2 += (h - height) / 2;\n\t\t\t\t\t}\n\t\t\t\t\telse if (valign == mxConstants.ALIGN_BOTTOM)\n\t\t\t\t\t{\n\t\t\t\t\t\ty2 += h - height - vspacing;\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\ty2 += vspacing;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tc.save();\n\t\t\t\t\t\n\t\t\t\t\t// Small hack to pass style along into subshape\n\t\t\t\t\tvar tmp = new shape();\n\t\t\t\t\t// TODO: Clone style and override settings (eg. strokewidth)\n\t\t\t\t\ttmp.style = this.style;\n\t\t\t\t\tshape.prototype.paintVertexShape.call(tmp, c, x2, y2, width, height);\n\t\t\t\t\tc.restore();\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tcounter++;\n\t\t\t}\n\t\t\twhile (shape != null);\n\t\t}\n\t\t\n\t\t// Paints glass effect\n\t\tmxRectangleShape.prototype.paintForeground.apply(this, arguments);\n\t};\n\n\tmxCellRenderer.registerShape('ext', ExtendedShape);\n\t\n\t// Tape Shape, supports size style\n\tfunction MessageShape()\n\t{\n\t\tmxCylinder.call(this);\n\t};\n\tmxUtils.extend(MessageShape, mxCylinder);\n\tMessageShape.prototype.redrawPath = function(path, x, y, w, h, isForeground)\n\t{\n\t\tif (isForeground)\n\t\t{\n\t\t\tpath.moveTo(0, 0);\n\t\t\tpath.lineTo(w / 2, h / 2);\n\t\t\tpath.lineTo(w, 0);\n\t\t\tpath.end();\n\t\t}\n\t\telse\n\t\t{\n\t\t\tpath.moveTo(0, 0);\n\t\t\tpath.lineTo(w, 0);\n\t\t\tpath.lineTo(w, h);\n\t\t\tpath.lineTo(0, h);\n\t\t\tpath.close();\n\t\t}\n\t};\n\n\tmxCellRenderer.registerShape('message', MessageShape);\n\t\n\t// UML Actor Shape\n\tfunction UmlActorShape()\n\t{\n\t\tmxShape.call(this);\n\t};\n\tmxUtils.extend(UmlActorShape, mxShape);\n\tUmlActorShape.prototype.paintBackground = function(c, x, y, w, h)\n\t{\n\t\tc.translate(x, y);\n\n\t\t// Head\n\t\tc.ellipse(w / 4, 0, w / 2, h / 4);\n\t\tc.fillAndStroke();\n\n\t\tc.begin();\n\t\tc.moveTo(w / 2, h / 4);\n\t\tc.lineTo(w / 2, 2 * h / 3);\n\t\t\n\t\t// Arms\n\t\tc.moveTo(w / 2, h / 3);\n\t\tc.lineTo(0, h / 3);\n\t\tc.moveTo(w / 2, h / 3);\n\t\tc.lineTo(w, h / 3);\n\t\t\n\t\t// Legs\n\t\tc.moveTo(w / 2, 2 * h / 3);\n\t\tc.lineTo(0, h);\n\t\tc.moveTo(w / 2, 2 * h / 3);\n\t\tc.lineTo(w, h);\n\t\tc.end();\n\t\t\n\t\tc.stroke();\n\t};\n\n\t// Replaces existing actor shape\n\tmxCellRenderer.registerShape('umlActor', UmlActorShape);\n\t\n\t// UML Boundary Shape\n\tfunction UmlBoundaryShape()\n\t{\n\t\tmxShape.call(this);\n\t};\n\tmxUtils.extend(UmlBoundaryShape, mxShape);\n\tUmlBoundaryShape.prototype.getLabelMargins = function(rect)\n\t{\n\t\treturn new mxRectangle(rect.width / 6, 0, 0, 0);\n\t};\n\tUmlBoundaryShape.prototype.paintBackground = function(c, x, y, w, h)\n\t{\n\t\tc.translate(x, y);\n\t\t\n\t\t// Base line\n\t\tc.begin();\n\t\tc.moveTo(0, h / 4);\n\t\tc.lineTo(0, h * 3 / 4);\n\t\tc.end();\n\t\tc.stroke();\n\t\t\n\t\t// Horizontal line\n\t\tc.begin();\n\t\tc.moveTo(0, h / 2);\n\t\tc.lineTo(w / 6, h / 2);\n\t\tc.end();\n\t\tc.stroke();\n\t\t\n\t\t// Circle\n\t\tc.ellipse(w / 6, 0, w * 5 / 6, h);\n\t\tc.fillAndStroke();\n\t};\n\n\t// Replaces existing actor shape\n\tmxCellRenderer.registerShape('umlBoundary', UmlBoundaryShape);\n\n\t// UML Entity Shape\n\tfunction UmlEntityShape()\n\t{\n\t\tmxEllipse.call(this);\n\t};\n\tmxUtils.extend(UmlEntityShape, mxEllipse);\n\tUmlEntityShape.prototype.paintVertexShape = function(c, x, y, w, h)\n\t{\n\t\tmxEllipse.prototype.paintVertexShape.apply(this, arguments);\n\t\t\n\t\tc.begin();\n\t\tc.moveTo(x + w / 8, y + h);\n\t\tc.lineTo(x + w * 7 / 8, y + h);\n\t\tc.end();\n\t\tc.stroke();\n\t};\n\n\tmxCellRenderer.registerShape('umlEntity', UmlEntityShape);\n\n\t// UML Destroy Shape\n\tfunction UmlDestroyShape()\n\t{\n\t\tmxShape.call(this);\n\t};\n\tmxUtils.extend(UmlDestroyShape, mxShape);\n\tUmlDestroyShape.prototype.paintVertexShape = function(c, x, y, w, h)\n\t{\n\t\tc.translate(x, y);\n\n\t\tc.begin();\n\t\tc.moveTo(w, 0);\n\t\tc.lineTo(0, h);\n\t\tc.moveTo(0, 0);\n\t\tc.lineTo(w, h);\n\t\tc.end();\n\t\tc.stroke();\n\t};\n\n\tmxCellRenderer.registerShape('umlDestroy', UmlDestroyShape);\n\t\n\t// UML Control Shape\n\tfunction UmlControlShape()\n\t{\n\t\tmxShape.call(this);\n\t};\n\tmxUtils.extend(UmlControlShape, mxShape);\n\tUmlControlShape.prototype.getLabelBounds = function(rect)\n\t{\n\t\treturn new mxRectangle(rect.x, rect.y + rect.height / 8, rect.width, rect.height * 7 / 8);\n\t};\n\tUmlControlShape.prototype.paintBackground = function(c, x, y, w, h)\n\t{\n\t\tc.translate(x, y);\n\n\t\t// Upper line\n\t\tc.begin();\n\t\tc.moveTo(w * 3 / 8, h / 8 * 1.1);\n\t\tc.lineTo(w * 5 / 8, 0);\n\t\tc.end();\n\t\tc.stroke();\n\t\t\n\t\t// Circle\n\t\tc.ellipse(0, h / 8, w, h * 7 / 8);\n\t\tc.fillAndStroke();\n\t};\n\tUmlControlShape.prototype.paintForeground = function(c, x, y, w, h)\n\t{\n\t\t// Lower line\n\t\tc.begin();\n\t\tc.moveTo(w * 3 / 8, h / 8 * 1.1);\n\t\tc.lineTo(w * 5 / 8, h / 4);\n\t\tc.end();\n\t\tc.stroke();\n\t};\n\n\t// Replaces existing actor shape\n\tmxCellRenderer.registerShape('umlControl', UmlControlShape);\n\n\t// UML Lifeline Shape\n\tfunction UmlLifeline()\n\t{\n\t\tmxRectangleShape.call(this);\n\t};\n\tmxUtils.extend(UmlLifeline, mxRectangleShape);\n\tUmlLifeline.prototype.size = 40;\n\tUmlLifeline.prototype.isHtmlAllowed = function()\n\t{\n\t\treturn false;\n\t};\n\tUmlLifeline.prototype.getLabelBounds = function(rect)\n\t{\n\t\tvar size = Math.max(0, Math.min(rect.height, parseFloat(\n\t\t\tmxUtils.getValue(this.style, 'size', this.size)) * this.scale));\n\t\t\n\t\treturn new mxRectangle(rect.x, rect.y, rect.width, size);\n\t};\n\tUmlLifeline.prototype.paintBackground = function(c, x, y, w, h)\n\t{\n\t\tvar size = Math.max(0, Math.min(h, parseFloat(mxUtils.getValue(this.style, 'size', this.size))));\n\t\tvar participant = mxUtils.getValue(this.style, 'participant');\n\t\t\n\t\tif (participant == null || this.state == null)\n\t\t{\n\t\t\tmxRectangleShape.prototype.paintBackground.call(this, c, x, y, w, size);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tvar ctor = this.state.view.graph.cellRenderer.getShape(participant);\n\t\t\t\n\t\t\tif (ctor != null && ctor != UmlLifeline)\n\t\t\t{\n\t\t\t\tvar shape = new ctor();\n\t\t\t\tshape.apply(this.state);\n\t\t\t\tc.save();\n\t\t\t\tshape.paintVertexShape(c, x, y, w, size);\n\t\t\t\tc.restore();\n\t\t\t}\n\t\t}\n\t\t\n\t\tif (size < h)\n\t\t{\n\t\t\tc.setDashed(true);\n\t\t\tc.begin();\n\t\t\tc.moveTo(x + w / 2, y + size);\n\t\t\tc.lineTo(x + w / 2, y + h);\n\t\t\tc.end();\n\t\t\tc.stroke();\n\t\t}\n\t};\n\tUmlLifeline.prototype.paintForeground = function(c, x, y, w, h)\n\t{\n\t\tvar size = Math.max(0, Math.min(h, parseFloat(mxUtils.getValue(this.style, 'size', this.size))));\n\t\tmxRectangleShape.prototype.paintForeground.call(this, c, x, y, w, Math.min(h, size));\n\t};\n\n\tmxCellRenderer.registerShape('umlLifeline', UmlLifeline);\n\t\n\t// UML Frame Shape\n\tfunction UmlFrame()\n\t{\n\t\tmxShape.call(this);\n\t};\n\tmxUtils.extend(UmlFrame, mxShape);\n\tUmlFrame.prototype.width = 60;\n\tUmlFrame.prototype.height = 30;\n\tUmlFrame.prototype.corner = 10;\n\tUmlFrame.prototype.getLabelMargins = function(rect)\n\t{\n\t\treturn new mxRectangle(0, 0,\n\t\t\trect.width - (parseFloat(mxUtils.getValue(this.style, 'width', this.width) * this.scale)),\n\t\t\trect.height - (parseFloat(mxUtils.getValue(this.style, 'height', this.height) * this.scale)));\n\t};\n\tUmlFrame.prototype.paintBackground = function(c, x, y, w, h)\n\t{\n\t\tvar co = this.corner;\n\t\tvar w0 = Math.min(w, Math.max(co, parseFloat(mxUtils.getValue(this.style, 'width', this.width))));\n\t\tvar h0 = Math.min(h, Math.max(co * 1.5, parseFloat(mxUtils.getValue(this.style, 'height', this.height))));\n\t\tvar bg = mxUtils.getValue(this.style, mxConstants.STYLE_SWIMLANE_FILLCOLOR, mxConstants.NONE);\n\t\t\n\t\tif (bg != mxConstants.NONE)\n\t\t{\n\t\t\tc.setFillColor(bg);\n\t\t\tc.rect(x, y, w, h);\n\t\t\tc.fill();\n\t\t}\n\t\t\n\t\tif (this.fill != null && this.fill != mxConstants.NONE && this.gradient && this.gradient != mxConstants.NONE)\n\t\t{\n\t\t\tvar b = this.getGradientBounds(c, x, y, w, h);\n\t\t\tc.setGradient(this.fill, this.gradient, x, y, w, h, this.gradientDirection);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tc.setFillColor(this.fill);\n\t\t}\n\n\t\tc.begin();\n\t\tc.moveTo(x, y);\n\t\tc.lineTo(x + w0, y);\n\t\tc.lineTo(x + w0, y + Math.max(0, h0 - co * 1.5));\n\t\tc.lineTo(x + Math.max(0, w0 - co), y + h0);\n\t\tc.lineTo(x, y + h0);\n\t\tc.close();\n\t\tc.fillAndStroke();\n\t\t\n\t\tc.begin();\n\t\tc.moveTo(x + w0, y);\n\t\tc.lineTo(x + w, y);\n\t\tc.lineTo(x + w, y + h);\n\t\tc.lineTo(x, y + h);\n\t\tc.lineTo(x, y + h0);\n\t\tc.stroke();\n\t};\n\n\tmxCellRenderer.registerShape('umlFrame', UmlFrame);\n\t\n\tmxPerimeter.LifelinePerimeter = function (bounds, vertex, next, orthogonal)\n\t{\n\t\tvar size = UmlLifeline.prototype.size;\n\t\t\n\t\tif (vertex != null)\n\t\t{\n\t\t\tsize = mxUtils.getValue(vertex.style, 'size', size) * vertex.view.scale;\n\t\t}\n\t\t\n\t\tvar sw = (parseFloat(vertex.style[mxConstants.STYLE_STROKEWIDTH] || 1) * vertex.view.scale / 2) - 1;\n\n\t\tif (next.x < bounds.getCenterX())\n\t\t{\n\t\t\tsw += 1;\n\t\t\tsw *= -1;\n\t\t}\n\t\t\n\t\treturn new mxPoint(bounds.getCenterX() + sw, Math.min(bounds.y + bounds.height,\n\t\t\t\tMath.max(bounds.y + size, next.y)));\n\t};\n\t\n\tmxStyleRegistry.putValue('lifelinePerimeter', mxPerimeter.LifelinePerimeter);\n\t\n\tmxPerimeter.OrthogonalPerimeter = function (bounds, vertex, next, orthogonal)\n\t{\n\t\torthogonal = true;\n\t\t\n\t\treturn mxPerimeter.RectanglePerimeter.apply(this, arguments);\n\t};\n\t\n\tmxStyleRegistry.putValue('orthogonalPerimeter', mxPerimeter.OrthogonalPerimeter);\n\n\tmxPerimeter.BackbonePerimeter = function (bounds, vertex, next, orthogonal)\n\t{\n\t\tvar sw = (parseFloat(vertex.style[mxConstants.STYLE_STROKEWIDTH] || 1) * vertex.view.scale / 2) - 1;\n\t\t\n\t\tif (vertex.style['backboneSize'] != null)\n\t\t{\n\t\t\tsw += (parseFloat(vertex.style['backboneSize']) * vertex.view.scale / 2) - 1;\n\t\t}\n\t\t\n\t\tif (vertex.style[mxConstants.STYLE_DIRECTION] == 'south' ||\n\t\t\tvertex.style[mxConstants.STYLE_DIRECTION] == 'north')\n\t\t{\n\t\t\tif (next.x < bounds.getCenterX())\n\t\t\t{\n\t\t\t\tsw += 1;\n\t\t\t\tsw *= -1;\n\t\t\t}\n\t\t\t\n\t\t\treturn new mxPoint(bounds.getCenterX() + sw, Math.min(bounds.y + bounds.height,\n\t\t\t\t\tMath.max(bounds.y, next.y)));\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (next.y < bounds.getCenterY())\n\t\t\t{\n\t\t\t\tsw += 1;\n\t\t\t\tsw *= -1;\n\t\t\t}\n\t\t\t\n\t\t\treturn new mxPoint(Math.min(bounds.x + bounds.width, Math.max(bounds.x, next.x)),\n\t\t\t\tbounds.getCenterY() + sw);\n\t\t}\n\t};\n\t\n\tmxStyleRegistry.putValue('backbonePerimeter', mxPerimeter.BackbonePerimeter);\n\n\t// Callout Perimeter\n\tmxPerimeter.CalloutPerimeter = function (bounds, vertex, next, orthogonal)\n\t{\n\t\treturn mxPerimeter.RectanglePerimeter(mxUtils.getDirectedBounds(bounds, new mxRectangle(0, 0, 0,\n\t\t\tMath.max(0, Math.min(bounds.height, parseFloat(mxUtils.getValue(vertex.style, 'size',\n\t\t\tCalloutShape.prototype.size)) * vertex.view.scale))),\n\t\t\tvertex.style), vertex, next, orthogonal);\n\t};\n\t\n\tmxStyleRegistry.putValue('calloutPerimeter', mxPerimeter.CalloutPerimeter);\n\t\n\t// Parallelogram Perimeter\n\tmxPerimeter.ParallelogramPerimeter = function (bounds, vertex, next, orthogonal)\n\t{\n\t\tvar size = ParallelogramShape.prototype.size;\n\t\t\n\t\tif (vertex != null)\n\t\t{\n\t\t\tsize = mxUtils.getValue(vertex.style, 'size', size);\n\t\t}\n\t\t\n\t\tvar x = bounds.x;\n\t\tvar y = bounds.y;\n\t\tvar w = bounds.width;\n\t\tvar h = bounds.height;\n\n\t\tvar direction = (vertex != null) ? mxUtils.getValue(\n\t\t\tvertex.style, mxConstants.STYLE_DIRECTION,\n\t\t\tmxConstants.DIRECTION_EAST) : mxConstants.DIRECTION_EAST;\n\t\tvar vertical = direction == mxConstants.DIRECTION_NORTH ||\n\t\t\tdirection == mxConstants.DIRECTION_SOUTH;\n\t\tvar points;\n\t\t\n\t\tif (vertical)\n\t\t{\n\t\t\tvar dy = h * Math.max(0, Math.min(1, size));\n\t\t\tpoints = [new mxPoint(x, y), new mxPoint(x + w, y + dy),\n\t\t\t\t\t\tnew mxPoint(x + w, y + h), new mxPoint(x, y + h - dy), new mxPoint(x, y)];\n\t\t}\n\t\telse\n\t\t{\n\t\t\tvar dx = w * Math.max(0, Math.min(1, size));\n\t\t\tpoints = [new mxPoint(x + dx, y), new mxPoint(x + w, y),\n\t\t\t\t\t\t\tnew mxPoint(x + w - dx, y + h), new mxPoint(x, y + h), new mxPoint(x + dx, y)];\n\t\t}\t\n\t\t\n\t\tvar cx = bounds.getCenterX();\n\t\tvar cy = bounds.getCenterY();\n\t\t\n\t\tvar p1 = new mxPoint(cx, cy);\n\t\t\n\t\tif (orthogonal)\n\t\t{\n\t\t\tif (next.x < x || next.x > x + w)\n\t\t\t{\n\t\t\t\tp1.y = next.y;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tp1.x = next.x;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn mxUtils.getPerimeterPoint(points, p1, next);\n\t};\n\t\n\tmxStyleRegistry.putValue('parallelogramPerimeter', mxPerimeter.ParallelogramPerimeter);\n\t\n\t// Trapezoid Perimeter\n\tmxPerimeter.TrapezoidPerimeter = function (bounds, vertex, next, orthogonal)\n\t{\n\t\tvar size = TrapezoidShape.prototype.size;\n\t\t\n\t\tif (vertex != null)\n\t\t{\n\t\t\tsize = mxUtils.getValue(vertex.style, 'size', size);\n\t\t}\n\t\t\n\t\tvar x = bounds.x;\n\t\tvar y = bounds.y;\n\t\tvar w = bounds.width;\n\t\tvar h = bounds.height;\n\n\t\tvar direction = (vertex != null) ? mxUtils.getValue(\n\t\t\t\tvertex.style, mxConstants.STYLE_DIRECTION,\n\t\t\t\tmxConstants.DIRECTION_EAST) : mxConstants.DIRECTION_EAST;\n\t\tvar points;\n\t\t\n\t\tif (direction == mxConstants.DIRECTION_EAST)\n\t\t{\n\t\t\tvar dx = w * Math.max(0, Math.min(1, size));\n\t\t\tpoints = [new mxPoint(x + dx, y), new mxPoint(x + w - dx, y),\n\t\t\t\t\t\tnew mxPoint(x + w, y + h), new mxPoint(x, y + h), new mxPoint(x + dx, y)];\n\t\t}\n\t\telse if (direction == mxConstants.DIRECTION_WEST)\n\t\t{\n\t\t\tvar dx = w * Math.max(0, Math.min(1, size));\n\t\t\tpoints = [new mxPoint(x, y), new mxPoint(x + w, y),\n\t\t\t\t\t\tnew mxPoint(x + w - dx, y + h), new mxPoint(x + dx, y + h), new mxPoint(x, y)];\n\t\t}\n\t\telse if (direction == mxConstants.DIRECTION_NORTH)\n\t\t{\n\t\t\tvar dy = h * Math.max(0, Math.min(1, size));\n\t\t\tpoints = [new mxPoint(x, y + dy), new mxPoint(x + w, y),\n\t\t\t\t\t\tnew mxPoint(x + w, y + h), new mxPoint(x, y + h - dy), new mxPoint(x, y + dy)];\n\t\t}\n\t\telse\n\t\t{\n\t\t\tvar dy = h * Math.max(0, Math.min(1, size));\n\t\t\tpoints = [new mxPoint(x, y), new mxPoint(x + w, y + dy),\n\t\t\t\t\t\tnew mxPoint(x + w, y + h - dy), new mxPoint(x, y + h), new mxPoint(x, y)];\n\t\t}\t\t\n\n\t\tvar cx = bounds.getCenterX();\n\t\tvar cy = bounds.getCenterY();\n\t\t\n\t\tvar p1 = new mxPoint(cx, cy);\n\t\t\n\t\tif (orthogonal)\n\t\t{\n\t\t\tif (next.x < x || next.x > x + w)\n\t\t\t{\n\t\t\t\tp1.y = next.y;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tp1.x = next.x;\n\t\t\t}\n\t\t}\n\n\t\treturn mxUtils.getPerimeterPoint(points, p1, next);\n\t};\n\t\n\tmxStyleRegistry.putValue('trapezoidPerimeter', mxPerimeter.TrapezoidPerimeter);\n\t\n\t// Step Perimeter\n\tmxPerimeter.StepPerimeter = function (bounds, vertex, next, orthogonal)\n\t{\n\t\tvar fixed = mxUtils.getValue(vertex.style, 'fixedSize', '0') != '0';\n\t\tvar size = (fixed) ? StepShape.prototype.fixedSize : StepShape.prototype.size;\n\t\t\n\t\tif (vertex != null)\n\t\t{\n\t\t\tsize = mxUtils.getValue(vertex.style, 'size', size);\n\t\t}\n\t\t\n\t\tvar x = bounds.x;\n\t\tvar y = bounds.y;\n\t\tvar w = bounds.width;\n\t\tvar h = bounds.height;\n\n\t\tvar cx = bounds.getCenterX();\n\t\tvar cy = bounds.getCenterY();\n\t\t\n\t\tvar direction = (vertex != null) ? mxUtils.getValue(\n\t\t\t\tvertex.style, mxConstants.STYLE_DIRECTION,\n\t\t\t\tmxConstants.DIRECTION_EAST) : mxConstants.DIRECTION_EAST;\n\t\tvar points;\n\t\t\n\t\tif (direction == mxConstants.DIRECTION_EAST)\n\t\t{\n\t\t\tvar dx = (fixed) ? Math.max(0, Math.min(w, size)) : w * Math.max(0, Math.min(1, size));\n\t\t\tpoints = [new mxPoint(x, y), new mxPoint(x + w - dx, y), new mxPoint(x + w, cy),\n\t\t\t\t\t\t\tnew mxPoint(x + w - dx, y + h), new mxPoint(x, y + h),\n\t\t\t\t\t\t\tnew mxPoint(x + dx, cy), new mxPoint(x, y)];\n\t\t}\n\t\telse if (direction == mxConstants.DIRECTION_WEST)\n\t\t{\n\t\t\tvar dx = (fixed) ? Math.max(0, Math.min(w, size)) : w * Math.max(0, Math.min(1, size));\n\t\t\tpoints = [new mxPoint(x + dx, y), new mxPoint(x + w, y), new mxPoint(x + w - dx, cy),\n\t\t\t\t\t\t\tnew mxPoint(x + w, y + h), new mxPoint(x + dx, y + h),\n\t\t\t\t\t\t\tnew mxPoint(x, cy), new mxPoint(x + dx, y)];\n\t\t}\n\t\telse if (direction == mxConstants.DIRECTION_NORTH)\n\t\t{\n\t\t\tvar dy = (fixed) ? Math.max(0, Math.min(h, size)) : h * Math.max(0, Math.min(1, size));\n\t\t\tpoints = [new mxPoint(x, y + dy), new mxPoint(cx, y), new mxPoint(x + w, y + dy),\n\t\t\t\t\t\t\tnew mxPoint(x + w, y + h), new mxPoint(cx, y + h - dy),\n\t\t\t\t\t\t\tnew mxPoint(x, y + h), new mxPoint(x, y + dy)];\n\t\t}\n\t\telse\n\t\t{\n\t\t\tvar dy = (fixed) ? Math.max(0, Math.min(h, size)) : h * Math.max(0, Math.min(1, size));\n\t\t\tpoints = [new mxPoint(x, y), new mxPoint(cx, y + dy), new mxPoint(x + w, y),\n\t\t\t\t\t\t\tnew mxPoint(x + w, y + h - dy), new mxPoint(cx, y + h),\n\t\t\t\t\t\t\tnew mxPoint(x, y + h - dy), new mxPoint(x, y)];\n\t\t}\t\t\n\t\t\n\t\tvar p1 = new mxPoint(cx, cy);\n\t\t\n\t\tif (orthogonal)\n\t\t{\n\t\t\tif (next.x < x || next.x > x + w)\n\t\t\t{\n\t\t\t\tp1.y = next.y;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tp1.x = next.x;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn mxUtils.getPerimeterPoint(points, p1, next);\n\t};\n\t\n\tmxStyleRegistry.putValue('stepPerimeter', mxPerimeter.StepPerimeter);\n\t\n\t// Hexagon Perimeter 2 (keep existing one)\n\tmxPerimeter.HexagonPerimeter2 = function (bounds, vertex, next, orthogonal)\n\t{\n\t\tvar size = HexagonShape.prototype.size;\n\t\t\n\t\tif (vertex != null)\n\t\t{\n\t\t\tsize = mxUtils.getValue(vertex.style, 'size', size);\n\t\t}\n\t\t\n\t\tvar x = bounds.x;\n\t\tvar y = bounds.y;\n\t\tvar w = bounds.width;\n\t\tvar h = bounds.height;\n\n\t\tvar cx = bounds.getCenterX();\n\t\tvar cy = bounds.getCenterY();\n\t\t\n\t\tvar direction = (vertex != null) ? mxUtils.getValue(\n\t\t\tvertex.style, mxConstants.STYLE_DIRECTION,\n\t\t\tmxConstants.DIRECTION_EAST) : mxConstants.DIRECTION_EAST;\n\t\tvar vertical = direction == mxConstants.DIRECTION_NORTH ||\n\t\t\tdirection == mxConstants.DIRECTION_SOUTH;\n\t\tvar points;\n\t\t\n\t\tif (vertical)\n\t\t{\n\t\t\tvar dy = h * Math.max(0, Math.min(1, size));\n\t\t\tpoints = [new mxPoint(cx, y), new mxPoint(x + w, y + dy), new mxPoint(x + w, y + h - dy),\n\t\t\t\t\t\t\tnew mxPoint(cx, y + h), new mxPoint(x, y + h - dy),\n\t\t\t\t\t\t\tnew mxPoint(x, y + dy), new mxPoint(cx, y)];\n\t\t}\n\t\telse\n\t\t{\n\t\t\tvar dx = w * Math.max(0, Math.min(1, size));\n\t\t\tpoints = [new mxPoint(x + dx, y), new mxPoint(x + w - dx, y), new mxPoint(x + w, cy),\n\t\t\t\t\t\tnew mxPoint(x + w - dx, y + h), new mxPoint(x + dx, y + h),\n\t\t\t\t\t\tnew mxPoint(x, cy), new mxPoint(x + dx, y)];\n\t\t}\t\t\n\n\t\tvar p1 = new mxPoint(cx, cy);\n\t\t\n\t\tif (orthogonal)\n\t\t{\n\t\t\tif (next.x < x || next.x > x + w)\n\t\t\t{\n\t\t\t\tp1.y = next.y;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tp1.x = next.x;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn mxUtils.getPerimeterPoint(points, p1, next);\n\t};\n\t\n\tmxStyleRegistry.putValue('hexagonPerimeter2', mxPerimeter.HexagonPerimeter2);\n\t\n\t// Provided Interface Shape (aka Lollipop)\n\tfunction LollipopShape()\n\t{\n\t\tmxShape.call(this);\n\t};\n\tmxUtils.extend(LollipopShape, mxShape);\n\tLollipopShape.prototype.size = 10;\n\tLollipopShape.prototype.paintBackground = function(c, x, y, w, h)\n\t{\n\t\tvar sz = parseFloat(mxUtils.getValue(this.style, 'size', this.size));\n\t\tc.translate(x, y);\n\t\t\n\t\tc.ellipse((w - sz) / 2, 0, sz, sz);\n\t\tc.fillAndStroke();\n\n\t\tc.begin();\n\t\tc.moveTo(w / 2, sz);\n\t\tc.lineTo(w / 2, h);\n\t\tc.end();\n\t\tc.stroke();\n\t};\n\n\tmxCellRenderer.registerShape('lollipop', LollipopShape);\n\n\t// Required Interface Shape\n\tfunction RequiresShape()\n\t{\n\t\tmxShape.call(this);\n\t};\n\tmxUtils.extend(RequiresShape, mxShape);\n\tRequiresShape.prototype.size = 10;\n\tRequiresShape.prototype.inset = 2;\n\tRequiresShape.prototype.paintBackground = function(c, x, y, w, h)\n\t{\n\t\tvar sz = parseFloat(mxUtils.getValue(this.style, 'size', this.size));\n\t\tvar inset = parseFloat(mxUtils.getValue(this.style, 'inset', this.inset)) + this.strokewidth;\n\t\tc.translate(x, y);\n\n\t\tc.begin();\n\t\tc.moveTo(w / 2, sz + inset);\n\t\tc.lineTo(w / 2, h);\n\t\tc.end();\n\t\tc.stroke();\n\t\t\n\t\tc.begin();\n\t\tc.moveTo((w - sz) / 2 - inset, sz / 2);\n\t\tc.quadTo((w - sz) / 2 - inset, sz + inset, w / 2, sz + inset);\n\t\tc.quadTo((w + sz) / 2 + inset, sz + inset, (w + sz) / 2 + inset, sz / 2);\n\t\tc.end();\n\t\tc.stroke();\n\t};\n\n\tmxCellRenderer.registerShape('requires', RequiresShape);\n\n\t// Required Interface Shape\n\tfunction RequiredInterfaceShape()\n\t{\n\t\tmxShape.call(this);\n\t};\n\tmxUtils.extend(RequiredInterfaceShape, mxShape);\n\t\n\tRequiredInterfaceShape.prototype.paintBackground = function(c, x, y, w, h)\n\t{\n\t\tc.translate(x, y);\n\n\t\tc.begin();\n\t\tc.moveTo(0, 0);\n\t\tc.quadTo(w, 0, w, h / 2);\n\t\tc.quadTo(w, h, 0, h);\n\t\tc.end();\n\t\tc.stroke();\n\t};\n\n\tmxCellRenderer.registerShape('requiredInterface', RequiredInterfaceShape);\n\n\t// Provided and Required Interface Shape\n\tfunction ProvidedRequiredInterfaceShape()\n\t{\n\t\tmxShape.call(this);\n\t};\n\tmxUtils.extend(ProvidedRequiredInterfaceShape, mxShape);\n\tProvidedRequiredInterfaceShape.prototype.inset = 2;\n\tProvidedRequiredInterfaceShape.prototype.paintBackground = function(c, x, y, w, h)\n\t{\n\t\tvar inset = parseFloat(mxUtils.getValue(this.style, 'inset', this.inset)) + this.strokewidth;\n\t\tc.translate(x, y);\n\n\t\tc.ellipse(0, inset, w - 2 * inset, h - 2 * inset);\n\t\tc.fillAndStroke();\n\t\t\n\t\tc.begin();\n\t\tc.moveTo(w / 2, 0);\n\t\tc.quadTo(w, 0, w, h / 2);\n\t\tc.quadTo(w, h, w / 2, h);\n\t\tc.end();\n\t\tc.stroke();\n\t};\n\n\tmxCellRenderer.registerShape('providedRequiredInterface', ProvidedRequiredInterfaceShape);\n\t\n\t// Component shape\n\tfunction ComponentShape()\n\t{\n\t\tmxCylinder.call(this);\n\t};\n\tmxUtils.extend(ComponentShape, mxCylinder);\n\tComponentShape.prototype.jettyWidth = 32;\n\tComponentShape.prototype.jettyHeight = 12;\n\tComponentShape.prototype.redrawPath = function(path, x, y, w, h, isForeground)\n\t{\n\t\tvar dx = parseFloat(mxUtils.getValue(this.style, 'jettyWidth', this.jettyWidth));\n\t\tvar dy = parseFloat(mxUtils.getValue(this.style, 'jettyHeight', this.jettyHeight));\n\t\tvar x0 = dx / 2;\n\t\tvar x1 = x0 + dx / 2;\n\t\tvar y0 = 0.3 * h - dy / 2;\n\t\tvar y1 = 0.7 * h - dy / 2;\n\n\t\tif (isForeground)\n\t\t{\n\t\t\tpath.moveTo(x0, y0);\n\t\t\tpath.lineTo(x1, y0);\n\t\t\tpath.lineTo(x1, y0 + dy);\n\t\t\tpath.lineTo(x0, y0 + dy);\n\t\t\tpath.moveTo(x0, y1);\n\t\t\tpath.lineTo(x1, y1);\n\t\t\tpath.lineTo(x1, y1 + dy);\n\t\t\tpath.lineTo(x0, y1 + dy);\n\t\t\tpath.end();\n\t\t}\n\t\telse\n\t\t{\n\t\t\tpath.moveTo(x0, 0);\n\t\t\tpath.lineTo(w, 0);\n\t\t\tpath.lineTo(w, h);\n\t\t\tpath.lineTo(x0, h);\n\t\t\tpath.lineTo(x0, y1 + dy);\n\t\t\tpath.lineTo(0, y1 + dy);\n\t\t\tpath.lineTo(0, y1);\n\t\t\tpath.lineTo(x0, y1);\n\t\t\tpath.lineTo(x0, y0 + dy);\n\t\t\tpath.lineTo(0, y0 + dy);\n\t\t\tpath.lineTo(0, y0);\n\t\t\tpath.lineTo(x0, y0);\n\t\t\tpath.close();\n\t\t\tpath.end();\n\t\t}\n\t};\n\n\tmxCellRenderer.registerShape('component', ComponentShape);\n\t\n\t// State Shapes derives from double ellipse\n\tfunction StateShape()\n\t{\n\t\tmxDoubleEllipse.call(this);\n\t};\n\tmxUtils.extend(StateShape, mxDoubleEllipse);\n\tStateShape.prototype.outerStroke = true;\n\tStateShape.prototype.paintVertexShape = function(c, x, y, w, h)\n\t{\n\t\tvar inset = Math.min(4, Math.min(w / 5, h / 5));\n\t\t\n\t\tif (w > 0 && h > 0)\n\t\t{\n\t\t\tc.ellipse(x + inset, y + inset, w - 2 * inset, h - 2 * inset);\n\t\t\tc.fillAndStroke();\n\t\t}\n\t\t\n\t\tc.setShadow(false);\n\n\t\tif (this.outerStroke)\n\t\t{\n\t\t\tc.ellipse(x, y, w, h);\n\t\t\tc.stroke();\t\t\t\n\t\t}\n\t};\n\n\tmxCellRenderer.registerShape('endState', StateShape);\n\n\tfunction StartStateShape()\n\t{\n\t\tStateShape.call(this);\n\t};\n\tmxUtils.extend(StartStateShape, StateShape);\n\tStartStateShape.prototype.outerStroke = false;\n\t\n\tmxCellRenderer.registerShape('startState', StartStateShape);\n\n\t// Link shape\n\tfunction LinkShape()\n\t{\n\t\tmxArrowConnector.call(this);\n\t\tthis.spacing = 0;\n\t};\n\tmxUtils.extend(LinkShape, mxArrowConnector);\n\tLinkShape.prototype.defaultWidth = 4;\n\t\n\tLinkShape.prototype.isOpenEnded = function()\n\t{\n\t\treturn true;\n\t};\n\n\tLinkShape.prototype.getEdgeWidth = function()\n\t{\n\t\treturn mxUtils.getNumber(this.style, 'width', this.defaultWidth) + Math.max(0, this.strokewidth - 1);\n\t};\n\t\n\tLinkShape.prototype.isArrowRounded = function()\n\t{\n\t\treturn this.isRounded;\n\t};\n\n\t// Registers the link shape\n\tmxCellRenderer.registerShape('link', LinkShape);\n\n\t// Generic arrow\n\tfunction FlexArrowShape()\n\t{\n\t\tmxArrowConnector.call(this);\n\t\tthis.spacing = 0;\n\t};\n\tmxUtils.extend(FlexArrowShape, mxArrowConnector);\n\tFlexArrowShape.prototype.defaultWidth = 10;\n\tFlexArrowShape.prototype.defaultArrowWidth = 20;\n\n\tFlexArrowShape.prototype.getStartArrowWidth = function()\n\t{\n\t\treturn this.getEdgeWidth() + mxUtils.getNumber(this.style, 'startWidth', this.defaultArrowWidth);\n\t};\n\n\tFlexArrowShape.prototype.getEndArrowWidth = function()\n\t{\n\t\treturn this.getEdgeWidth() + mxUtils.getNumber(this.style, 'endWidth', this.defaultArrowWidth);;\n\t};\n\n\tFlexArrowShape.prototype.getEdgeWidth = function()\n\t{\n\t\treturn mxUtils.getNumber(this.style, 'width', this.defaultWidth) + Math.max(0, this.strokewidth - 1);\n\t};\n\t\n\t// Registers the link shape\n\tmxCellRenderer.registerShape('flexArrow', FlexArrowShape);\n\t\n\t// Manual Input shape\n\tfunction ManualInputShape()\n\t{\n\t\tmxActor.call(this);\n\t};\n\tmxUtils.extend(ManualInputShape, mxActor);\n\tManualInputShape.prototype.size = 30;\n\tManualInputShape.prototype.isRoundable = function()\n\t{\n\t\treturn true;\n\t};\n\tManualInputShape.prototype.redrawPath = function(c, x, y, w, h)\n\t{\n\t\tvar s = Math.min(h, parseFloat(mxUtils.getValue(this.style, 'size', this.size)));\n\t\tvar arcSize = mxUtils.getValue(this.style, mxConstants.STYLE_ARCSIZE, mxConstants.LINE_ARCSIZE) / 2;\n\t\tthis.addPoints(c, [new mxPoint(0, h), new mxPoint(0, s), new mxPoint(w, 0), new mxPoint(w, h)],\n\t\t\t\tthis.isRounded, arcSize, true);\n\t\tc.end();\n\t};\n\n\tmxCellRenderer.registerShape('manualInput', ManualInputShape);\n\n\t// Internal storage\n\tfunction InternalStorageShape()\n\t{\n\t\tmxRectangleShape.call(this);\n\t};\n\tmxUtils.extend(InternalStorageShape, mxRectangleShape);\n\tInternalStorageShape.prototype.dx = 20;\n\tInternalStorageShape.prototype.dy = 20;\n\tInternalStorageShape.prototype.isHtmlAllowed = function()\n\t{\n\t\treturn false;\n\t};\n\tInternalStorageShape.prototype.paintForeground = function(c, x, y, w, h)\n\t{\n\t\tmxRectangleShape.prototype.paintForeground.apply(this, arguments);\n\t\tvar inset = 0;\n\t\t\n\t\tif (this.isRounded)\n\t\t{\n\t\t\tvar f = mxUtils.getValue(this.style, mxConstants.STYLE_ARCSIZE,\n\t\t\t\tmxConstants.RECTANGLE_ROUNDING_FACTOR * 100) / 100;\n\t\t\tinset = Math.max(inset, Math.min(w * f, h * f));\n\t\t}\n\t\t\n\t\tvar dx = Math.max(inset, Math.min(w, parseFloat(mxUtils.getValue(this.style, 'dx', this.dx))));\n\t\tvar dy = Math.max(inset, Math.min(h, parseFloat(mxUtils.getValue(this.style, 'dy', this.dy))));\n\t\t\n\t\tc.begin();\n\t\tc.moveTo(x, y + dy);\n\t\tc.lineTo(x + w, y + dy);\n\t\tc.end();\n\t\tc.stroke();\n\t\t\n\t\tc.begin();\n\t\tc.moveTo(x + dx, y);\n\t\tc.lineTo(x + dx, y + h);\n\t\tc.end();\n\t\tc.stroke();\n\t};\n\n\tmxCellRenderer.registerShape('internalStorage', InternalStorageShape);\n\n\t// Internal storage\n\tfunction CornerShape()\n\t{\n\t\tmxActor.call(this);\n\t};\n\tmxUtils.extend(CornerShape, mxActor);\n\tCornerShape.prototype.dx = 20;\n\tCornerShape.prototype.dy = 20;\n\t\n\t// Corner\n\tCornerShape.prototype.redrawPath = function(c, x, y, w, h)\n\t{\n\t\tvar dx = Math.max(0, Math.min(w, parseFloat(mxUtils.getValue(this.style, 'dx', this.dx))));\n\t\tvar dy = Math.max(0, Math.min(h, parseFloat(mxUtils.getValue(this.style, 'dy', this.dy))));\n\t\t\n\t\tvar s = Math.min(w / 2, Math.min(h, parseFloat(mxUtils.getValue(this.style, 'size', this.size))));\n\t\tvar arcSize = mxUtils.getValue(this.style, mxConstants.STYLE_ARCSIZE, mxConstants.LINE_ARCSIZE) / 2;\n\t\tthis.addPoints(c, [new mxPoint(0, 0), new mxPoint(w, 0), new mxPoint(w, dy), new mxPoint(dx, dy),\n\t\t                   new mxPoint(dx, h), new mxPoint(0, h)], this.isRounded, arcSize, true);\n\t\tc.end();\n\t};\n\n\tmxCellRenderer.registerShape('corner', CornerShape);\n\n\t// Crossbar shape\n\tfunction CrossbarShape()\n\t{\n\t\tmxActor.call(this);\n\t};\n\tmxUtils.extend(CrossbarShape, mxActor);\n\t\n\tCrossbarShape.prototype.redrawPath = function(c, x, y, w, h)\n\t{\n\t\tc.moveTo(0, 0);\n\t\tc.lineTo(0, h);\n\t\tc.end();\n\t\t\n\t\tc.moveTo(w, 0);\n\t\tc.lineTo(w, h);\n\t\tc.end();\n\t\t\n\t\tc.moveTo(0, h / 2);\n\t\tc.lineTo(w, h / 2);\n\t\tc.end();\n\t};\n\n\tmxCellRenderer.registerShape('crossbar', CrossbarShape);\n\n\t// Internal storage\n\tfunction TeeShape()\n\t{\n\t\tmxActor.call(this);\n\t};\n\tmxUtils.extend(TeeShape, mxActor);\n\tTeeShape.prototype.dx = 20;\n\tTeeShape.prototype.dy = 20;\n\t\n\t// Corner\n\tTeeShape.prototype.redrawPath = function(c, x, y, w, h)\n\t{\n\t\tvar dx = Math.max(0, Math.min(w, parseFloat(mxUtils.getValue(this.style, 'dx', this.dx))));\n\t\tvar dy = Math.max(0, Math.min(h, parseFloat(mxUtils.getValue(this.style, 'dy', this.dy))));\n\t\tvar w2 = Math.abs(w - dx) / 2;\n\t\t\n\t\tvar s = Math.min(w / 2, Math.min(h, parseFloat(mxUtils.getValue(this.style, 'size', this.size))));\n\t\tvar arcSize = mxUtils.getValue(this.style, mxConstants.STYLE_ARCSIZE, mxConstants.LINE_ARCSIZE) / 2;\n\t\tthis.addPoints(c, [new mxPoint(0, 0), new mxPoint(w, 0), new mxPoint(w, dy), new mxPoint((w + dx) / 2, dy),\n\t\t                   new mxPoint((w + dx) / 2, h), new mxPoint((w - dx) / 2, h), new mxPoint((w - dx) / 2, dy),\n\t\t                   new mxPoint(0, dy)], this.isRounded, arcSize, true);\n\t\tc.end();\n\t};\n\n\tmxCellRenderer.registerShape('tee', TeeShape);\n\n\t// Arrow\n\tfunction SingleArrowShape()\n\t{\n\t\tmxActor.call(this);\n\t};\n\tmxUtils.extend(SingleArrowShape, mxActor);\n\tSingleArrowShape.prototype.arrowWidth = 0.3;\n\tSingleArrowShape.prototype.arrowSize = 0.2;\n\tSingleArrowShape.prototype.redrawPath = function(c, x, y, w, h)\n\t{\n\t\tvar aw = h * Math.max(0, Math.min(1, parseFloat(mxUtils.getValue(this.style, 'arrowWidth', this.arrowWidth))));\n\t\tvar as = w * Math.max(0, Math.min(1, parseFloat(mxUtils.getValue(this.style, 'arrowSize', this.arrowSize))));\n\t\tvar at = (h - aw) / 2;\n\t\tvar ab = at + aw;\n\t\t\n\t\tvar arcSize = mxUtils.getValue(this.style, mxConstants.STYLE_ARCSIZE, mxConstants.LINE_ARCSIZE) / 2;\n\t\tthis.addPoints(c, [new mxPoint(0, at), new mxPoint(w - as, at), new mxPoint(w - as, 0), new mxPoint(w, h / 2),\n\t\t                   new mxPoint(w - as, h), new mxPoint(w - as, ab), new mxPoint(0, ab)],\n\t\t                   this.isRounded, arcSize, true);\n\t\tc.end();\n\t};\n\n\tmxCellRenderer.registerShape('singleArrow', SingleArrowShape);\n\n\t// Arrow\n\tfunction DoubleArrowShape()\n\t{\n\t\tmxActor.call(this);\n\t};\n\tmxUtils.extend(DoubleArrowShape, mxActor);\n\tDoubleArrowShape.prototype.redrawPath = function(c, x, y, w, h)\n\t{\n\t\tvar aw = h * Math.max(0, Math.min(1, parseFloat(mxUtils.getValue(this.style, 'arrowWidth', SingleArrowShape.prototype.arrowWidth))));\n\t\tvar as = w * Math.max(0, Math.min(1, parseFloat(mxUtils.getValue(this.style, 'arrowSize', SingleArrowShape.prototype.arrowSize))));\n\t\tvar at = (h - aw) / 2;\n\t\tvar ab = at + aw;\n\t\t\n\t\tvar arcSize = mxUtils.getValue(this.style, mxConstants.STYLE_ARCSIZE, mxConstants.LINE_ARCSIZE) / 2;\n\t\tthis.addPoints(c, [new mxPoint(0, h / 2), new mxPoint(as, 0), new mxPoint(as, at), new mxPoint(w - as, at),\n\t\t                   new mxPoint(w - as, 0), new mxPoint(w, h / 2), new mxPoint(w - as, h),\n\t\t                   new mxPoint(w - as, ab), new mxPoint(as, ab), new mxPoint(as, h)],\n\t\t                   this.isRounded, arcSize, true);\n\t\tc.end();\n\t};\n\n\tmxCellRenderer.registerShape('doubleArrow', DoubleArrowShape);\n\n\t// Data storage\n\tfunction DataStorageShape()\n\t{\n\t\tmxActor.call(this);\n\t};\n\tmxUtils.extend(DataStorageShape, mxActor);\n\tDataStorageShape.prototype.size = 0.1;\n\tDataStorageShape.prototype.redrawPath = function(c, x, y, w, h)\n\t{\n\t\tvar s = w * Math.max(0, Math.min(1, parseFloat(mxUtils.getValue(this.style, 'size', this.size))));\n\n\t\tc.moveTo(s, 0);\n\t\tc.lineTo(w, 0);\n\t\tc.quadTo(w - s * 2, h / 2, w, h);\n\t\tc.lineTo(s, h);\n\t\tc.quadTo(s - s * 2, h / 2, s, 0);\n\t\tc.close();\n\t\tc.end();\n\t};\n\n\tmxCellRenderer.registerShape('dataStorage', DataStorageShape);\n\n\t// Or\n\tfunction OrShape()\n\t{\n\t\tmxActor.call(this);\n\t};\n\tmxUtils.extend(OrShape, mxActor);\n\tOrShape.prototype.redrawPath = function(c, x, y, w, h)\n\t{\n\t\tc.moveTo(0, 0);\n\t\tc.quadTo(w, 0, w, h / 2);\n\t\tc.quadTo(w, h, 0, h);\n\t\tc.close();\n\t\tc.end();\n\t};\n\n\tmxCellRenderer.registerShape('or', OrShape);\n\n\t// Xor\n\tfunction XorShape()\n\t{\n\t\tmxActor.call(this);\n\t};\n\tmxUtils.extend(XorShape, mxActor);\n\tXorShape.prototype.redrawPath = function(c, x, y, w, h)\n\t{\n\t\tc.moveTo(0, 0);\n\t\tc.quadTo(w, 0, w, h / 2);\n\t\tc.quadTo(w, h, 0, h);\n\t\tc.quadTo(w / 2, h / 2, 0, 0);\n\t\tc.close();\n\t\tc.end();\n\t};\n\n\tmxCellRenderer.registerShape('xor', XorShape);\n\n\t// Loop limit\n\tfunction LoopLimitShape()\n\t{\n\t\tmxActor.call(this);\n\t};\n\tmxUtils.extend(LoopLimitShape, mxActor);\n\tLoopLimitShape.prototype.size = 20;\n\tLoopLimitShape.prototype.isRoundable = function()\n\t{\n\t\treturn true;\n\t};\n\tLoopLimitShape.prototype.redrawPath = function(c, x, y, w, h)\n\t{\n\t\tvar s = Math.min(w / 2, Math.min(h, parseFloat(mxUtils.getValue(this.style, 'size', this.size))));\n\t\tvar arcSize = mxUtils.getValue(this.style, mxConstants.STYLE_ARCSIZE, mxConstants.LINE_ARCSIZE) / 2;\n\t\tthis.addPoints(c, [new mxPoint(s, 0), new mxPoint(w - s, 0), new mxPoint(w, s * 0.8), new mxPoint(w, h),\n\t\t                   new mxPoint(0, h), new mxPoint(0, s * 0.8)], this.isRounded, arcSize, true);\n\t\tc.end();\n\t};\n\n\tmxCellRenderer.registerShape('loopLimit', LoopLimitShape);\n\n\t// Off page connector\n\tfunction OffPageConnectorShape()\n\t{\n\t\tmxActor.call(this);\n\t};\n\tmxUtils.extend(OffPageConnectorShape, mxActor);\n\tOffPageConnectorShape.prototype.size = 3 / 8;\n\tOffPageConnectorShape.prototype.isRoundable = function()\n\t{\n\t\treturn true;\n\t};\n\tOffPageConnectorShape.prototype.redrawPath = function(c, x, y, w, h)\n\t{\n\t\tvar s = h * Math.max(0, Math.min(1, parseFloat(mxUtils.getValue(this.style, 'size', this.size))));\n\t\tvar arcSize = mxUtils.getValue(this.style, mxConstants.STYLE_ARCSIZE, mxConstants.LINE_ARCSIZE) / 2;\n\t\tthis.addPoints(c, [new mxPoint(0, 0), new mxPoint(w, 0), new mxPoint(w, h - s), new mxPoint(w / 2, h),\n\t\t                   new mxPoint(0, h - s)], this.isRounded, arcSize, true);\n\t\tc.end();\n\t};\n\n\tmxCellRenderer.registerShape('offPageConnector', OffPageConnectorShape);\n\n\t// Internal storage\n\tfunction TapeDataShape()\n\t{\n\t\tmxEllipse.call(this);\n\t};\n\tmxUtils.extend(TapeDataShape, mxEllipse);\n\tTapeDataShape.prototype.paintVertexShape = function(c, x, y, w, h)\n\t{\n\t\tmxEllipse.prototype.paintVertexShape.apply(this, arguments);\n\t\t\n\t\tc.begin();\n\t\tc.moveTo(x + w / 2, y + h);\n\t\tc.lineTo(x + w, y + h);\n\t\tc.end();\n\t\tc.stroke();\n\t};\n\n\tmxCellRenderer.registerShape('tapeData', TapeDataShape);\n\n\t// OrEllipseShape\n\tfunction OrEllipseShape()\n\t{\n\t\tmxEllipse.call(this);\n\t};\n\tmxUtils.extend(OrEllipseShape, mxEllipse);\n\tOrEllipseShape.prototype.paintVertexShape = function(c, x, y, w, h)\n\t{\n\t\tmxEllipse.prototype.paintVertexShape.apply(this, arguments);\n\t\t\n\t\tc.setShadow(false);\n\t\tc.begin();\n\t\tc.moveTo(x, y + h / 2);\n\t\tc.lineTo(x + w, y + h / 2);\n\t\tc.end();\n\t\tc.stroke();\n\t\t\n\t\tc.begin();\n\t\tc.moveTo(x + w / 2, y);\n\t\tc.lineTo(x + w / 2, y + h);\n\t\tc.end();\n\t\tc.stroke();\n\t};\n\n\tmxCellRenderer.registerShape('orEllipse', OrEllipseShape);\n\n\t// SumEllipseShape\n\tfunction SumEllipseShape()\n\t{\n\t\tmxEllipse.call(this);\n\t};\n\tmxUtils.extend(SumEllipseShape, mxEllipse);\n\tSumEllipseShape.prototype.paintVertexShape = function(c, x, y, w, h)\n\t{\n\t\tmxEllipse.prototype.paintVertexShape.apply(this, arguments);\n\t\tvar s2 = 0.145;\n\t\t\n\t\tc.setShadow(false);\n\t\tc.begin();\n\t\tc.moveTo(x + w * s2, y + h * s2);\n\t\tc.lineTo(x + w * (1 - s2), y + h * (1 - s2));\n\t\tc.end();\n\t\tc.stroke();\n\t\t\n\t\tc.begin();\n\t\tc.moveTo(x + w * (1 - s2), y + h * s2);\n\t\tc.lineTo(x + w * s2, y + h * (1 - s2));\n\t\tc.end();\n\t\tc.stroke();\n\t};\n\n\tmxCellRenderer.registerShape('sumEllipse', SumEllipseShape);\n\n\t// SortShape\n\tfunction SortShape()\n\t{\n\t\tmxRhombus.call(this);\n\t};\n\tmxUtils.extend(SortShape, mxRhombus);\n\tSortShape.prototype.paintVertexShape = function(c, x, y, w, h)\n\t{\n\t\tmxRhombus.prototype.paintVertexShape.apply(this, arguments);\n\t\t\n\t\tc.setShadow(false);\n\t\tc.begin();\n\t\tc.moveTo(x, y + h / 2);\n\t\tc.lineTo(x + w, y + h / 2);\n\t\tc.end();\n\t\tc.stroke();\n\t};\n\n\tmxCellRenderer.registerShape('sortShape', SortShape);\n\n\t// CollateShape\n\tfunction CollateShape()\n\t{\n\t\tmxEllipse.call(this);\n\t};\n\tmxUtils.extend(CollateShape, mxEllipse);\n\tCollateShape.prototype.paintVertexShape = function(c, x, y, w, h)\n\t{\n\t\tc.begin();\n\t\tc.moveTo(x, y);\n\t\tc.lineTo(x + w, y);\n\t\tc.lineTo(x + w / 2, y + h / 2);\n\t\tc.close();\n\t\tc.fillAndStroke();\n\t\t\n\t\tc.begin();\n\t\tc.moveTo(x, y + h);\n\t\tc.lineTo(x + w, y + h);\n\t\tc.lineTo(x + w / 2, y + h / 2);\n\t\tc.close();\n\t\tc.fillAndStroke();\n\t};\n\n\tmxCellRenderer.registerShape('collate', CollateShape);\n\n\t// DimensionShape\n\tfunction DimensionShape()\n\t{\n\t\tmxEllipse.call(this);\n\t};\n\tmxUtils.extend(DimensionShape, mxEllipse);\n\tDimensionShape.prototype.paintVertexShape = function(c, x, y, w, h)\n\t{\n\t\t// Arrow size\n\t\tvar al = 10;\n\t\tvar cy = y + h - al / 2;\n\t\t\n\t\tc.begin();\n\t\tc.moveTo(x, y);\n\t\tc.lineTo(x, y + h);\n\t\tc.moveTo(x, cy);\n\t\tc.lineTo(x + al, cy - al / 2);\n\t\tc.moveTo(x, cy);\n\t\tc.lineTo(x + al, cy + al / 2);\n\t\tc.moveTo(x, cy);\n\t\tc.lineTo(x + w, cy);\n\n\t\t// Opposite side\n\t\tc.moveTo(x + w, y);\n\t\tc.lineTo(x + w, y + h);\n\t\tc.moveTo(x + w, cy);\n\t\tc.lineTo(x + w - al, cy - al / 2);\n\t\tc.moveTo(x + w, cy);\n\t\tc.lineTo(x + w - al, cy + al / 2);\n\t\tc.end();\n\t\tc.stroke();\n\t};\n\n\tmxCellRenderer.registerShape('dimension', DimensionShape);\n\n\t// PartialRectangleShape\n\tfunction PartialRectangleShape()\n\t{\n\t\tmxEllipse.call(this);\n\t};\n\tmxUtils.extend(PartialRectangleShape, mxEllipse);\n\tPartialRectangleShape.prototype.paintVertexShape = function(c, x, y, w, h)\n\t{\n\t\tif (!this.outline)\n\t\t{\n\t\t\tc.setStrokeColor(null);\n\t\t}\n\n\t\tmxRectangleShape.prototype.paintBackground.apply(this, arguments);\n\t\t\n\t\tif (this.style != null)\n\t\t{\n\t\t\tc.setStrokeColor(this.stroke);\n\t\t\tc.rect(x, y, w, h);\n\t\t\tc.fill();\n\n\t\t\tc.begin();\n\t\t\tc.moveTo(x, y);\n\t\t\t\n\t\t\tif (mxUtils.getValue(this.style, 'top', '1') == '1')\n\t\t\t{\n\t\t\t\tc.lineTo(x + w, y);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tc.moveTo(x + w, y);\n\t\t\t}\n\t\t\t\n\t\t\tif (mxUtils.getValue(this.style, 'right', '1') == '1')\n\t\t\t{\n\t\t\t\tc.lineTo(x + w, y + h);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tc.moveTo(x + w, y + h);\n\t\t\t}\n\t\t\t\n\t\t\tif (mxUtils.getValue(this.style, 'bottom', '1') == '1')\n\t\t\t{\n\t\t\t\tc.lineTo(x, y + h);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tc.moveTo(x, y + h);\n\t\t\t}\n\t\t\t\n\t\t\tif (mxUtils.getValue(this.style, 'left', '1') == '1')\n\t\t\t{\n\t\t\t\tc.lineTo(x, y - this.strokewidth / 2);\n\t\t\t}\n\t\t\t\t\t\t\n\t\t\tc.end();\n\t\t\tc.stroke();\n\t\t}\n\t};\n\n\tmxCellRenderer.registerShape('partialRectangle', PartialRectangleShape);\n\n\t// LineEllipseShape\n\tfunction LineEllipseShape()\n\t{\n\t\tmxEllipse.call(this);\n\t};\n\tmxUtils.extend(LineEllipseShape, mxEllipse);\n\tLineEllipseShape.prototype.paintVertexShape = function(c, x, y, w, h)\n\t{\n\t\tmxEllipse.prototype.paintVertexShape.apply(this, arguments);\n\t\t\n\t\tc.setShadow(false);\n\t\tc.begin();\n\t\t\n\t\tif (mxUtils.getValue(this.style, 'line') == 'vertical')\n\t\t{\n\t\t\tc.moveTo(x + w / 2, y);\n\t\t\tc.lineTo(x + w / 2, y + h);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tc.moveTo(x, y + h / 2);\n\t\t\tc.lineTo(x + w, y + h / 2);\n\t\t}\n\n\t\tc.end();\t\t\t\n\t\tc.stroke();\n\t};\n\n\tmxCellRenderer.registerShape('lineEllipse', LineEllipseShape);\n\n\t// Delay\n\tfunction DelayShape()\n\t{\n\t\tmxActor.call(this);\n\t};\n\tmxUtils.extend(DelayShape, mxActor);\n\tDelayShape.prototype.redrawPath = function(c, x, y, w, h)\n\t{\n\t\tvar dx = Math.min(w, h / 2);\n\t\tc.moveTo(0, 0);\n\t\tc.lineTo(w - dx, 0);\n\t\tc.quadTo(w, 0, w, h / 2);\n\t\tc.quadTo(w, h, w - dx, h);\n\t\tc.lineTo(0, h);\n\t\tc.close();\n\t\tc.end();\n\t};\n\n\tmxCellRenderer.registerShape('delay', DelayShape);\n\n\t// Cross Shape\n\tfunction CrossShape()\n\t{\n\t\tmxActor.call(this);\n\t};\n\tmxUtils.extend(CrossShape, mxActor);\n\tCrossShape.prototype.size = 0.2;\n\tCrossShape.prototype.redrawPath = function(c, x, y, w, h)\n\t{\n\t\tvar m = Math.min(h, w);\n\t\tvar size = Math.max(0, Math.min(m, m * parseFloat(mxUtils.getValue(this.style, 'size', this.size))));\n\t\tvar t = (h - size) / 2;\n\t\tvar b = t + size;\n\t\tvar l = (w - size) / 2;\n\t\tvar r = l + size;\n\t\t\n\t\tc.moveTo(0, t);\n\t\tc.lineTo(l, t);\n\t\tc.lineTo(l, 0);\n\t\tc.lineTo(r, 0);\n\t\tc.lineTo(r, t);\n\t\tc.lineTo(w, t);\n\t\tc.lineTo(w, b);\n\t\tc.lineTo(r, b);\n\t\tc.lineTo(r, h);\n\t\tc.lineTo(l, h);\n\t\tc.lineTo(l, b);\n\t\tc.lineTo(0, b);\n\t\tc.close();\n\t\tc.end();\n\t};\n\n\tmxCellRenderer.registerShape('cross', CrossShape);\n\n\t// Display\n\tfunction DisplayShape()\n\t{\n\t\tmxActor.call(this);\n\t};\n\tmxUtils.extend(DisplayShape, mxActor);\n\tDisplayShape.prototype.size = 0.25;\n\tDisplayShape.prototype.redrawPath = function(c, x, y, w, h)\n\t{\n\t\tvar dx = Math.min(w, h / 2);\n\t\tvar s = Math.min(w - dx, Math.max(0, parseFloat(mxUtils.getValue(this.style, 'size', this.size))) * w);\n\t\t\n\t\tc.moveTo(0, h / 2);\n\t\tc.lineTo(s, 0);\n\t\tc.lineTo(w - dx, 0);\n\t\tc.quadTo(w, 0, w, h / 2);\n\t\tc.quadTo(w, h, w - dx, h);\n\t\tc.lineTo(s, h);\n\t\tc.close();\n\t\tc.end();\n\t};\n\n\tmxCellRenderer.registerShape('display', DisplayShape);\n\t\n\t// FilledEdge shape\n\tfunction FilledEdge()\n\t{\n\t\tmxConnector.call(this);\n\t};\n\tmxUtils.extend(FilledEdge, mxConnector);\n\t\n\tFilledEdge.prototype.origPaintEdgeShape = FilledEdge.prototype.paintEdgeShape;\n\tFilledEdge.prototype.paintEdgeShape = function(c, pts, rounded)\n\t{\n\t\t// Markers modify incoming points array\n\t\tvar temp = [];\n\t\t\n\t\tfor (var i = 0; i < pts.length; i++)\n\t\t{\n\t\t\ttemp.push(mxUtils.clone(pts[i]));\n\t\t}\n\t\t\n\t\t// paintEdgeShape resets dashed to false\n\t\tvar dashed = c.state.dashed;\n\t\tvar fixDash = c.state.fixDash;\n\t\tFilledEdge.prototype.origPaintEdgeShape.apply(this, [c, temp, rounded]);\n\n\t\tif (c.state.strokeWidth >= 3)\n\t\t{\n\t\t\tvar fillClr = mxUtils.getValue(this.style, 'fillColor', null);\n\t\t\t\n\t\t\tif (fillClr != null)\n\t\t\t{\n\t\t\t\tc.setStrokeColor(fillClr);\n\t\t\t\tc.setStrokeWidth(c.state.strokeWidth - 2);\n\t\t\t\tc.setDashed(dashed, fixDash);\n\t\t\t\t\n\t\t\t\tFilledEdge.prototype.origPaintEdgeShape.apply(this, [c, pts, rounded]);\n\t\t\t}\n\t\t}\n\t};\n\n\t// Registers the link shape\n\tmxCellRenderer.registerShape('filledEdge', FilledEdge);\n\n\t// Implements custom colors for shapes\n\tif (typeof StyleFormatPanel !== 'undefined')\n\t{\n\t\t(function()\n\t\t{\n\t\t\tvar styleFormatPanelGetCustomColors = StyleFormatPanel.prototype.getCustomColors;\n\t\t\t\n\t\t\tStyleFormatPanel.prototype.getCustomColors = function()\n\t\t\t{\n\t\t\t\tvar ss = this.format.getSelectionState();\n\t\t\t\tvar result = styleFormatPanelGetCustomColors.apply(this, arguments);\n\t\t\t\t\n\t\t\t\tif (ss.style.shape == 'umlFrame')\n\t\t\t\t{\n\t\t\t\t\tresult.push({title: mxResources.get('laneColor'), key: 'swimlaneFillColor', defaultValue: '#ffffff'});\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn result;\n\t\t\t};\n\t\t})();\n\t}\n\t\n\t// Registers and defines the custom marker\n\tmxMarker.addMarker('dash', function(c, shape, type, pe, unitX, unitY, size, source, sw, filled)\n\t{\n\t\tvar nx = unitX * (size + sw + 1);\n\t\tvar ny = unitY * (size + sw + 1);\n\n\t\treturn function()\n\t\t{\n\t\t\tc.begin();\n\t\t\tc.moveTo(pe.x - nx / 2 - ny / 2, pe.y - ny / 2 + nx / 2);\n\t\t\tc.lineTo(pe.x + ny / 2 - 3 * nx / 2, pe.y - 3 * ny / 2 - nx / 2);\n\t\t\tc.stroke();\n\t\t};\n\t});\n\n\t// Registers and defines the custom marker\n\tmxMarker.addMarker('cross', function(c, shape, type, pe, unitX, unitY, size, source, sw, filled)\n\t{\n\t\tvar nx = unitX * (size + sw + 1);\n\t\tvar ny = unitY * (size + sw + 1);\n\n\t\treturn function()\n\t\t{\n\t\t\tc.begin();\n\t\t\tc.moveTo(pe.x - nx / 2 - ny / 2, pe.y - ny / 2 + nx / 2);\n\t\t\tc.lineTo(pe.x + ny / 2 - 3 * nx / 2, pe.y - 3 * ny / 2 - nx / 2);\n\t\t\tc.moveTo(pe.x - nx / 2 + ny / 2, pe.y - ny / 2 - nx / 2);\n\t\t\tc.lineTo(pe.x - ny / 2 - 3 * nx / 2, pe.y - 3 * ny / 2 + nx / 2);\n\t\t\tc.stroke();\n\t\t};\n\t});\n\t\n\tfunction circleMarker(c, shape, type, pe, unitX, unitY, size, source, sw, filled)\n\t{\n\t\tvar a = size / 2;\n\t\tvar size = size + sw;\n\n\t\tvar pt = pe.clone();\n\t\t\n\t\tpe.x -= unitX * (2 * size + sw);\n\t\tpe.y -= unitY * (2 * size + sw);\n\t\t\n\t\tunitX = unitX * (size + sw);\n\t\tunitY = unitY * (size + sw);\n\n\t\treturn function()\n\t\t{\n\t\t\tc.ellipse(pt.x - unitX - size, pt.y - unitY - size, 2 * size, 2 * size);\n\t\t\t\n\t\t\tif (filled)\n\t\t\t{\n\t\t\t\tc.fillAndStroke();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tc.stroke();\n\t\t\t}\n\t\t};\n\t};\n\t\n\tmxMarker.addMarker('circle', circleMarker);\n\tmxMarker.addMarker('circlePlus', function(c, shape, type, pe, unitX, unitY, size, source, sw, filled)\n\t{\n\t\tvar pt = pe.clone();\n\t\tvar fn = circleMarker.apply(this, arguments);\n\t\tvar nx = unitX * (size + 2 * sw); // (size + sw + 1);\n\t\tvar ny = unitY * (size + 2 * sw); //(size + sw + 1);\n\n\t\treturn function()\n\t\t{\n\t\t\tfn.apply(this, arguments);\n\n\t\t\tc.begin();\n\t\t\tc.moveTo(pt.x - unitX * (sw), pt.y - unitY * (sw));\n\t\t\tc.lineTo(pt.x - 2 * nx + unitX * (sw), pt.y - 2 * ny + unitY * (sw));\n\t\t\tc.moveTo(pt.x - nx - ny + unitY * sw, pt.y - ny + nx - unitX * sw);\n\t\t\tc.lineTo(pt.x + ny - nx - unitY * sw, pt.y - ny - nx + unitX * sw);\n\t\t\tc.stroke();\n\t\t};\n\t});\n\t\n\tmxMarker.addMarker('async', function(c, shape, type, pe, unitX, unitY, size, source, sw, filled)\n\t{\n\t\t// The angle of the forward facing arrow sides against the x axis is\n\t\t// 26.565 degrees, 1/sin(26.565) = 2.236 / 2 = 1.118 ( / 2 allows for\n\t\t// only half the strokewidth is processed ).\n\t\tvar endOffsetX = unitX * sw * 1.118;\n\t\tvar endOffsetY = unitY * sw * 1.118;\n\t\t\n\t\tunitX = unitX * (size + sw);\n\t\tunitY = unitY * (size + sw);\n\n\t\tvar pt = pe.clone();\n\t\tpt.x -= endOffsetX;\n\t\tpt.y -= endOffsetY;\n\t\t\n\t\tvar f = 1;\n\t\tpe.x += -unitX * f - endOffsetX;\n\t\tpe.y += -unitY * f - endOffsetY;\n\t\t\n\t\treturn function()\n\t\t{\n\t\t\tc.begin();\n\t\t\tc.moveTo(pt.x, pt.y);\n\t\t\t\n\t\t\tif (source)\n\t\t\t{\n\t\t\t\tc.lineTo(pt.x - unitX - unitY / 2, pt.y - unitY + unitX / 2);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tc.lineTo(pt.x + unitY / 2 - unitX, pt.y - unitY - unitX / 2);\n\t\t\t}\n\t\t\t\n\t\t\tc.lineTo(pt.x - unitX, pt.y - unitY);\n\t\t\tc.close();\n\n\t\t\tif (filled)\n\t\t\t{\n\t\t\t\tc.fillAndStroke();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tc.stroke();\n\t\t\t}\n\t\t};\n\t});\n\t\n\tfunction createOpenAsyncArrow(widthFactor)\n\t{\n\t\twidthFactor = (widthFactor != null) ? widthFactor : 2;\n\t\t\n\t\treturn function(c, shape, type, pe, unitX, unitY, size, source, sw, filled)\n\t\t{\n\t\t\tunitX = unitX * (size + sw);\n\t\t\tunitY = unitY * (size + sw);\n\t\t\t\n\t\t\tvar pt = pe.clone();\n\n\t\t\treturn function()\n\t\t\t{\n\t\t\t\tc.begin();\n\t\t\t\tc.moveTo(pt.x, pt.y);\n\t\t\t\t\n\t\t\t\tif (source)\n\t\t\t\t{\n\t\t\t\t\tc.lineTo(pt.x - unitX - unitY / widthFactor, pt.y - unitY + unitX / widthFactor);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tc.lineTo(pt.x + unitY / widthFactor - unitX, pt.y - unitY - unitX / widthFactor);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tc.stroke();\n\t\t\t};\n\t\t}\n\t};\n\t\n\tmxMarker.addMarker('openAsync', createOpenAsyncArrow(2));\n\t\n\tfunction arrow(canvas, shape, type, pe, unitX, unitY, size, source, sw, filled)\n\t{\n\t\t// The angle of the forward facing arrow sides against the x axis is\n\t\t// 26.565 degrees, 1/sin(26.565) = 2.236 / 2 = 1.118 ( / 2 allows for\n\t\t// only half the strokewidth is processed ).\n\t\tvar endOffsetX = unitX * sw * 1.118;\n\t\tvar endOffsetY = unitY * sw * 1.118;\n\t\t\n\t\tunitX = unitX * (size + sw);\n\t\tunitY = unitY * (size + sw);\n\n\t\tvar pt = pe.clone();\n\t\tpt.x -= endOffsetX;\n\t\tpt.y -= endOffsetY;\n\t\t\n\t\tvar f = (type != mxConstants.ARROW_CLASSIC && type != mxConstants.ARROW_CLASSIC_THIN) ? 1 : 3 / 4;\n\t\tpe.x += -unitX * f - endOffsetX;\n\t\tpe.y += -unitY * f - endOffsetY;\n\t\t\n\t\treturn function()\n\t\t{\n\t\t\tcanvas.begin();\n\t\t\tcanvas.moveTo(pt.x, pt.y);\n\t\t\tcanvas.lineTo(pt.x - unitX - unitY / widthFactor, pt.y - unitY + unitX / widthFactor);\n\t\t\n\t\t\tif (type == mxConstants.ARROW_CLASSIC || type == mxConstants.ARROW_CLASSIC_THIN)\n\t\t\t{\n\t\t\t\tcanvas.lineTo(pt.x - unitX * 3 / 4, pt.y - unitY * 3 / 4);\n\t\t\t}\n\t\t\n\t\t\tcanvas.lineTo(pt.x + unitY / widthFactor - unitX, pt.y - unitY - unitX / widthFactor);\n\t\t\tcanvas.close();\n\n\t\t\tif (filled)\n\t\t\t{\n\t\t\t\tcanvas.fillAndStroke();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tcanvas.stroke();\n\t\t\t}\n\t\t};\n\t}\n\t\n\t// Handlers are only added if mxVertexHandler is defined (ie. not in embedded graph)\n\tif (typeof mxVertexHandler !== 'undefined')\n\t{\n\t\tfunction createHandle(state, keys, getPositionFn, setPositionFn, ignoreGrid, redrawEdges)\n\t\t{\n\t\t\tvar handle = new mxHandle(state, null, mxVertexHandler.prototype.secondaryHandleImage);\n\t\t\t\n\t\t\thandle.execute = function()\n\t\t\t{\n\t\t\t\tfor (var i = 0; i < keys.length; i++)\n\t\t\t\t{\t\n\t\t\t\t\tthis.copyStyle(keys[i]);\n\t\t\t\t}\n\t\t\t};\n\t\t\t\n\t\t\thandle.getPosition = getPositionFn;\n\t\t\thandle.setPosition = setPositionFn;\n\t\t\thandle.ignoreGrid = (ignoreGrid != null) ? ignoreGrid : true;\n\t\t\t\n\t\t\t// Overridden to update connected edges\n\t\t\tif (redrawEdges)\n\t\t\t{\n\t\t\t\tvar positionChanged = handle.positionChanged;\n\t\t\t\t\n\t\t\t\thandle.positionChanged = function()\n\t\t\t\t{\n\t\t\t\t\tpositionChanged.apply(this, arguments);\n\t\t\t\t\t\n\t\t\t\t\t// Redraws connected edges TODO: Include child edges\n\t\t\t\t\tstate.view.invalidate(this.state.cell);\n\t\t\t\t\tstate.view.validate();\n\t\t\t\t};\n\t\t\t}\n\t\t\t\n\t\t\treturn handle;\n\t\t};\n\t\t\n\t\tfunction createArcHandle(state, yOffset)\n\t\t{\n\t\t\treturn createHandle(state, [mxConstants.STYLE_ARCSIZE], function(bounds)\n\t\t\t{\n\t\t\t\tvar tmp = (yOffset != null) ? yOffset : bounds.height / 8;\n\t\t\t\t\n\t\t\t\tif (mxUtils.getValue(state.style, mxConstants.STYLE_ABSOLUTE_ARCSIZE, 0) == '1')\n\t\t\t\t{\n\t\t\t\t\tvar arcSize = mxUtils.getValue(state.style, mxConstants.STYLE_ARCSIZE, mxConstants.LINE_ARCSIZE) / 2;\n\t\t\t\t\t\n\t\t\t\t\treturn new mxPoint(bounds.x + bounds.width - Math.min(bounds.width / 2, arcSize), bounds.y + tmp);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tvar arcSize = Math.max(0, parseFloat(mxUtils.getValue(state.style,\n\t\t\t\t\t\tmxConstants.STYLE_ARCSIZE, mxConstants.RECTANGLE_ROUNDING_FACTOR * 100))) / 100;\n\t\t\t\t\t\n\t\t\t\t\treturn new mxPoint(bounds.x + bounds.width - Math.min(Math.max(bounds.width / 2, bounds.height / 2),\n\t\t\t\t\t\tMath.min(bounds.width, bounds.height) * arcSize), bounds.y + tmp);\n\t\t\t\t}\n\t\t\t}, function(bounds, pt, me)\n\t\t\t{\n\t\t\t\tif (mxUtils.getValue(state.style, mxConstants.STYLE_ABSOLUTE_ARCSIZE, 0) == '1')\n\t\t\t\t{\n\t\t\t\t\tthis.state.style[mxConstants.STYLE_ARCSIZE] = Math.round(Math.max(0, Math.min(bounds.width,\n\t\t\t\t\t\t(bounds.x + bounds.width - pt.x) * 2)));\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tvar f = Math.min(50, Math.max(0, (bounds.width - pt.x + bounds.x) * 100 /\n\t\t\t\t\t\tMath.min(bounds.width, bounds.height)));\n\t\t\t\t\tthis.state.style[mxConstants.STYLE_ARCSIZE] = Math.round(f);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tfunction createArcHandleFunction()\n\t\t{\n\t\t\treturn function(state)\n\t\t\t{\n\t\t\t\tvar handles = [];\n\t\t\t\t\n\t\t\t\tif (mxUtils.getValue(state.style, mxConstants.STYLE_ROUNDED, false))\n\t\t\t\t{\n\t\t\t\t\thandles.push(createArcHandle(state));\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn handles;\n\t\t\t};\n\t\t};\n\t\t\n\t\tfunction createTrapezoidHandleFunction(max)\n\t\t{\n\t\t\treturn function(state)\n\t\t\t{\n\t\t\t\tvar handles = [createHandle(state, ['size'], function(bounds)\n\t\t\t\t{\n\t\t\t\t\tvar size = Math.max(0, Math.min(max, parseFloat(mxUtils.getValue(this.state.style, 'size', TrapezoidShape.prototype.size))));\n\t\t\t\t\n\t\t\t\t\treturn new mxPoint(bounds.x + size * bounds.width * 0.75, bounds.y + bounds.height / 4);\n\t\t\t\t}, function(bounds, pt)\n\t\t\t\t{\n\t\t\t\t\tthis.state.style['size'] = Math.max(0, Math.min(max, (pt.x - bounds.x) / (bounds.width * 0.75)));\n\t\t\t\t}, null, true)];\n\t\t\t\t\n\t\t\t\tif (mxUtils.getValue(state.style, mxConstants.STYLE_ROUNDED, false))\n\t\t\t\t{\n\t\t\t\t\thandles.push(createArcHandle(state));\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn handles;\n\t\t\t};\n\t\t};\n\t\t\n\t\tfunction createDisplayHandleFunction(defaultValue, allowArcHandle, max, redrawEdges, fixedDefaultValue)\n\t\t{\n\t\t\tmax = (max != null) ? max : 1;\n\t\t\t\n\t\t\treturn function(state)\n\t\t\t{\n\t\t\t\tvar handles = [createHandle(state, ['size'], function(bounds)\n\t\t\t\t{\n\t\t\t\t\tvar fixed = (fixedDefaultValue != null) ? mxUtils.getValue(this.state.style, 'fixedSize', '0') != '0' : null;\n\t\t\t\t\tvar size = parseFloat(mxUtils.getValue(this.state.style, 'size', (fixed) ? fixedDefaultValue : defaultValue));\n\t\n\t\t\t\t\treturn new mxPoint(bounds.x + Math.max(0, Math.min(bounds.width, size * ((fixed) ? 1 : bounds.width))), bounds.getCenterY());\n\t\t\t\t}, function(bounds, pt, me)\n\t\t\t\t{\n\t\t\t\t\tvar fixed = (fixedDefaultValue != null) ? mxUtils.getValue(this.state.style, 'fixedSize', '0') != '0' : null;\n\t\t\t\t\tvar size = (fixed) ? (pt.x - bounds.x) : Math.max(0, Math.min(max, (pt.x - bounds.x) / bounds.width));\n\t\t\t\t\t\n\t\t\t\t\tif (fixed && !mxEvent.isAltDown(me.getEvent()))\n\t\t\t\t\t{\n\t\t\t\t\t\tsize = state.view.graph.snap(size);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tthis.state.style['size'] = size;\n\t\t\t\t}, null, redrawEdges)];\n\t\t\t\t\n\t\t\t\tif (allowArcHandle && mxUtils.getValue(state.style, mxConstants.STYLE_ROUNDED, false))\n\t\t\t\t{\n\t\t\t\t\thandles.push(createArcHandle(state));\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn handles;\n\t\t\t};\n\t\t};\n\t\t\n\t\tfunction createCubeHandleFunction(factor, defaultValue, allowArcHandle)\n\t\t{\n\t\t\treturn function(state)\n\t\t\t{\n\t\t\t\tvar handles = [createHandle(state, ['size'], function(bounds)\n\t\t\t\t{\n\t\t\t\t\tvar size = Math.max(0, Math.min(bounds.width, Math.min(bounds.height, parseFloat(\n\t\t\t\t\t\tmxUtils.getValue(this.state.style, 'size', defaultValue))))) * factor;\n\t\t\t\t\t\n\t\t\t\t\treturn new mxPoint(bounds.x + size, bounds.y + size);\n\t\t\t\t}, function(bounds, pt)\n\t\t\t\t{\n\t\t\t\t\tthis.state.style['size'] = Math.round(Math.max(0, Math.min(Math.min(bounds.width, pt.x - bounds.x),\n\t\t\t\t\t\t\tMath.min(bounds.height, pt.y - bounds.y))) / factor);\n\t\t\t\t})];\n\t\t\t\t\n\t\t\t\tif (allowArcHandle && mxUtils.getValue(state.style, mxConstants.STYLE_ROUNDED, false))\n\t\t\t\t{\n\t\t\t\t\thandles.push(createArcHandle(state));\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn handles;\n\t\t\t};\n\t\t};\n\t\t\n\t\tfunction createArrowHandleFunction(maxSize)\n\t\t{\n\t\t\treturn function(state)\n\t\t\t{\n\t\t\t\treturn [createHandle(state, ['arrowWidth', 'arrowSize'], function(bounds)\n\t\t\t\t{\n\t\t\t\t\tvar aw = Math.max(0, Math.min(1, mxUtils.getValue(this.state.style, 'arrowWidth', SingleArrowShape.prototype.arrowWidth)));\n\t\t\t\t\tvar as = Math.max(0, Math.min(maxSize, mxUtils.getValue(this.state.style, 'arrowSize', SingleArrowShape.prototype.arrowSize)));\n\t\t\t\t\t\n\t\t\t\t\treturn new mxPoint(bounds.x + (1 - as) * bounds.width, bounds.y + (1 - aw) * bounds.height / 2);\n\t\t\t\t}, function(bounds, pt)\n\t\t\t\t{\n\t\t\t\t\tthis.state.style['arrowWidth'] = Math.max(0, Math.min(1, Math.abs(bounds.y + bounds.height / 2 - pt.y) / bounds.height * 2));\n\t\t\t\t\tthis.state.style['arrowSize'] = Math.max(0, Math.min(maxSize, (bounds.x + bounds.width - pt.x) / (bounds.width)));\n\t\t\t\t})];\n\t\t\t};\n\t\t};\n\t\t\n\t\tfunction createEdgeHandle(state, keys, start, getPosition, setPosition)\n\t\t{\n\t\t\treturn createHandle(state, keys, function(bounds)\n\t\t\t{\n\t\t\t\tvar pts = state.absolutePoints;\n\t\t\t\tvar n = pts.length - 1;\n\t\t\t\t\n\t\t\t\tvar tr = state.view.translate;\n\t\t\t\tvar s = state.view.scale;\n\t\t\t\t\n\t\t\t\tvar p0 = (start) ? pts[0] : pts[n];\n\t\t\t\tvar p1 = (start) ? pts[1] : pts[n - 1];\n\t\t\t\tvar dx = (start) ? p1.x - p0.x : p1.x - p0.x;\n\t\t\t\tvar dy = (start) ? p1.y - p0.y : p1.y - p0.y;\n\n\t\t\t\tvar dist = Math.sqrt(dx * dx + dy * dy);\n\t\t\t\t\n\t\t\t\tvar pt = getPosition.call(this, dist, dx / dist, dy / dist, p0, p1);\n\t\t\t\t\n\t\t\t\treturn new mxPoint(pt.x / s - tr.x, pt.y / s - tr.y);\n\t\t\t}, function(bounds, pt, me)\n\t\t\t{\n\t\t\t\tvar pts = state.absolutePoints;\n\t\t\t\tvar n = pts.length - 1;\n\t\t\t\t\n\t\t\t\tvar tr = state.view.translate;\n\t\t\t\tvar s = state.view.scale;\n\t\t\t\t\n\t\t\t\tvar p0 = (start) ? pts[0] : pts[n];\n\t\t\t\tvar p1 = (start) ? pts[1] : pts[n - 1];\n\t\t\t\tvar dx = (start) ? p1.x - p0.x : p1.x - p0.x;\n\t\t\t\tvar dy = (start) ? p1.y - p0.y : p1.y - p0.y;\n\n\t\t\t\tvar dist = Math.sqrt(dx * dx + dy * dy);\n\t\t\t\tpt.x = (pt.x + tr.x) * s;\n\t\t\t\tpt.y = (pt.y + tr.y) * s;\n\n\t\t\t\tsetPosition.call(this, dist, dx / dist, dy / dist, p0, p1, pt, me);\n\t\t\t});\n\t\t};\n\t\t\n\t\tfunction createEdgeWidthHandle(state, start, spacing)\n\t\t{\n\t\t\treturn createEdgeHandle(state, ['width'], start, function(dist, nx, ny, p0, p1)\n\t\t\t{\n\t\t\t\tvar w = state.shape.getEdgeWidth() * state.view.scale + spacing;\n\n\t\t\t\treturn new mxPoint(p0.x + nx * dist / 4 + ny * w / 2, p0.y + ny * dist / 4 - nx * w / 2);\n\t\t\t}, function(dist, nx, ny, p0, p1, pt)\n\t\t\t{\n\t\t\t\tvar w = Math.sqrt(mxUtils.ptSegDistSq(p0.x, p0.y, p1.x, p1.y, pt.x, pt.y));\t\t\t\t\t\n\t\t\t\tstate.style['width'] = Math.round(w * 2) / state.view.scale - spacing;\n\t\t\t});\n\t\t};\n\t\t\n\t\tfunction ptLineDistance(x1, y1, x2, y2, x0, y0)\n\t\t{\n\t\t\treturn Math.abs((y2 - y1) * x0 - (x2 - x1) * y0 + x2 * y1 - y2 * x1) / Math.sqrt((y2 - y1) * (y2 - y1) + (x2 - x1) * (x2 - x1));\n\t\t}\n\n\t\tvar handleFactory = {\n\t\t\t'link': function(state)\n\t\t\t{\n\t\t\t\tvar spacing = 10;\n\n\t\t\t\treturn [createEdgeWidthHandle(state, true, spacing), createEdgeWidthHandle(state, false, spacing)];\n\t\t\t},\n\t\t\t'flexArrow': function(state)\n\t\t\t{\n\t\t\t\t// Do not use state.shape.startSize/endSize since it is cached\n\t\t\t\tvar tol = state.view.graph.gridSize / state.view.scale;\n\t\t\t\tvar handles = [];\n\t\t\t\t\n\t\t\t\tif (mxUtils.getValue(state.style, mxConstants.STYLE_STARTARROW, mxConstants.NONE) != mxConstants.NONE)\n\t\t\t\t{\n\t\t\t\t\thandles.push(createEdgeHandle(state, ['width', mxConstants.STYLE_STARTSIZE, mxConstants.STYLE_ENDSIZE], true, function(dist, nx, ny, p0, p1)\n\t\t\t\t\t{\n\t\t\t\t\t\tvar w = (state.shape.getEdgeWidth() - state.shape.strokewidth) * state.view.scale;\n\t\t\t\t\t\tvar l = mxUtils.getNumber(state.style, mxConstants.STYLE_STARTSIZE, mxConstants.ARROW_SIZE / 5) * 3 * state.view.scale;\n\t\t\t\t\t\t\n\t\t\t\t\t\treturn new mxPoint(p0.x + nx * (l + state.shape.strokewidth * state.view.scale) + ny * w / 2,\n\t\t\t\t\t\t\tp0.y + ny * (l + state.shape.strokewidth * state.view.scale) - nx * w / 2);\n\t\t\t\t\t}, function(dist, nx, ny, p0, p1, pt, me)\n\t\t\t\t\t{\n\t\t\t\t\t\tvar w = Math.sqrt(mxUtils.ptSegDistSq(p0.x, p0.y, p1.x, p1.y, pt.x, pt.y));\n\t\t\t\t\t\tvar l = mxUtils.ptLineDist(p0.x, p0.y, p0.x + ny, p0.y - nx, pt.x, pt.y);\n\t\t\t\t\t\t\n\t\t\t\t\t\tstate.style[mxConstants.STYLE_STARTSIZE] = Math.round((l - state.shape.strokewidth) * 100 / 3) / 100 / state.view.scale;\n\t\t\t\t\t\tstate.style['width'] = Math.round(w * 2) / state.view.scale;\n\t\t\t\t\t\t\n\t\t\t\t\t\t// Applies to opposite side\n\t\t\t\t\t\tif (mxEvent.isControlDown(me.getEvent()))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tstate.style[mxConstants.STYLE_ENDSIZE] = state.style[mxConstants.STYLE_STARTSIZE];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Snaps to end geometry\n\t\t\t\t\t\tif (!mxEvent.isAltDown(me.getEvent()))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (Math.abs(parseFloat(state.style[mxConstants.STYLE_STARTSIZE]) - parseFloat(state.style[mxConstants.STYLE_ENDSIZE])) < tol / 6)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tstate.style[mxConstants.STYLE_STARTSIZE] = state.style[mxConstants.STYLE_ENDSIZE];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}));\n\t\t\t\t\t\n\t\t\t\t\thandles.push(createEdgeHandle(state, ['startWidth', 'endWidth', mxConstants.STYLE_STARTSIZE, mxConstants.STYLE_ENDSIZE], true, function(dist, nx, ny, p0, p1)\n\t\t\t\t\t{\n\t\t\t\t\t\tvar w = (state.shape.getStartArrowWidth() - state.shape.strokewidth) * state.view.scale;\n\t\t\t\t\t\tvar l = mxUtils.getNumber(state.style, mxConstants.STYLE_STARTSIZE, mxConstants.ARROW_SIZE / 5) * 3 * state.view.scale;\n\t\t\t\t\t\t\n\t\t\t\t\t\treturn new mxPoint(p0.x + nx * (l + state.shape.strokewidth * state.view.scale) + ny * w / 2,\n\t\t\t\t\t\t\tp0.y + ny * (l + state.shape.strokewidth * state.view.scale) - nx * w / 2);\n\t\t\t\t\t}, function(dist, nx, ny, p0, p1, pt, me)\n\t\t\t\t\t{\n\t\t\t\t\t\tvar w = Math.sqrt(mxUtils.ptSegDistSq(p0.x, p0.y, p1.x, p1.y, pt.x, pt.y));\n\t\t\t\t\t\tvar l = mxUtils.ptLineDist(p0.x, p0.y, p0.x + ny, p0.y - nx, pt.x, pt.y);\n\t\t\t\t\t\t\n\t\t\t\t\t\tstate.style[mxConstants.STYLE_STARTSIZE] = Math.round((l - state.shape.strokewidth) * 100 / 3) / 100 / state.view.scale;\n\t\t\t\t\t\tstate.style['startWidth'] = Math.max(0, Math.round(w * 2) - state.shape.getEdgeWidth()) / state.view.scale;\n\t\t\t\t\t\t\n\t\t\t\t\t\t// Applies to opposite side\n\t\t\t\t\t\tif (mxEvent.isControlDown(me.getEvent()))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tstate.style[mxConstants.STYLE_ENDSIZE] = state.style[mxConstants.STYLE_STARTSIZE];\n\t\t\t\t\t\t\tstate.style['endWidth'] = state.style['startWidth'];\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t// Snaps to endWidth\n\t\t\t\t\t\tif (!mxEvent.isAltDown(me.getEvent()))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (Math.abs(parseFloat(state.style[mxConstants.STYLE_STARTSIZE]) - parseFloat(state.style[mxConstants.STYLE_ENDSIZE])) < tol / 6)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tstate.style[mxConstants.STYLE_STARTSIZE] = state.style[mxConstants.STYLE_ENDSIZE];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif (Math.abs(parseFloat(state.style['startWidth']) - parseFloat(state.style['endWidth'])) < tol)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tstate.style['startWidth'] = state.style['endWidth'];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif (mxUtils.getValue(state.style, mxConstants.STYLE_ENDARROW, mxConstants.NONE) != mxConstants.NONE)\n\t\t\t\t{\n\t\t\t\t\thandles.push(createEdgeHandle(state, ['width', mxConstants.STYLE_STARTSIZE, mxConstants.STYLE_ENDSIZE], false, function(dist, nx, ny, p0, p1)\n\t\t\t\t\t{\n\t\t\t\t\t\tvar w = (state.shape.getEdgeWidth() - state.shape.strokewidth) * state.view.scale;\n\t\t\t\t\t\tvar l = mxUtils.getNumber(state.style, mxConstants.STYLE_ENDSIZE, mxConstants.ARROW_SIZE / 5) * 3 * state.view.scale;\n\t\t\t\t\t\t\n\t\t\t\t\t\treturn new mxPoint(p0.x + nx * (l + state.shape.strokewidth * state.view.scale) - ny * w / 2,\n\t\t\t\t\t\t\tp0.y + ny * (l + state.shape.strokewidth * state.view.scale) + nx * w / 2);\n\t\t\t\t\t}, function(dist, nx, ny, p0, p1, pt, me)\n\t\t\t\t\t{\n\t\t\t\t\t\tvar w = Math.sqrt(mxUtils.ptSegDistSq(p0.x, p0.y, p1.x, p1.y, pt.x, pt.y));\n\t\t\t\t\t\tvar l = mxUtils.ptLineDist(p0.x, p0.y, p0.x + ny, p0.y - nx, pt.x, pt.y);\n\t\t\t\t\t\t\n\t\t\t\t\t\tstate.style[mxConstants.STYLE_ENDSIZE] = Math.round((l - state.shape.strokewidth) * 100 / 3) / 100 / state.view.scale;\n\t\t\t\t\t\tstate.style['width'] = Math.round(w * 2) / state.view.scale;\n\t\t\t\t\t\t\n\t\t\t\t\t\t// Applies to opposite side\n\t\t\t\t\t\tif (mxEvent.isControlDown(me.getEvent()))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tstate.style[mxConstants.STYLE_STARTSIZE] = state.style[mxConstants.STYLE_ENDSIZE];\n\t\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t\t// Snaps to start geometry\n\t\t\t\t\t\tif (!mxEvent.isAltDown(me.getEvent()))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (Math.abs(parseFloat(state.style[mxConstants.STYLE_ENDSIZE]) - parseFloat(state.style[mxConstants.STYLE_STARTSIZE])) < tol / 6)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tstate.style[mxConstants.STYLE_ENDSIZE] = state.style[mxConstants.STYLE_STARTSIZE];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}));\n\t\t\t\t\t\n\t\t\t\t\thandles.push(createEdgeHandle(state, ['startWidth', 'endWidth', mxConstants.STYLE_STARTSIZE, mxConstants.STYLE_ENDSIZE], false, function(dist, nx, ny, p0, p1)\n\t\t\t\t\t{\n\t\t\t\t\t\tvar w = (state.shape.getEndArrowWidth() - state.shape.strokewidth) * state.view.scale;\n\t\t\t\t\t\tvar l = mxUtils.getNumber(state.style, mxConstants.STYLE_ENDSIZE, mxConstants.ARROW_SIZE / 5) * 3 * state.view.scale;\n\t\t\t\t\t\t\n\t\t\t\t\t\treturn new mxPoint(p0.x + nx * (l + state.shape.strokewidth * state.view.scale) - ny * w / 2,\n\t\t\t\t\t\t\tp0.y + ny * (l + state.shape.strokewidth * state.view.scale) + nx * w / 2);\n\t\t\t\t\t}, function(dist, nx, ny, p0, p1, pt, me)\n\t\t\t\t\t{\n\t\t\t\t\t\tvar w = Math.sqrt(mxUtils.ptSegDistSq(p0.x, p0.y, p1.x, p1.y, pt.x, pt.y));\n\t\t\t\t\t\tvar l = mxUtils.ptLineDist(p0.x, p0.y, p0.x + ny, p0.y - nx, pt.x, pt.y);\n\t\t\t\t\t\t\n\t\t\t\t\t\tstate.style[mxConstants.STYLE_ENDSIZE] = Math.round((l - state.shape.strokewidth) * 100 / 3) / 100 / state.view.scale;\n\t\t\t\t\t\tstate.style['endWidth'] = Math.max(0, Math.round(w * 2) - state.shape.getEdgeWidth()) / state.view.scale;\n\t\t\t\t\t\t\n\t\t\t\t\t\t// Applies to opposite side\n\t\t\t\t\t\tif (mxEvent.isControlDown(me.getEvent()))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tstate.style[mxConstants.STYLE_STARTSIZE] = state.style[mxConstants.STYLE_ENDSIZE];\n\t\t\t\t\t\t\tstate.style['startWidth'] = state.style['endWidth'];\n\t\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t\t// Snaps to start geometry\n\t\t\t\t\t\tif (!mxEvent.isAltDown(me.getEvent()))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (Math.abs(parseFloat(state.style[mxConstants.STYLE_ENDSIZE]) - parseFloat(state.style[mxConstants.STYLE_STARTSIZE])) < tol / 6)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tstate.style[mxConstants.STYLE_ENDSIZE] = state.style[mxConstants.STYLE_STARTSIZE];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif (Math.abs(parseFloat(state.style['endWidth']) - parseFloat(state.style['startWidth'])) < tol)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tstate.style['endWidth'] = state.style['startWidth'];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn handles;\n\t\t\t},\n\t\t\t'swimlane': function(state)\n\t\t\t{\n\t\t\t\tvar handles = [createHandle(state, [mxConstants.STYLE_STARTSIZE], function(bounds)\n\t\t\t\t{\n\t\t\t\t\tvar size = parseFloat(mxUtils.getValue(state.style, mxConstants.STYLE_STARTSIZE, mxConstants.DEFAULT_STARTSIZE));\n\t\t\t\t\t\n\t\t\t\t\tif (mxUtils.getValue(state.style, mxConstants.STYLE_HORIZONTAL, 1) == 1)\n\t\t\t\t\t{\n\t\t\t\t\t\treturn new mxPoint(bounds.getCenterX(), bounds.y + Math.max(0, Math.min(bounds.height, size)));\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\treturn new mxPoint(bounds.x + Math.max(0, Math.min(bounds.width, size)), bounds.getCenterY());\n\t\t\t\t\t}\n\t\t\t\t}, function(bounds, pt)\n\t\t\t\t{\t\n\t\t\t\t\tstate.style[mxConstants.STYLE_STARTSIZE] =\n\t\t\t\t\t\t(mxUtils.getValue(this.state.style, mxConstants.STYLE_HORIZONTAL, 1) == 1) ?\n\t\t\t\t\t\t\tMath.round(Math.max(0, Math.min(bounds.height, pt.y - bounds.y))) :\n\t\t\t\t\t\t\tMath.round(Math.max(0, Math.min(bounds.width, pt.x - bounds.x)));\n\t\t\t\t})];\n\t\t\t\t\n\t\t\t\tif (mxUtils.getValue(state.style, mxConstants.STYLE_ROUNDED))\n\t\t\t\t{\n\t\t\t\t\tvar size = parseFloat(mxUtils.getValue(state.style, mxConstants.STYLE_STARTSIZE, mxConstants.DEFAULT_STARTSIZE));\n\t\t\t\t\thandles.push(createArcHandle(state, size / 2));\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn handles;\n\t\t\t},\n\t\t\t'label': createArcHandleFunction(),\n\t\t\t'ext': createArcHandleFunction(),\n\t\t\t'rectangle': createArcHandleFunction(),\n\t\t\t'triangle': createArcHandleFunction(),\n\t\t\t'rhombus': createArcHandleFunction(),\n\t\t\t'umlLifeline': function(state)\n\t\t\t{\n\t\t\t\treturn [createHandle(state, ['size'], function(bounds)\n\t\t\t\t{\n\t\t\t\t\tvar size = Math.max(0, Math.min(bounds.height, parseFloat(mxUtils.getValue(this.state.style, 'size', UmlLifeline.prototype.size))));\n\t\t\t\t\t\n\t\t\t\t\treturn new mxPoint(bounds.getCenterX(), bounds.y + size);\n\t\t\t\t}, function(bounds, pt)\n\t\t\t\t{\t\n\t\t\t\t\tthis.state.style['size'] = Math.round(Math.max(0, Math.min(bounds.height, pt.y - bounds.y)));\n\t\t\t\t}, false)];\n\t\t\t},\n\t\t\t'umlFrame': function(state)\n\t\t\t{\n\t\t\t\tvar handles = [createHandle(state, ['width', 'height'], function(bounds)\n\t\t\t\t{\n\t\t\t\t\tvar w0 = Math.max(UmlFrame.prototype.corner, Math.min(bounds.width, mxUtils.getValue(this.state.style, 'width', UmlFrame.prototype.width)));\n\t\t\t\t\tvar h0 = Math.max(UmlFrame.prototype.corner * 1.5, Math.min(bounds.height, mxUtils.getValue(this.state.style, 'height', UmlFrame.prototype.height)));\n\n\t\t\t\t\treturn new mxPoint(bounds.x + w0, bounds.y + h0);\n\t\t\t\t}, function(bounds, pt)\n\t\t\t\t{\n\t\t\t\t\tthis.state.style['width'] = Math.round(Math.max(UmlFrame.prototype.corner, Math.min(bounds.width, pt.x - bounds.x)));\n\t\t\t\t\tthis.state.style['height'] = Math.round(Math.max(UmlFrame.prototype.corner * 1.5, Math.min(bounds.height, pt.y - bounds.y)));\n\t\t\t\t}, false)];\n\t\t\t\t\n\t\t\t\treturn handles;\n\t\t\t},\n\t\t\t'process': function(state)\n\t\t\t{\n\t\t\t\tvar handles = [createHandle(state, ['size'], function(bounds)\n\t\t\t\t{\n\t\t\t\t\tvar size = Math.max(0, Math.min(0.5, parseFloat(mxUtils.getValue(this.state.style, 'size', ProcessShape.prototype.size))));\n\n\t\t\t\t\treturn new mxPoint(bounds.x + bounds.width * size, bounds.y + bounds.height / 4);\n\t\t\t\t}, function(bounds, pt)\n\t\t\t\t{\n\t\t\t\t\tthis.state.style['size'] = Math.max(0, Math.min(0.5, (pt.x - bounds.x) / bounds.width));\n\t\t\t\t})];\n\t\t\t\t\n\t\t\t\tif (mxUtils.getValue(state.style, mxConstants.STYLE_ROUNDED, false))\n\t\t\t\t{\n\t\t\t\t\thandles.push(createArcHandle(state));\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn handles;\n\t\t\t},\n\t\t\t'cross': function(state)\n\t\t\t{\n\t\t\t\treturn [createHandle(state, ['size'], function(bounds)\n\t\t\t\t{\n\t\t\t\t\tvar m = Math.min(bounds.width, bounds.height);\n\t\t\t\t\tvar size = Math.max(0, Math.min(1, mxUtils.getValue(this.state.style, 'size', CrossShape.prototype.size))) * m / 2;\n\n\t\t\t\t\treturn new mxPoint(bounds.getCenterX() - size, bounds.getCenterY() - size);\n\t\t\t\t}, function(bounds, pt)\n\t\t\t\t{\n\t\t\t\t\tvar m = Math.min(bounds.width, bounds.height);\n\t\t\t\t\tthis.state.style['size'] = Math.max(0, Math.min(1, Math.min((Math.max(0, bounds.getCenterY() - pt.y) / m) * 2,\n\t\t\t\t\t\t\t(Math.max(0, bounds.getCenterX() - pt.x) / m) * 2)));\n\t\t\t\t})];\n\t\t\t},\n\t\t\t'note': function(state)\n\t\t\t{\n\t\t\t\treturn [createHandle(state, ['size'], function(bounds)\n\t\t\t\t{\n\t\t\t\t\tvar size = Math.max(0, Math.min(bounds.width, Math.min(bounds.height, parseFloat(\n\t\t\t\t\t\tmxUtils.getValue(this.state.style, 'size', NoteShape.prototype.size)))));\n\t\t\t\t\t\n\t\t\t\t\treturn new mxPoint(bounds.x + bounds.width - size, bounds.y + size);\n\t\t\t\t}, function(bounds, pt)\n\t\t\t\t{\n\t\t\t\t\tthis.state.style['size'] = Math.round(Math.max(0, Math.min(Math.min(bounds.width, bounds.x + bounds.width - pt.x),\n\t\t\t\t\t\t\tMath.min(bounds.height, pt.y - bounds.y))));\n\t\t\t\t})];\n\t\t\t},\n\t\t\t'manualInput': function(state)\n\t\t\t{\n\t\t\t\tvar handles = [createHandle(state, ['size'], function(bounds)\n\t\t\t\t{\n\t\t\t\t\tvar size = Math.max(0, Math.min(bounds.height, mxUtils.getValue(this.state.style, 'size', ManualInputShape.prototype.size)));\n\t\t\t\t\t\n\t\t\t\t\treturn new mxPoint(bounds.x + bounds.width / 4, bounds.y + size * 3 / 4);\n\t\t\t\t}, function(bounds, pt)\n\t\t\t\t{\n\t\t\t\t\tthis.state.style['size'] = Math.round(Math.max(0, Math.min(bounds.height, (pt.y - bounds.y) * 4 / 3)));\n\t\t\t\t})];\n\t\t\t\t\n\t\t\t\tif (mxUtils.getValue(state.style, mxConstants.STYLE_ROUNDED, false))\n\t\t\t\t{\n\t\t\t\t\thandles.push(createArcHandle(state));\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn handles;\n\t\t\t},\n\t\t\t'dataStorage': function(state)\n\t\t\t{\n\t\t\t\treturn [createHandle(state, ['size'], function(bounds)\n\t\t\t\t{\n\t\t\t\t\tvar size = Math.max(0, Math.min(1, parseFloat(mxUtils.getValue(this.state.style, 'size', DataStorageShape.prototype.size))));\n\n\t\t\t\t\treturn new mxPoint(bounds.x + (1 - size) * bounds.width, bounds.getCenterY());\n\t\t\t\t}, function(bounds, pt)\n\t\t\t\t{\n\t\t\t\t\tthis.state.style['size'] = Math.max(0, Math.min(1, (bounds.x + bounds.width - pt.x) / bounds.width));\n\t\t\t\t})];\n\t\t\t},\n\t\t\t'callout': function(state)\n\t\t\t{\n\t\t\t\tvar handles = [createHandle(state, ['size', 'position'], function(bounds)\n\t\t\t\t{\n\t\t\t\t\tvar size = Math.max(0, Math.min(bounds.height, mxUtils.getValue(this.state.style, 'size', CalloutShape.prototype.size)));\n\t\t\t\t\tvar position = Math.max(0, Math.min(1, mxUtils.getValue(this.state.style, 'position', CalloutShape.prototype.position)));\n\t\t\t\t\tvar base = Math.max(0, Math.min(bounds.width, mxUtils.getValue(this.state.style, 'base', CalloutShape.prototype.base)));\n\t\t\t\t\t\n\t\t\t\t\treturn new mxPoint(bounds.x + position * bounds.width, bounds.y + bounds.height - size);\n\t\t\t\t}, function(bounds, pt)\n\t\t\t\t{\n\t\t\t\t\tvar base = Math.max(0, Math.min(bounds.width, mxUtils.getValue(this.state.style, 'base', CalloutShape.prototype.base)));\n\t\t\t\t\tthis.state.style['size'] = Math.round(Math.max(0, Math.min(bounds.height, bounds.y + bounds.height - pt.y)));\n\t\t\t\t\tthis.state.style['position'] = Math.round(Math.max(0, Math.min(1, (pt.x - bounds.x) / bounds.width)) * 100) / 100;\n\t\t\t\t}), createHandle(state, ['position2'], function(bounds)\n\t\t\t\t{\n\t\t\t\t\tvar position2 = Math.max(0, Math.min(1, mxUtils.getValue(this.state.style, 'position2', CalloutShape.prototype.position2)));\n\n\t\t\t\t\treturn new mxPoint(bounds.x + position2 * bounds.width, bounds.y + bounds.height);\n\t\t\t\t}, function(bounds, pt)\n\t\t\t\t{\n\t\t\t\t\tthis.state.style['position2'] = Math.round(Math.max(0, Math.min(1, (pt.x - bounds.x) / bounds.width)) * 100) / 100;\n\t\t\t\t}), createHandle(state, ['base'], function(bounds)\n\t\t\t\t{\n\t\t\t\t\tvar size = Math.max(0, Math.min(bounds.height, mxUtils.getValue(this.state.style, 'size', CalloutShape.prototype.size)));\n\t\t\t\t\tvar position = Math.max(0, Math.min(1, mxUtils.getValue(this.state.style, 'position', CalloutShape.prototype.position)));\n\t\t\t\t\tvar base = Math.max(0, Math.min(bounds.width, mxUtils.getValue(this.state.style, 'base', CalloutShape.prototype.base)));\n\t\t\t\t\t\n\t\t\t\t\treturn new mxPoint(bounds.x + Math.min(bounds.width, position * bounds.width + base), bounds.y + bounds.height - size);\n\t\t\t\t}, function(bounds, pt)\n\t\t\t\t{\n\t\t\t\t\tvar position = Math.max(0, Math.min(1, mxUtils.getValue(this.state.style, 'position', CalloutShape.prototype.position)));\n\n\t\t\t\t\tthis.state.style['base'] = Math.round(Math.max(0, Math.min(bounds.width, pt.x - bounds.x - position * bounds.width)));\n\t\t\t\t})];\n\t\t\t\t\n\t\t\t\tif (mxUtils.getValue(state.style, mxConstants.STYLE_ROUNDED, false))\n\t\t\t\t{\n\t\t\t\t\thandles.push(createArcHandle(state));\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn handles;\n\t\t\t},\n\t\t\t'internalStorage': function(state)\n\t\t\t{\n\t\t\t\tvar handles = [createHandle(state, ['dx', 'dy'], function(bounds)\n\t\t\t\t{\n\t\t\t\t\tvar dx = Math.max(0, Math.min(bounds.width, mxUtils.getValue(this.state.style, 'dx', InternalStorageShape.prototype.dx)));\n\t\t\t\t\tvar dy = Math.max(0, Math.min(bounds.height, mxUtils.getValue(this.state.style, 'dy', InternalStorageShape.prototype.dy)));\n\n\t\t\t\t\treturn new mxPoint(bounds.x + dx, bounds.y + dy);\n\t\t\t\t}, function(bounds, pt)\n\t\t\t\t{\n\t\t\t\t\tthis.state.style['dx'] = Math.round(Math.max(0, Math.min(bounds.width, pt.x - bounds.x)));\n\t\t\t\t\tthis.state.style['dy'] = Math.round(Math.max(0, Math.min(bounds.height, pt.y - bounds.y)));\n\t\t\t\t})];\n\t\t\t\t\n\t\t\t\tif (mxUtils.getValue(state.style, mxConstants.STYLE_ROUNDED, false))\n\t\t\t\t{\n\t\t\t\t\thandles.push(createArcHandle(state));\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn handles;\n\t\t\t},\n\t\t\t'corner': function(state)\n\t\t\t{\n\t\t\t\treturn [createHandle(state, ['dx', 'dy'], function(bounds)\n\t\t\t\t{\n\t\t\t\t\tvar dx = Math.max(0, Math.min(bounds.width, mxUtils.getValue(this.state.style, 'dx', CornerShape.prototype.dx)));\n\t\t\t\t\tvar dy = Math.max(0, Math.min(bounds.height, mxUtils.getValue(this.state.style, 'dy', CornerShape.prototype.dy)));\n\n\t\t\t\t\treturn new mxPoint(bounds.x + dx, bounds.y + dy);\n\t\t\t\t}, function(bounds, pt)\n\t\t\t\t{\n\t\t\t\t\tthis.state.style['dx'] = Math.round(Math.max(0, Math.min(bounds.width, pt.x - bounds.x)));\n\t\t\t\t\tthis.state.style['dy'] = Math.round(Math.max(0, Math.min(bounds.height, pt.y - bounds.y)));\n\t\t\t\t})];\n\t\t\t},\n\t\t\t'tee': function(state)\n\t\t\t{\n\t\t\t\treturn [createHandle(state, ['dx', 'dy'], function(bounds)\n\t\t\t\t{\n\t\t\t\t\tvar dx = Math.max(0, Math.min(bounds.width, mxUtils.getValue(this.state.style, 'dx', TeeShape.prototype.dx)));\n\t\t\t\t\tvar dy = Math.max(0, Math.min(bounds.height, mxUtils.getValue(this.state.style, 'dy', TeeShape.prototype.dy)));\n\n\t\t\t\t\treturn new mxPoint(bounds.x + (bounds.width + dx) / 2, bounds.y + dy);\n\t\t\t\t}, function(bounds, pt)\n\t\t\t\t{\n\t\t\t\t\tthis.state.style['dx'] = Math.round(Math.max(0, Math.min(bounds.width / 2, (pt.x - bounds.x - bounds.width / 2)) * 2));\n\t\t\t\t\tthis.state.style['dy'] = Math.round(Math.max(0, Math.min(bounds.height, pt.y - bounds.y)));\n\t\t\t\t})];\n\t\t\t},\n\t\t\t'singleArrow': createArrowHandleFunction(1),\n\t\t\t'doubleArrow': createArrowHandleFunction(0.5),\t\t\t\n\t\t\t'folder': function(state)\n\t\t\t{\n\t\t\t\treturn [createHandle(state, ['tabWidth', 'tabHeight'], function(bounds)\n\t\t\t\t{\n\t\t\t\t\tvar tw = Math.max(0, Math.min(bounds.width, mxUtils.getValue(this.state.style, 'tabWidth', FolderShape.prototype.tabWidth)));\n\t\t\t\t\tvar th = Math.max(0, Math.min(bounds.height, mxUtils.getValue(this.state.style, 'tabHeight', FolderShape.prototype.tabHeight)));\n\t\t\t\t\t\n\t\t\t\t\tif (mxUtils.getValue(this.state.style, 'tabPosition', FolderShape.prototype.tabPosition) == mxConstants.ALIGN_RIGHT)\n\t\t\t\t\t{\n\t\t\t\t\t\ttw = bounds.width - tw;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\treturn new mxPoint(bounds.x + tw, bounds.y + th);\n\t\t\t\t}, function(bounds, pt)\n\t\t\t\t{\n\t\t\t\t\tvar tw = Math.max(0, Math.min(bounds.width, pt.x - bounds.x));\n\t\t\t\t\t\n\t\t\t\t\tif (mxUtils.getValue(this.state.style, 'tabPosition', FolderShape.prototype.tabPosition) == mxConstants.ALIGN_RIGHT)\n\t\t\t\t\t{\n\t\t\t\t\t\ttw = bounds.width - tw;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tthis.state.style['tabWidth'] = Math.round(tw);\n\t\t\t\t\tthis.state.style['tabHeight'] = Math.round(Math.max(0, Math.min(bounds.height, pt.y - bounds.y)));\n\t\t\t\t})];\n\t\t\t},\n\t\t\t'document': function(state)\n\t\t\t{\n\t\t\t\treturn [createHandle(state, ['size'], function(bounds)\n\t\t\t\t{\n\t\t\t\t\tvar size = Math.max(0, Math.min(1, parseFloat(mxUtils.getValue(this.state.style, 'size', DocumentShape.prototype.size))));\n\n\t\t\t\t\treturn new mxPoint(bounds.x + 3 * bounds.width / 4, bounds.y + (1 - size) * bounds.height);\n\t\t\t\t}, function(bounds, pt)\n\t\t\t\t{\n\t\t\t\t\tthis.state.style['size'] = Math.max(0, Math.min(1, (bounds.y + bounds.height - pt.y) / bounds.height));\n\t\t\t\t})];\n\t\t\t},\n\t\t\t'tape': function(state)\n\t\t\t{\n\t\t\t\treturn [createHandle(state, ['size'], function(bounds)\n\t\t\t\t{\n\t\t\t\t\tvar size = Math.max(0, Math.min(1, parseFloat(mxUtils.getValue(this.state.style, 'size', TapeShape.prototype.size))));\n\n\t\t\t\t\treturn new mxPoint(bounds.getCenterX(), bounds.y + size * bounds.height / 2);\n\t\t\t\t}, function(bounds, pt)\n\t\t\t\t{\n\t\t\t\t\tthis.state.style['size'] = Math.max(0, Math.min(1, ((pt.y - bounds.y) / bounds.height) * 2));\n\t\t\t\t})];\n\t\t\t},\n\t\t\t'offPageConnector': function(state)\n\t\t\t{\n\t\t\t\treturn [createHandle(state, ['size'], function(bounds)\n\t\t\t\t{\n\t\t\t\t\tvar size = Math.max(0, Math.min(1, parseFloat(mxUtils.getValue(this.state.style, 'size', OffPageConnectorShape.prototype.size))));\n\n\t\t\t\t\treturn new mxPoint(bounds.getCenterX(), bounds.y + (1 - size) * bounds.height);\n\t\t\t\t}, function(bounds, pt)\n\t\t\t\t{\n\t\t\t\t\tthis.state.style['size'] = Math.max(0, Math.min(1, (bounds.y + bounds.height - pt.y) / bounds.height));\n\t\t\t\t})];\n\t\t\t},\n\t\t\t'step': createDisplayHandleFunction(StepShape.prototype.size, true, null, true, StepShape.prototype.fixedSize),\n\t\t\t'hexagon': createDisplayHandleFunction(HexagonShape.prototype.size, true, 0.5, true),\n\t\t\t'curlyBracket': createDisplayHandleFunction(CurlyBracketShape.prototype.size, false),\n\t\t\t'display': createDisplayHandleFunction(DisplayShape.prototype.size, false),\n\t\t\t'cube': createCubeHandleFunction(1, CubeShape.prototype.size, false),\n\t\t\t'card': createCubeHandleFunction(0.5, CardShape.prototype.size, true),\n\t\t\t'loopLimit': createCubeHandleFunction(0.5, LoopLimitShape.prototype.size, true),\n\t\t\t'trapezoid': createTrapezoidHandleFunction(0.5),\n\t\t\t'parallelogram': createTrapezoidHandleFunction(1)\n\t\t};\n\t\t\n\t\t// Exposes custom handles\n\t\tmxGraph.createHandle = createHandle;\n\t\tmxGraph.handleFactory = handleFactory;\n\n\t\tmxVertexHandler.prototype.createCustomHandles = function()\n\t\t{\n\t\t\t// Not rotatable means locked\n\t\t\tif (this.state.view.graph.getSelectionCount() == 1)\n\t\t\t{\n\t\t\t\tif (this.graph.isCellRotatable(this.state.cell))\n\t\t\t\t// LATER: Make locked state independent of rotatable flag, fix toggle if default is false\n\t\t\t\t//if (this.graph.isCellResizable(this.state.cell) || this.graph.isCellMovable(this.state.cell))\n\t\t\t\t{\n\t\t\t\t\tvar name = this.state.style['shape'];\n\n\t\t\t\t\tif (mxCellRenderer.defaultShapes[name] == null &&\n\t\t\t\t\t\tmxStencilRegistry.getStencil(name) == null)\n\t\t\t\t\t{\n\t\t\t\t\t\tname = mxConstants.SHAPE_RECTANGLE;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tvar fn = handleFactory[name];\n\t\t\t\t\t\n\t\t\t\t\tif (fn == null && this.state.shape != null && this.state.shape.isRoundable())\n\t\t\t\t\t{\n\t\t\t\t\t\tfn = handleFactory[mxConstants.SHAPE_RECTANGLE];\n\t\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\tif (fn != null)\n\t\t\t\t\t{\n\t\t\t\t\t\treturn fn(this.state);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\treturn null;\n\t\t};\n\t\t\n\t\tmxEdgeHandler.prototype.createCustomHandles = function()\n\t\t{\n\t\t\tif (this.state.view.graph.getSelectionCount() == 1)\n\t\t\t{\n\t\t\t\tvar name = this.state.style['shape'];\n\t\t\t\t\n\t\t\t\tif (mxCellRenderer.defaultShapes[name] == null &&\n\t\t\t\t\tmxStencilRegistry.getStencil(name) == null)\n\t\t\t\t{\n\t\t\t\t\tname = mxConstants.SHAPE_CONNECTOR;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tvar fn = handleFactory[name];\n\t\t\t\t\n\t\t\t\tif (fn != null)\n\t\t\t\t{\n\t\t\t\t\treturn fn(this.state);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\treturn null;\n\t\t}\n\t}\n\telse\n\t{\n\t\t// Dummy entries to avoid NPE in embed mode\n\t\tmxGraph.createHandle = function() {};\n\t\tmxGraph.handleFactory = {};\n\t}\n\t \n\t var isoHVector = new mxPoint(1, 0);\n\t var isoVVector = new mxPoint(1, 0);\n\t\t\n\t var alpha1 = mxUtils.toRadians(-30);\n\t\t\n\t var cos1 = Math.cos(alpha1);\n\t var sin1 = Math.sin(alpha1);\n\n\t isoHVector = mxUtils.getRotatedPoint(isoHVector, cos1, sin1);\n\n\t var alpha2 = mxUtils.toRadians(-150);\n\t \n\t var cos2 = Math.cos(alpha2);\n\t var sin2 = Math.sin(alpha2);\n\n\t isoVVector = mxUtils.getRotatedPoint(isoVVector, cos2, sin2);\n\t\n\t mxEdgeStyle.IsometricConnector = function (state, source, target, points, result)\n\t {\n\t\tvar view = state.view;\n\t\tvar pt = (points != null && points.length > 0) ? points[0] : null;\n\t\tvar pts = state.absolutePoints;\n\t\tvar p0 = pts[0];\n\t\tvar pe = pts[pts.length-1];\n\t\t\n\t\tif (pt != null)\n\t\t{\n\t\t\tpt = view.transformControlPoint(state, pt);\n\t\t}\n\t\t\n\t\tif (p0 == null)\n\t\t{\n\t\t\tif (source != null)\n\t\t\t{\n\t\t\t\tp0 = new mxPoint(source.getCenterX(), source.getCenterY());\n\t\t\t}\n\t\t}\n\t\t\n\t\tif (pe == null)\n\t\t{\n\t\t\tif (target != null)\n\t\t\t{\n\t\t\t\tpe = new mxPoint(target.getCenterX(), target.getCenterY());\n\t\t\t}\n\t\t}\t\t\n\t\t\n\t\tvar a1 = isoHVector.x;\n\t\tvar a2 = isoHVector.y;\n\t\t\n\t\tvar b1 = isoVVector.x;\n\t\tvar b2 = isoVVector.y;\n\t\t\n\t\tvar elbow = mxUtils.getValue(state.style, 'elbow', 'horizontal') == 'horizontal';\n\t\t\n\t\tif (pe != null && p0 != null)\n\t\t{\n\t\t\tvar last = p0;\n\t\t\t\n\t\t\tfunction isoLineTo(x, y, ignoreFirst)\n\t\t\t{\n\t\t\t\tvar c1 = x - last.x;\n\t\t\t\tvar c2 = y - last.y;\n\n\t\t\t\t// Solves for isometric base vectors\n\t\t\t\tvar h = (b2 * c1 - b1 * c2) / (a1 * b2 - a2 * b1);\n\t\t\t\tvar v = (a2 * c1 - a1 * c2) / (a2 * b1 - a1 * b2);\n\t\t\t\t\n\t\t\t\tif (elbow)\n\t\t\t\t{\n\t\t\t\t\tif (ignoreFirst)\n\t\t\t\t\t{\n\t\t\t\t\t\tlast = new mxPoint(last.x + a1 * h, last.y + a2 * h);\n\t\t\t\t\t\tresult.push(last);\n\t\t\t\t\t}\n\t\n\t\t\t\t\tlast = new mxPoint(last.x + b1 * v, last.y + b2 * v);\n\t\t\t\t\tresult.push(last);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif (ignoreFirst)\n\t\t\t\t\t{\n\t\t\t\t\t\tlast = new mxPoint(last.x + b1 * v, last.y + b2 * v);\n\t\t\t\t\t\tresult.push(last);\n\t\t\t\t\t}\n\n\t\t\t\t\tlast = new mxPoint(last.x + a1 * h, last.y + a2 * h);\n\t\t\t\t\tresult.push(last);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tif (pt == null)\n\t\t\t{\n\t\t\t\tpt = new mxPoint(p0.x + (pe.x - p0.x) / 2, p0.y + (pe.y - p0.y) / 2);\n\t\t\t}\n\t\t\t\n\t\t\tisoLineTo(pt.x, pt.y, true);\n\t\t\tisoLineTo(pe.x, pe.y, false);\n\t\t}\n\t };\n\n\t mxStyleRegistry.putValue('isometricEdgeStyle', mxEdgeStyle.IsometricConnector);\n\t\n\t var graphCreateEdgeHandler = mxGraph.prototype.createEdgeHandler;\n\t mxGraph.prototype.createEdgeHandler = function(state, edgeStyle)\n\t {\n\t \tif (edgeStyle == mxEdgeStyle.IsometricConnector)\n\t \t{\n\t \t\tvar handler = new mxElbowEdgeHandler(state);\n\t \t\thandler.snapToTerminals = false;\n\t \t\t\n\t \t\treturn handler;\n\t \t}\n\t \t\n\t \treturn graphCreateEdgeHandler.apply(this, arguments);\n\t };\n\n\t// Defines connection points for all shapes\n\tIsoRectangleShape.prototype.constraints = [];\n\tIsoCubeShape.prototype.constraints = [];\n\tCalloutShape.prototype.constraints = [];\n\tmxRectangleShape.prototype.constraints = [new mxConnectionConstraint(new mxPoint(0.25, 0), true),\n\t                                          new mxConnectionConstraint(new mxPoint(0.5, 0), true),\n\t                                          new mxConnectionConstraint(new mxPoint(0.75, 0), true),\n\t        \t              \t\t new mxConnectionConstraint(new mxPoint(0, 0.25), true),\n\t        \t              \t\t new mxConnectionConstraint(new mxPoint(0, 0.5), true),\n\t        \t              \t\t new mxConnectionConstraint(new mxPoint(0, 0.75), true),\n\t        \t            \t\t new mxConnectionConstraint(new mxPoint(1, 0.25), true),\n\t        \t            \t\t new mxConnectionConstraint(new mxPoint(1, 0.5), true),\n\t        \t            \t\t new mxConnectionConstraint(new mxPoint(1, 0.75), true),\n\t        \t            \t\t new mxConnectionConstraint(new mxPoint(0.25, 1), true),\n\t        \t            \t\t new mxConnectionConstraint(new mxPoint(0.5, 1), true),\n\t        \t            \t\t new mxConnectionConstraint(new mxPoint(0.75, 1), true)];\n\tmxEllipse.prototype.constraints = [new mxConnectionConstraint(new mxPoint(0, 0), true), new mxConnectionConstraint(new mxPoint(1, 0), true),\n\t                                   new mxConnectionConstraint(new mxPoint(0, 1), true), new mxConnectionConstraint(new mxPoint(1, 1), true),\n\t                                   new mxConnectionConstraint(new mxPoint(0.5, 0), true), new mxConnectionConstraint(new mxPoint(0.5, 1), true),\n\t          \t              \t\t   new mxConnectionConstraint(new mxPoint(0, 0.5), true), new mxConnectionConstraint(new mxPoint(1, 0.5))];\n\tmxLabel.prototype.constraints = mxRectangleShape.prototype.constraints;\n\tmxImageShape.prototype.constraints = mxRectangleShape.prototype.constraints;\n\tmxSwimlane.prototype.constraints = mxRectangleShape.prototype.constraints;\n\tPlusShape.prototype.constraints = mxRectangleShape.prototype.constraints;\n\tNoteShape.prototype.constraints = mxRectangleShape.prototype.constraints;\n\tCardShape.prototype.constraints = mxRectangleShape.prototype.constraints;\n\tCubeShape.prototype.constraints = mxRectangleShape.prototype.constraints;\n\tFolderShape.prototype.constraints = mxRectangleShape.prototype.constraints;\n\tInternalStorageShape.prototype.constraints = mxRectangleShape.prototype.constraints;\n\tDataStorageShape.prototype.constraints = mxRectangleShape.prototype.constraints;\n\tTapeDataShape.prototype.constraints = mxEllipse.prototype.constraints;\n\tOrEllipseShape.prototype.constraints = mxEllipse.prototype.constraints;\n\tSumEllipseShape.prototype.constraints = mxEllipse.prototype.constraints;\n\tLineEllipseShape.prototype.constraints = mxEllipse.prototype.constraints;\n\tManualInputShape.prototype.constraints = mxRectangleShape.prototype.constraints;\n\tDelayShape.prototype.constraints = mxRectangleShape.prototype.constraints;\n\tDisplayShape.prototype.constraints = mxRectangleShape.prototype.constraints;\n\tLoopLimitShape.prototype.constraints = mxRectangleShape.prototype.constraints;\n\tOffPageConnectorShape.prototype.constraints = mxRectangleShape.prototype.constraints;\n\tmxCylinder.prototype.constraints = [new mxConnectionConstraint(new mxPoint(0.15, 0.05), false),\n                                        new mxConnectionConstraint(new mxPoint(0.5, 0), true),\n                                        new mxConnectionConstraint(new mxPoint(0.85, 0.05), false),\n      \t              \t\t new mxConnectionConstraint(new mxPoint(0, 0.3), true),\n      \t              \t\t new mxConnectionConstraint(new mxPoint(0, 0.5), true),\n      \t              \t\t new mxConnectionConstraint(new mxPoint(0, 0.7), true),\n      \t            \t\t new mxConnectionConstraint(new mxPoint(1, 0.3), true),\n      \t            \t\t new mxConnectionConstraint(new mxPoint(1, 0.5), true),\n      \t            \t\t new mxConnectionConstraint(new mxPoint(1, 0.7), true),\n      \t            \t\t new mxConnectionConstraint(new mxPoint(0.15, 0.95), false),\n      \t            \t\t new mxConnectionConstraint(new mxPoint(0.5, 1), true),\n      \t            \t\t new mxConnectionConstraint(new mxPoint(0.85, 0.95), false)];\n\tUmlActorShape.prototype.constraints = [new mxConnectionConstraint(new mxPoint(0.25, 0.1), false),\n\t                                          new mxConnectionConstraint(new mxPoint(0.5, 0), false),\n\t                                          new mxConnectionConstraint(new mxPoint(0.75, 0.1), false),\n\t        \t              \t\t new mxConnectionConstraint(new mxPoint(0, 1/3), false),\n\t        \t              \t\t new mxConnectionConstraint(new mxPoint(0, 1), false),\n\t        \t            \t\t new mxConnectionConstraint(new mxPoint(1, 1/3), false),\n\t        \t            \t\t new mxConnectionConstraint(new mxPoint(1, 1), false),\n\t        \t            \t\t new mxConnectionConstraint(new mxPoint(0.5, 0.5), false)];\n\tComponentShape.prototype.constraints = [new mxConnectionConstraint(new mxPoint(0.25, 0), true),\n\t                                          new mxConnectionConstraint(new mxPoint(0.5, 0), true),\n\t                                          new mxConnectionConstraint(new mxPoint(0.75, 0), true),\n\t        \t              \t\t new mxConnectionConstraint(new mxPoint(0, 0.3), true),\n\t        \t              \t\t new mxConnectionConstraint(new mxPoint(0, 0.7), true),\n\t        \t            \t\t new mxConnectionConstraint(new mxPoint(1, 0.25), true),\n\t        \t            \t\t new mxConnectionConstraint(new mxPoint(1, 0.5), true),\n\t        \t            \t\t new mxConnectionConstraint(new mxPoint(1, 0.75), true),\n\t        \t            \t\t new mxConnectionConstraint(new mxPoint(0.25, 1), true),\n\t        \t            \t\t new mxConnectionConstraint(new mxPoint(0.5, 1), true),\n\t        \t            \t\t new mxConnectionConstraint(new mxPoint(0.75, 1), true)];\n\tmxActor.prototype.constraints = [new mxConnectionConstraint(new mxPoint(0.5, 0), true),\n   \t              \t\t new mxConnectionConstraint(new mxPoint(0.25, 0.2), false),\n   \t              \t\t new mxConnectionConstraint(new mxPoint(0.1, 0.5), false),\n   \t              \t\t new mxConnectionConstraint(new mxPoint(0, 0.75), true),\n   \t            \t\t new mxConnectionConstraint(new mxPoint(0.75, 0.25), false),\n   \t            \t\t new mxConnectionConstraint(new mxPoint(0.9, 0.5), false),\n   \t            \t\t new mxConnectionConstraint(new mxPoint(1, 0.75), true),\n   \t            \t\t new mxConnectionConstraint(new mxPoint(0.25, 1), true),\n   \t            \t\t new mxConnectionConstraint(new mxPoint(0.5, 1), true),\n   \t            \t\t new mxConnectionConstraint(new mxPoint(0.75, 1), true)];\n\tSwitchShape.prototype.constraints = [new mxConnectionConstraint(new mxPoint(0, 0), false),\n                                         new mxConnectionConstraint(new mxPoint(0.5, 0.25), false),\n                                         new mxConnectionConstraint(new mxPoint(1, 0), false),\n\t\t\t       \t              \t\t new mxConnectionConstraint(new mxPoint(0.25, 0.5), false),\n\t\t\t       \t              \t\t new mxConnectionConstraint(new mxPoint(0.75, 0.5), false),\n\t\t\t       \t              \t\t new mxConnectionConstraint(new mxPoint(0, 1), false),\n\t\t\t       \t            \t\t new mxConnectionConstraint(new mxPoint(0.5, 0.75), false),\n\t\t\t       \t            \t\t new mxConnectionConstraint(new mxPoint(1, 1), false)];\n\tTapeShape.prototype.constraints = [new mxConnectionConstraint(new mxPoint(0, 0.35), false),\n\t                                   new mxConnectionConstraint(new mxPoint(0, 0.5), false),\n\t                                   new mxConnectionConstraint(new mxPoint(0, 0.65), false),\n\t                                   new mxConnectionConstraint(new mxPoint(1, 0.35), false),\n\t\t                                new mxConnectionConstraint(new mxPoint(1, 0.5), false),\n\t\t                                new mxConnectionConstraint(new mxPoint(1, 0.65), false),\n\t\t\t\t\t\t\t\t\t\tnew mxConnectionConstraint(new mxPoint(0.25, 1), false),\n\t\t\t\t\t\t\t\t\t\tnew mxConnectionConstraint(new mxPoint(0.75, 0), false)];\n\tStepShape.prototype.constraints = [new mxConnectionConstraint(new mxPoint(0.25, 0), true),\n\t\t\t\t\t\t\t\t\tnew mxConnectionConstraint(new mxPoint(0.5, 0), true),\n\t\t\t\t\t\t\t\t\tnew mxConnectionConstraint(new mxPoint(0.75, 0), true),\n\t\t\t\t\t\t\t\t\tnew mxConnectionConstraint(new mxPoint(0.25, 1), true),\n\t\t\t\t\t\t\t\t\tnew mxConnectionConstraint(new mxPoint(0.5, 1), true),\n\t\t\t\t\t\t\t\t\tnew mxConnectionConstraint(new mxPoint(0.75, 1), true),\n\t\t\t\t\t\t\t\t\tnew mxConnectionConstraint(new mxPoint(0, 0.25), true),\n\t\t\t\t\t\t\t\t\tnew mxConnectionConstraint(new mxPoint(0, 0.5), true),\n\t\t\t\t\t\t\t\t\tnew mxConnectionConstraint(new mxPoint(0, 0.75), true),\n\t\t\t\t\t\t\t\t\tnew mxConnectionConstraint(new mxPoint(1, 0.25), true),\n\t\t\t\t\t\t\t\t\tnew mxConnectionConstraint(new mxPoint(1, 0.5), true),\n\t\t\t\t\t\t\t\t\tnew mxConnectionConstraint(new mxPoint(1, 0.75), true)];\n\tmxLine.prototype.constraints = [new mxConnectionConstraint(new mxPoint(0, 0.5), false),\n\t                                new mxConnectionConstraint(new mxPoint(0.25, 0.5), false),\n\t                                new mxConnectionConstraint(new mxPoint(0.75, 0.5), false),\n\t\t\t\t\t\t\t\t\tnew mxConnectionConstraint(new mxPoint(1, 0.5), false)];\n\tLollipopShape.prototype.constraints = [new mxConnectionConstraint(new mxPoint(0.5, 0), false),\n\t\t\t\t\t\t\t\t\t\tnew mxConnectionConstraint(new mxPoint(0.5, 1), false)];\n\tmxDoubleEllipse.prototype.constraints = mxEllipse.prototype.constraints;\n\tmxRhombus.prototype.constraints = mxEllipse.prototype.constraints;\n\tmxTriangle.prototype.constraints = [new mxConnectionConstraint(new mxPoint(0, 0.25), true),\n\t                                    new mxConnectionConstraint(new mxPoint(0, 0.5), true),\n\t                                   new mxConnectionConstraint(new mxPoint(0, 0.75), true),\n\t                                   new mxConnectionConstraint(new mxPoint(0.5, 0), true),\n\t                                   new mxConnectionConstraint(new mxPoint(0.5, 1), true),\n\t                                   new mxConnectionConstraint(new mxPoint(1, 0.5), true)];\n\tmxHexagon.prototype.constraints = [new mxConnectionConstraint(new mxPoint(0.375, 0), true),\n\t                                    new mxConnectionConstraint(new mxPoint(0.5, 0), true),\n\t                                   new mxConnectionConstraint(new mxPoint(0.625, 0), true),\n\t                                   new mxConnectionConstraint(new mxPoint(0, 0.25), true),\n\t                                   new mxConnectionConstraint(new mxPoint(0, 0.5), true),\n\t                                   new mxConnectionConstraint(new mxPoint(0, 0.75), true),\n\t                                   new mxConnectionConstraint(new mxPoint(1, 0.25), true),\n\t                                   new mxConnectionConstraint(new mxPoint(1, 0.5), true),\n\t                                   new mxConnectionConstraint(new mxPoint(1, 0.75), true),\n\t                                   new mxConnectionConstraint(new mxPoint(0.375, 1), true),\n\t                                    new mxConnectionConstraint(new mxPoint(0.5, 1), true),\n\t                                   new mxConnectionConstraint(new mxPoint(0.625, 1), true)];\n\tmxCloud.prototype.constraints = [new mxConnectionConstraint(new mxPoint(0.25, 0.25), false),\n\t                                 new mxConnectionConstraint(new mxPoint(0.4, 0.1), false),\n\t                                 new mxConnectionConstraint(new mxPoint(0.16, 0.55), false),\n\t                                 new mxConnectionConstraint(new mxPoint(0.07, 0.4), false),\n\t                                 new mxConnectionConstraint(new mxPoint(0.31, 0.8), false),\n\t                                 new mxConnectionConstraint(new mxPoint(0.13, 0.77), false),\n\t                                 new mxConnectionConstraint(new mxPoint(0.8, 0.8), false),\n\t                                 new mxConnectionConstraint(new mxPoint(0.55, 0.95), false),\n\t                                 new mxConnectionConstraint(new mxPoint(0.875, 0.5), false),\n\t                                 new mxConnectionConstraint(new mxPoint(0.96, 0.7), false),\n\t                                 new mxConnectionConstraint(new mxPoint(0.625, 0.2), false),\n\t                                 new mxConnectionConstraint(new mxPoint(0.88, 0.25), false)];\n\tParallelogramShape.prototype.constraints = mxRectangleShape.prototype.constraints;\n\tTrapezoidShape.prototype.constraints = mxRectangleShape.prototype.constraints;\n\tDocumentShape.prototype.constraints = [new mxConnectionConstraint(new mxPoint(0.25, 0), true),\n\t                                          new mxConnectionConstraint(new mxPoint(0.5, 0), true),\n\t                                          new mxConnectionConstraint(new mxPoint(0.75, 0), true),\n\t        \t              \t\t new mxConnectionConstraint(new mxPoint(0, 0.25), true),\n\t        \t              \t\t new mxConnectionConstraint(new mxPoint(0, 0.5), true),\n\t        \t              \t\t new mxConnectionConstraint(new mxPoint(0, 0.75), true),\n\t        \t            \t\t new mxConnectionConstraint(new mxPoint(1, 0.25), true),\n\t        \t            \t\t new mxConnectionConstraint(new mxPoint(1, 0.5), true),\n\t        \t            \t\t new mxConnectionConstraint(new mxPoint(1, 0.75), true)];\n\tmxArrow.prototype.constraints = null;\n\tTeeShape.prototype.constraints = null;\n\tCornerShape.prototype.constraints = null;\n\tCrossbarShape.prototype.constraints = [new mxConnectionConstraint(new mxPoint(0, 0), false),\n        new mxConnectionConstraint(new mxPoint(0, 0.5), false),\n        new mxConnectionConstraint(new mxPoint(0, 1), false),\n        new mxConnectionConstraint(new mxPoint(0.25, 0.5), false),\n        new mxConnectionConstraint(new mxPoint(0.5, 0.5), false),\n        new mxConnectionConstraint(new mxPoint(0.75, 0.5), false),\n        new mxConnectionConstraint(new mxPoint(1, 0), false),\n        new mxConnectionConstraint(new mxPoint(1, 0.5), false),\n        new mxConnectionConstraint(new mxPoint(1, 1), false)];\n\n\tSingleArrowShape.prototype.constraints = [new mxConnectionConstraint(new mxPoint(0, 0.5), false),\n\t                                    new mxConnectionConstraint(new mxPoint(1, 0.5), false)];\n\tDoubleArrowShape.prototype.constraints = [new mxConnectionConstraint(new mxPoint(0, 0.5), false),\n\t  \t                                    new mxConnectionConstraint(new mxPoint(1, 0.5), false)];\n\tCrossShape.prototype.constraints = [new mxConnectionConstraint(new mxPoint(0, 0.5), false),\n\t                                    new mxConnectionConstraint(new mxPoint(1, 0.5), false),\n\t                                    new mxConnectionConstraint(new mxPoint(0.5, 0), false),\n\t                                    new mxConnectionConstraint(new mxPoint(0.5, 1), false)];\n\tUmlLifeline.prototype.constraints = null;\n\tOrShape.prototype.constraints = [new mxConnectionConstraint(new mxPoint(0, 0.25), false),\n\t  \t                             new mxConnectionConstraint(new mxPoint(0, 0.5), false),\n\t  \t                             new mxConnectionConstraint(new mxPoint(0, 0.75), false),\n\t  \t                             new mxConnectionConstraint(new mxPoint(1, 0.5), false),\n\t  \t                             new mxConnectionConstraint(new mxPoint(0.7, 0.1), false),\n\t  \t                             new mxConnectionConstraint(new mxPoint(0.7, 0.9), false)];\n\tXorShape.prototype.constraints = [new mxConnectionConstraint(new mxPoint(0.175, 0.25), false),\n\t  \t                             new mxConnectionConstraint(new mxPoint(0.25, 0.5), false),\n\t  \t                             new mxConnectionConstraint(new mxPoint(0.175, 0.75), false),\n\t  \t                             new mxConnectionConstraint(new mxPoint(1, 0.5), false),\n\t  \t                             new mxConnectionConstraint(new mxPoint(0.7, 0.1), false),\n\t  \t                             new mxConnectionConstraint(new mxPoint(0.7, 0.9), false)];\n\tRequiredInterfaceShape.prototype.constraints = [new mxConnectionConstraint(new mxPoint(0, 0.5), false),\n          new mxConnectionConstraint(new mxPoint(1, 0.5), false)];\n\tProvidedRequiredInterfaceShape.prototype.constraints = [new mxConnectionConstraint(new mxPoint(0, 0.5), false),\n        new mxConnectionConstraint(new mxPoint(1, 0.5), false)];\n})();\n"],"file":"Shapes.js"}