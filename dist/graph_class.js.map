{"version":3,"sources":["../src/graph_class.js"],"names":["window","mxLanguages","sanitizer","require","mxgraph","mxImageBasePath","mxBasePath","mxLoadStylesheets","mxLanguage","mxLoadResources","BASE_PATH","RESOURCES_PATH","RESOURCE_BASE","STENCIL_PATH","IMAGE_PATH","STYLE_PATH","CSS_PATH","mxActor","mxArrow","mxArrowConnector","mxCell","mxCellEditor","mxCellHighlight","mxCellOverlay","mxCellRenderer","mxCellState","mxClient","mxCloud","mxCodec","mxCompactTreeLayout","mxConnectionConstraint","mxConnectionHandler","mxConnector","mxConstants","mxConstraintHandler","mxCylinder","mxDefaultKeyHandler","mxDefaultPopupMenu","mxDefaultToolbar","mxDivResizer","mxDoubleEllipse","mxDragSource","mxEdgeStyle","mxEdgeHandler","mxEditor","mxElbowEdgeHandler","mxEllipse","mxEvent","mxEventObject","mxFile","mxGeometry","mxGraph","mxGraphHandler","mxGraphModel","mxGraphView","mxGuide","mxHexagon","mxHandle","mxImage","mxImageShape","mxKeyHandler","mxLabel","mxLayoutManager","mxLine","mxMarker","mxOutline","mxPanningHandler","mxPerimeter","mxPoint","mxPolyline","mxPopupMenu","mxPopupMenuHandler","mxPrintPreview","mxRectangle","mxRectangleShape","mxResources","mxRhombus","mxRubberband","mxShape","mxStackLayout","mxStencil","mxStencilRegistry","mxStylesheet","mxStyleRegistry","mxSvgCanvas2D","mxSwimlane","mxText","mxToolbar","mxTriangle","mxUndoManager","mxUtils","mxValueChange","mxVertexHandler","XGraph","container","xmlGraph","u","log","isencoded","decode","graph","scale","lock","center","zoom","grid","zoomPercent","cells","id","value","attributs","clickBackup","initGraph","Graph","libs","Shapes","click","getModel","beginUpdate","clear","xmlDoc","parseXml","codec","documentElement","error","endUpdate","getCurrentCells","width","height","$div","$","size","Math","min","css","margin","position","zoomGraph","unzoomGraph","lockGraph","scaleGraph","centerGraph","gridGraph","refresh","bool","setEnabled","fit","view","rendering","style","backgroundImage","percent","legth","ratio","replace","zoomTo","ration","zoomActual","drawGraph","states","prop","cellIds","model","_","each","cell","push","getId","getValue","pattern","result","find","matchString","getOrignalCells","getAllMxCells","mxcell","state","getState","color","setCellStyles","text","setValue","onMappingObject","onMapping","active","eventGraph","bind","me","self","object","unsetMapping","XCell"],"mappings":"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","sourcesContent":["window.mxLanguages = window.mxLanguages || ['en'];\n\nvar sanitizer = require('sanitizer');\nvar mxgraph = require('mxgraph')({\n  mxImageBasePath: 'public/plugins/agenty-flowcharting-panel/libs/mxgraph/javascript/src/images',\n  mxBasePath: 'public/plugins/agenty-flowcharting-panel/libs/mxgraph/javascript/dist',\n  mxLoadStylesheets: false,\n  mxLanguage: 'en',\n  mxLoadResources: false\n});\n\nwindow.BASE_PATH =\n  window.BASE_PATH || 'public/plugins/agenty-flowcharting-panel/libs/mxgraph/javascript/dist/';\nwindow.RESOURCES_PATH = window.BASE_PATH || window.BASE_PATH + 'resources';\nwindow.RESOURCE_BASE = window.RESOURCE_BASE || window.RESOURCES_PATH + '/grapheditor';\nwindow.STENCIL_PATH = window.STENCIL_PATH || window.BASE_PATH + 'stencils';\nwindow.IMAGE_PATH = window.IMAGE_PATH || window.BASE_PATH + 'images';\nwindow.STYLE_PATH = window.STYLE_PATH || window.BASE_PATH + 'styles';\nwindow.CSS_PATH = window.CSS_PATH || window.BASE_PATH + 'styles';\nwindow.mxLanguages = window.mxLanguages || ['en'];\n\n// Put to global vars to work\nwindow.mxActor = window.mxActor || mxgraph.mxActor;\nwindow.mxArrow = window.mxArrow || mxgraph.mxArrow;\nwindow.mxArrowConnector = window.mxArrowConnector || mxgraph.mxArrowConnector;\nwindow.mxCell = window.mxCell || mxgraph.mxCell;\nwindow.mxCellEditor = window.mxCellEditor || mxgraph.mxCellEditor;\nwindow.mxCellHighlight = window.mxCellHighlight || mxgraph.mxCellHighlight;\nwindow.mxCellOverlay = window.mxCellOverlay || mxgraph.mxCellOverlay;\nwindow.mxCellRenderer = window.mxCellRenderer || mxgraph.mxCellRenderer;\nwindow.mxCellState = window.mxCellState || mxgraph.mxCellState;\nwindow.mxClient = window.mxClient || mxgraph.mxClient;\nmxClient.mxBasePath = 'public/plugins/agenty-flowcharting-panel/libs/mxgraph/javascript/dist';\nmxClient.mxImageBasePath =\n  'public/plugins/agenty-flowcharting-panel/libs/mxgraph/javascript/src/images';\nmxClient.mxLoadResources = true;\nmxClient.mxLanguage = 'en';\nmxClient.mxLoadStylesheets = true;\nwindow.mxCloud = window.mxCloud || mxgraph.mxCloud;\nwindow.mxCodec = window.mxCodec || mxgraph.mxCodec;\nwindow.mxCompactTreeLayout = window.mxCompactTreeLayout || mxgraph.mxCompactTreeLayout;\nwindow.mxConnectionConstraint = window.mxConnectionConstraint || mxgraph.mxConnectionConstraint;\nwindow.mxConnectionHandler = window.mxConnectionHandler || mxgraph.mxConnectionHandler;\nwindow.mxConnector = window.mxConnector || mxgraph.mxConnector;\nwindow.mxConstants = window.mxConstants || mxgraph.mxConstants;\nwindow.mxConstraintHandler = window.mxConstraintHandler || mxgraph.mxConstraintHandler;\nwindow.mxCylinder = window.mxCylinder || mxgraph.mxCylinder;\nwindow.mxDefaultKeyHandler = window.mxDefaultKeyHandler || mxgraph.mxDefaultKeyHandler;\nwindow.mxDefaultPopupMenu = window.mxDefaultPopupMenu || mxgraph.mxDefaultPopupMenu;\nwindow.mxDefaultToolbar = window.mxDefaultToolbar || mxgraph.mxDefaultToolbar;\nwindow.mxDivResizer = window.mxDivResizer || mxgraph.mxDivResizer;\nwindow.mxDoubleEllipse = window.mxDoubleEllipse || mxgraph.mxDoubleEllipse;\nwindow.mxDragSource = window.mxDragSource || mxgraph.mxDragSource;\nwindow.mxEdgeStyle = window.mxEdgeStyle || mxgraph.mxEdgeStyle;\nwindow.mxEdgeHandler = window.mxEdgeHandler || mxgraph.mxEdgeHandler;\nwindow.mxEditor = window.mxEditor || mxgraph.mxEditor;\nwindow.mxElbowEdgeHandler = window.mxElbowEdgeHandler || mxgraph.mxElbowEdgeHandler;\nwindow.mxEllipse = window.mxEllipse || mxgraph.mxEllipse;\nwindow.mxEvent = window.mxEvent || mxgraph.mxEvent;\nwindow.mxEventObject = window.mxEventObject || mxgraph.mxEventObject;\nwindow.mxFile = window.mxFile || mxgraph.mxFile;\nwindow.mxGeometry = window.mxGeometry || mxgraph.mxGeometry;\nwindow.mxGraph = window.mxGraph || mxgraph.mxGraph;\nwindow.mxGraphHandler = window.mxGraphHandler || mxgraph.mxGraphHandler;\nwindow.mxGraphModel = window.mxGraphModel || mxgraph.mxGraphModel;\nwindow.mxGraphView = window.mxGraphView || mxgraph.mxGraphView;\nwindow.mxGuide = window.mxGuide || mxgraph.mxGuide;\nwindow.mxHexagon = window.mxHexagon || mxgraph.mxHexagon;\nwindow.mxHandle = window.mxHandle || mxgraph.mxHandle;\nwindow.mxImage = window.mxImage || mxgraph.mxImage;\nwindow.mxImageShape = window.mxImageShape || mxgraph.mxImageShape;\nwindow.mxKeyHandler = window.mxKeyHandler || mxgraph.mxKeyHandler;\nwindow.mxLabel = window.mxLabel || mxgraph.mxLabel;\nwindow.mxLayoutManager = window.mxLayoutManager || mxgraph.mxLayoutManager;\nwindow.mxLine = window.mxLine || mxgraph.mxLine;\nwindow.mxMarker = window.mxMarker || mxgraph.mxMarker;\nwindow.mxOutline = window.mxOutline || mxgraph.mxOutline;\nwindow.mxPanningHandler = window.mxPanningHandler || mxgraph.mxPanningHandler;\nwindow.mxPerimeter = window.mxPerimeter || mxgraph.mxPerimeter;\nwindow.mxPoint = window.mxPoint || mxgraph.mxPoint;\nwindow.mxPolyline = window.mxPolyline || mxgraph.mxPolyline;\nwindow.mxPopupMenu = window.mxPopupMenu || mxgraph.mxPopupMenu;\nwindow.mxPopupMenuHandler = window.mxPopupMenuHandler || mxgraph.mxPopupMenuHandler;\nwindow.mxPrintPreview = window.mxPrintPreview || mxgraph.mxPrintPreview;\nwindow.mxRectangle = window.mxRectangle || mxgraph.mxRectangle;\nwindow.mxRectangleShape = window.mxRectangleShape || mxgraph.mxRectangleShape;\nwindow.mxResources = window.mxResources || mxgraph.mxResources;\nwindow.mxRhombus = window.mxRhombus || mxgraph.mxRhombus;\nwindow.mxRubberband = window.mxRubberband || mxgraph.mxRubberband;\nwindow.mxShape = window.mxShape || mxgraph.mxShape;\nwindow.mxStackLayout = window.mxStackLayout || mxgraph.mxStackLayout;\nwindow.mxStencil = window.mxStencil || mxgraph.mxStencil;\nwindow.mxStencilRegistry = window.mxStencilRegistry || mxgraph.mxStencilRegistry;\nwindow.mxStylesheet = window.mxStylesheet || mxgraph.mxStylesheet;\nwindow.mxStyleRegistry = window.mxStyleRegistry || mxgraph.mxStyleRegistry;\nwindow.mxSvgCanvas2D = window.mxSvgCanvas2D || mxgraph.mxSvgCanvas2D;\nwindow.mxSwimlane = window.mxSwimlane || mxgraph.mxSwimlane;\nwindow.mxText = window.mxText || mxgraph.mxText;\nwindow.mxToolbar = window.mxToolbar || mxgraph.mxToolbar;\nwindow.mxTriangle = window.mxTriangle || mxgraph.mxTriangle;\nwindow.mxUndoManager = window.mxUndoManager || mxgraph.mxUndoManager;\nwindow.mxUtils = window.mxUtils || mxgraph.mxUtils;\nwindow.mxValueChange = window.mxValueChange || mxgraph.mxValueChange;\nwindow.mxVertexHandler = window.mxVertexHandler || mxgraph.mxVertexHandler;\n\nexport default class XGraph {\n  constructor(container, xmlGraph) {\n    u.log(1,\"XGraph.constructor()\");\n    this.container = container;\n    this.xmlGraph;\n    if (u.isencoded(xmlGraph)) this.xmlGraph = u.decode(xmlGraph, true, true, true);\n    else this.xmlGraph = xmlGraph;\n    this.xmlGraph = xmlGraph;\n    this.graph;\n    this.scale = true;\n    this.lock = true;\n    this.center = true;\n    this.zoom = false;\n    this.grid = false;\n    this.zoomPercent = '1';\n    this.cells = {};\n    this.cells.id = [];\n    this.cells.value = [];\n    this.cells.attributs = {};\n    this.clickBackup;\n\n    this.initGraph();\n  }\n\n  initGraph() {\n    // this.$elem.html(this.$graphCanvas);\n    let Graph = require('./Graph')({\n      libs: 'arrows;basic;bpmn;flowchart'\n    });\n    let Shapes = require('./Shapes');\n    this.graph = new Graph(this.container);\n    this.clickBackup = this.graph.click;\n  }\n\n  drawGraph() {\n    this.graph.getModel().beginUpdate();\n    this.graph.getModel().clear();\n    try {\n      let xmlDoc = mxUtils.parseXml(this.xmlGraph);\n      let codec = new mxCodec(xmlDoc);\n      codec.decode(xmlDoc.documentElement, this.graph.getModel());\n    } catch (error) {\n      u.log(3,\"Error in draw\",error);\n    } finally {\n      this.graph.getModel().endUpdate();\n      this.cells['id'] = this.getCurrentCells('id');\n      this.cells['value'] = this.getCurrentCells('value');\n    }\n  }\n\n  refreshGraph(width, height) {\n    // console.log(\"height \", height);\n    // console.log(\"width \", width);\n    let $div = $(this.container);\n    var size = Math.min(width, height);\n\n    var css = {\n      margin: 'auto',\n      position: 'relative',\n      width: width,\n      height: size - 30 + 'px'\n    };\n\n    $div.css(css);\n\n    if (this.zoom) this.zoomGraph(this.zoom);\n    else this.unzoomGraph();\n\n    this.lockGraph(this.lock);\n\n    this.scaleGraph(this.scale);\n\n    this.centerGraph(this.center);\n\n    this.gridGraph(this.grid);\n\n    this.graph.refresh();\n  }\n\n  lockGraph(bool) {\n    if (bool) this.graph.setEnabled(false);\n    else this.graph.setEnabled(true);\n    this.lock = bool;\n  }\n\n  centerGraph(bool) {\n    if (bool) this.graph.center(true, true);\n    else this.graph.center(false, false);\n    this.center = bool;\n  }\n\n  scaleGraph(bool) {\n    if (bool) {\n      this.graph.fit();\n      this.graph.view.rendering = true;\n    }\n    this.scale = bool;\n  }\n\n  gridGraph(bool) {\n    if (bool) {\n      this.container.style.backgroundImage = \"url('\" + IMAGE_PATH + \"/grid.gif')\";\n    } else {\n      this.container.style.backgroundImage = '';\n    }\n    this.grid = bool;\n  }\n\n  zoomGraph(percent) {\n    if (percent && percent.legth > 0 && percent != '100%' && percent != '0%') {\n      let ratio = percent.replace('%', '') / 100;\n      this.graph.zoomTo(ration, true);\n      this.zoomPercent = percent;\n    }\n    this.zoom = true;\n  }\n\n  unzoomGraph() {\n    this.zoom = false;\n    this.graph.zoomActual();\n  }\n\n  getMxGraph() {\n    return this.graph;\n  }\n  getxmlGraph() {\n    return this.xmlGraph;\n  }\n  setXmlGraph(xmlGraph) {\n    if (u.isencoded(xmlGraph)) this.xmlGraph = u.decode(xmlGraph, true, true, true);\n    else this.xmlGraph = xmlGraph;\n    this.drawGraph();\n  }\n\n  updateCells(states) {}\n\n  getCurrentCells(prop) {\n    let cellIds = [];\n    let model = this.graph.getModel();\n    let cells = model.cells;\n    if (prop === 'id') {\n      _.each(cells, cell => {\n        cellIds.push(cell.getId());\n      });\n    } else if (prop === 'value') {\n      _.each(cells, cell => {\n        cellIds.push(cell.getValue());\n      });\n    }\n    return cellIds;\n  }\n\n  getOrignalCells(prop) {\n    if (prop === 'id' || prop === 'value') return this.cells[prop];\n    //TODO: attributs\n    return [];\n  }\n\n  findCurrentCells(prop, pattern) {\n    let cells = this.getCurrentCells(prop);\n    let result = _.find(cells, cell => {\n      return u.matchString(cell, pattern);\n    });\n    return result;\n  }\n\n  findOriginalCells(prop, pattern) {\n    let cells = this.getOrignalCells(prop);\n    let result = _.find(cells, cell => {\n      return u.matchString(cell, pattern);\n    });\n    return result;\n  }\n\n  getAllMxCells() {\n    return this.graph.getModel().cells;\n  }\n\n  findCurrentMxCells(prop, pattern) {\n    let cells = [];\n    _.each(this.getAllMxCells(), cell => {\n      if (prop === 'id') {\n        let id = cell.getId();\n        if (u.matchString(id, pattern)) cells.push(cell);\n      } else if (prop === 'value') {\n        let value = cell.getValue();\n        if (u.matchString(value, pattern)) cells.push(cell);\n      }\n    });\n    return cells;\n  }\n\n  getStyleCell(mxcell, style) {\n    let state = this.graph.view.getState(mxcell);\n    return state.style[style];\n  }\n\n  setStyleCell(mxcell, style, color) {\n    this.graph.setCellStyles(style, color, [mxcell]);\n  }\n\n  getValueCell(mxcell) {\n    return mxcell.getValue();\n  }\n\n  setValueCell(mxcell, text) {\n    return mxcell.setValue(text);\n  }\n\n  setMapping(onMappingObject) {\n    u.log(1, 'XGraph.setMapping()');\n    u.log(0, 'XGraph.setMapping() onMappingObject : ', onMappingObject);\n    this.onMapping = onMappingObject;\n    if (this.onMapping.active === true) {\n      this.graph.click = this.eventGraph.bind(this);\n    }\n  }\n\n  unsetMapping() {\n    u.log(1, 'XGraph.unsetMapping()');\n    this.onMapping.active = false;\n    this.graph.click = this.clickBackup;\n  }\n\n  //\n  //GRAPH HANDLER\n  //\n\n  eventGraph(me) {\n    u.log(1, 'XGraph.eventGraph()');\n    u.log(0, 'XGraph.eventGraph() me : ', me);\n    u.log(0, 'XGraph.eventGraph() onMapping : ', this.onMapping);\n    let self = this;\n\n    if (this.onMapping.active) {\n      let state = me.getState();\n      let id = state.cell.id;\n      this.onMapping.object.pattern = id;\n      this.unsetMapping();\n    }\n  }\n}\n\nclass XCell {\n  constructor(mxcell, mxgraph) {\n    this.mxcell = mxcell;\n    this.mxgraph = mxgraph;\n  }\n\n  getValueCell(mxcell) {\n    return this.mxcell.getValue();\n  }\n\n  setValueCell(mxcell, text) {\n    return this.mxcell.setValue(text);\n  }\n\n  getStyleCell(style) {\n    let state = this.graph.view.getState(this.mxcell);\n    return state.style[style];\n  }\n\n  setStyleCell(style, color) {\n    this.graph.setCellStyles(style, color, [this.mxcell]);\n  }\n}\n"],"file":"graph_class.js"}