<div class="editor-row">
	<h5 class="section-heading">mxGraph Edition</h5>
	<!-- Definition -->
	<div class="section gf-form-group" style="margin-top: 0px; margin-bottom: 0px; width:95%;">
		<h5 class="section-heading">Definition</h5>
		<div class="gf-form">
			<span class="gf-form-label width-12">
				Flowchart Definition
				<info-popover mode="right-normal">
					Source of mxgraph definition (Internal Editor, Xml definition, Json definition, Url with xml result or
					javascript)
				</info-popover>
			</span>
			<div class="gf-form-select-wrapper width-12">
				<select class="gf-form-input" ng-model="ctrl.panel.flowchart.source.type"
					ng-options="t for t in ctrl.options.flowchart.source.types" ng-change="ctrl.onSourceTypeChanged()"></select>
			</div>
		</div>
		<div class="gf-form" name="options.source.url.form" ng-if="ctrl.panel.flowchart.source.type == 'Url'">
			<div class="gf-form" id="ctrl.panel.source.type.url">
				<span class="gf-form-label width-12">
					URL
					<info-popover mode="right-normal">
						This service should respond with a xml/plain response containing mxgraph syntax
					</info-popover>
				</span>
				<input type="text" name="options.source.url.input" ng-model="ctrl.panel.flowchart.source.url.value"
					class="gf-form-input ng-pristine ng-untouched ng-valid ng-empty" style="width: 300px"
					ng-change="ctrl.render()" ng-model-onblur>
			</div>
		</div>
		<div class="gf-form gf-form--v-stretch" name="options.source.xml.form"
			ng-if="ctrl.panel.flowchart.source.type == 'XML Content'">
			<span class="gf-form-label width-12">
				XML Content
				<info-popover mode="right-normal">
					XML mxgraph model, edit on draw.io and select Extra menu > Edit Diagram ...
				</info-popover>
			</span>
			<textarea name="options.source.xml.input" class="gf-form-input width:95% ng-pristine ng-valid ng-empty ng-touched"
				rows="10" placeholder="This text should respect xml/plain mxgraph syntax"
				style="margin-top: 0px; margin-bottom: 0px; height: 145px; width: 95%;" ng-change="ctrl.render()"
				ng-model="ctrl.panel.flowchart.source.xml.value" ng-model-onBlur></textarea>
		</div>
		<div class="gf-form" name="options.source.editor.form" ng-if="ctrl.panel.flowchart.source.type == 'Editor'">
			<span class="gf-form-label width-12">
				MxGraph
				<info-popover mode="right-normal">
					Open mxGraph Editor like draw.io
				</info-popover>
			</span>
			<div class="gf-form" name="options.source.editor.input">
				<button class="btn btn-secondary gf-form-btn width-12" name="editor_input" ng-click="ctrl.openEditor();">
					<i class="fa"></i>
					Edit
				</button>
			</div>
		</div>
	</div>
</div>
<br />
<!-- Option Section -->
<div class="editor-row">
	<h5 class="section-heading">Advanced</h5>
	<div class="section gf-form-group">
		<h5 class="section-heading">Display</h5>
		<gf-form-switch class="gf-form" label="Scale" label-class="width-12" checked="ctrl.panel.flowchart.options.scale"
			on-change="ctrl.render()">
		</gf-form-switch>
	</gf-form-switch>
		<gf-form-switch class="gf-form" label="Center" label-class="width-12" checked="ctrl.panel.flowchart.options.center"
			on-change="ctrl.render()">
		</gf-form-switch>
		<!--zoom-->
		<div class="gf-form" ng-if="!ctrl.panel.flowchart.options.scale">
			<span class="gf-form-label width-12">
				Zoom
				<info-popover mode="right-normal">
					Resize graph with value. <br />
					&lt; 100% : Reduce graph dimension<br />
					&gt; 100% : increase graph dimension<br />
				</info-popover>
			</span>
			<input type="text" name="valueDisplayRegex" ng-model="ctrl.panel.flowchart.options.zoom" style="text-align: right" placeholder="100%"
				class="gf-form-input max-width-12" ng-blur="ctrl.render()" />
			<div ng-if="!ctrl.validatePercent(ctrl.panel.flowchart.options.zoom)" style="color: red; padding-left: 5px">
				Invalid percent
			</div>
		</div>
	</div>
	<div class="section gf-form-group">
		<h5 class="section-heading">Others options</h5>

		<gf-form-switch class="gf-form" label="Lock" label-class="width-12" checked="ctrl.panel.flowchart.options.lock"
			on-change="ctrl.render()">
		</gf-form-switch>
		<gf-form-switch class="gf-form" label="Grid" label-class="width-12" checked="ctrl.panel.flowchart.options.grid"
		on-change="ctrl.render()">
	</gf-form-switch>
	</div>
</div>