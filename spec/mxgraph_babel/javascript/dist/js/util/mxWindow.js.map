{"version":3,"sources":["../../../../../../src/mxgraph/javascript/dist/js/util/mxWindow.js"],"names":["mxWindow","title","content","x","y","width","height","minimizable","movable","replaceNode","style","init","installMaximizeHandler","installMinimizeHandler","installCloseHandler","setMinimizable","setTitle","installMoveHandler","parentNode","replaceChild","div","document","body","appendChild","prototype","mxEventSource","constructor","closeImage","mxClient","imageBasePath","minimizeImage","normalizeImage","maximizeImage","resizeImage","visible","minimumSize","mxRectangle","destroyOnClose","contentHeightCorrection","documentMode","createElement","className","left","top","table","IS_POINTER","touchAction","IS_QUIRKS","tbody","tr","buttons","position","display","right","td","contentWrapper","nodeName","toUpperCase","activator","mxUtils","bind","evt","activate","mxEvent","addGestureListeners","hide","child","firstChild","next","nextSibling","nodeType","mxConstants","NODETYPE_TEXT","removeChild","write","setScrollable","scrollable","navigator","userAgent","indexOf","overflow","activeWindow","getCurrentStyle","getElement","index","zIndex","elt","previousWindow","parseInt","fireEvent","mxEventObject","ACTIVATE","fit","isResizable","resize","setResizable","resizable","bottom","setAttribute","cursor","startX","startY","start","getClientX","getClientY","offsetWidth","offsetHeight","dragHandler","dropHandler","RESIZE_START","consume","dx","dy","setSize","RESIZE","removeGestureListeners","RESIZE_END","Math","max","minimize","getMinimumSize","marginLeft","minimized","maxDisplay","funct","maximize","minSize","visibility","MINIMIZE","NORMALIZE","setMaximizable","maximizable","maximized","minDisplay","docHeight","clientHeight","documentElement","clientWidth","MAXIMIZE","addListener","getX","getY","setLocation","MOVE","MOVE_END","MOVE_START","closeImg","CLOSE","destroy","setVisible","setImage","image","marginRight","marginTop","insertBefore","setClosable","closable","isVisible","show","SHOW","HIDE","DESTROY","release","__mxOutput","undefined"],"mappings":"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","file":"mxWindow.js","sourcesContent":["/**\n * Copyright (c) 2006-2015, JGraph Ltd\n * Copyright (c) 2006-2015, Gaudenz Alder\n */\n/**\n * Class: mxWindow\n * \n * Basic window inside a document.\n * \n * Examples:\n * \n * Creating a simple window.\n *\n * (code)\n * var tb = document.createElement('div');\n * var wnd = new mxWindow('Title', tb, 100, 100, 200, 200, true, true);\n * wnd.setVisible(true); \n * (end)\n *\n * Creating a window that contains an iframe. \n * \n * (code)\n * var frame = document.createElement('iframe');\n * frame.setAttribute('width', '192px');\n * frame.setAttribute('height', '172px');\n * frame.setAttribute('src', 'http://www.example.com/');\n * frame.style.backgroundColor = 'white';\n * \n * var w = document.body.clientWidth;\n * var h = (document.body.clientHeight || document.documentElement.clientHeight);\n * var wnd = new mxWindow('Title', frame, (w-200)/2, (h-200)/3, 200, 200);\n * wnd.setVisible(true);\n * (end)\n * \n * To limit the movement of a window, eg. to keep it from being moved beyond\n * the top, left corner the following method can be overridden (recommended):\n * \n * (code)\n * wnd.setLocation = function(x, y)\n * {\n *   x = Math.max(0, x);\n *   y = Math.max(0, y);\n *   mxWindow.prototype.setLocation.apply(this, arguments);\n * };\n * (end)\n * \n * Or the following event handler can be used:\n * \n * (code)\n * wnd.addListener(mxEvent.MOVE, function(e)\n * {\n *   wnd.setLocation(Math.max(0, wnd.getX()), Math.max(0, wnd.getY()));\n * });\n * (end)\n * \n * To keep a window inside the current window:\n * \n * (code)\n * mxEvent.addListener(window, 'resize', mxUtils.bind(this, function()\n * {\n *   var iw = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\n *   var ih = window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight;\n *   \n *   var x = this.window.getX();\n *   var y = this.window.getY();\n *   \n *   if (x + this.window.table.clientWidth > iw)\n *   {\n *     x = Math.max(0, iw - this.window.table.clientWidth);\n *   }\n *   \n *   if (y + this.window.table.clientHeight > ih)\n *   {\n *     y = Math.max(0, ih - this.window.table.clientHeight);\n *   }\n *   \n *   if (this.window.getX() != x || this.window.getY() != y)\n *   {\n *     this.window.setLocation(x, y);\n *   }\n * }));\n * (end)\n *\n * Event: mxEvent.MOVE_START\n *\n * Fires before the window is moved. The <code>event</code> property contains\n * the corresponding mouse event.\n *\n * Event: mxEvent.MOVE\n *\n * Fires while the window is being moved. The <code>event</code> property\n * contains the corresponding mouse event.\n *\n * Event: mxEvent.MOVE_END\n *\n * Fires after the window is moved. The <code>event</code> property contains\n * the corresponding mouse event.\n *\n * Event: mxEvent.RESIZE_START\n *\n * Fires before the window is resized. The <code>event</code> property contains\n * the corresponding mouse event.\n *\n * Event: mxEvent.RESIZE\n *\n * Fires while the window is being resized. The <code>event</code> property\n * contains the corresponding mouse event.\n *\n * Event: mxEvent.RESIZE_END\n *\n * Fires after the window is resized. The <code>event</code> property contains\n * the corresponding mouse event.\n *\n * Event: mxEvent.MAXIMIZE\n * \n * Fires after the window is maximized. The <code>event</code> property\n * contains the corresponding mouse event.\n * \n * Event: mxEvent.MINIMIZE\n * \n * Fires after the window is minimized. The <code>event</code> property\n * contains the corresponding mouse event.\n * \n * Event: mxEvent.NORMALIZE\n * \n * Fires after the window is normalized, that is, it returned from\n * maximized or minimized state. The <code>event</code> property contains the\n * corresponding mouse event.\n *  \n * Event: mxEvent.ACTIVATE\n * \n * Fires after a window is activated. The <code>previousWindow</code> property\n * contains the previous window. The event sender is the active window.\n * \n * Event: mxEvent.SHOW\n * \n * Fires after the window is shown. This event has no properties.\n * \n * Event: mxEvent.HIDE\n * \n * Fires after the window is hidden. This event has no properties.\n * \n * Event: mxEvent.CLOSE\n * \n * Fires before the window is closed. The <code>event</code> property contains\n * the corresponding mouse event.\n * \n * Event: mxEvent.DESTROY\n * \n * Fires before the window is destroyed. This event has no properties.\n * \n * Constructor: mxWindow\n * \n * Constructs a new window with the given dimension and title to display\n * the specified content. The window elements use the given style as a\n * prefix for the classnames of the respective window elements, namely,\n * the window title and window pane. The respective postfixes are appended\n * to the given stylename as follows:\n * \n *   style - Base style for the window.\n *   style+Title - Style for the window title.\n *   style+Pane - Style for the window pane.\n * \n * The default value for style is mxWindow, resulting in the following\n * classnames for the window elements: mxWindow, mxWindowTitle and\n * mxWindowPane.\n * \n * If replaceNode is given then the window replaces the given DOM node in\n * the document.\n * \n * Parameters:\n * \n * title - String that represents the title of the new window.\n * content - DOM node that is used as the window content.\n * x - X-coordinate of the window location.\n * y - Y-coordinate of the window location.\n * width - Width of the window.\n * height - Optional height of the window. Default is to match the height\n * of the content at the specified width.\n * minimizable - Optional boolean indicating if the window is minimizable.\n * Default is true.\n * movable - Optional boolean indicating if the window is movable. Default\n * is true.\n * replaceNode - Optional DOM node that the window should replace.\n * style - Optional base classname for the window elements. Default is\n * mxWindow.\n */\nfunction mxWindow(title, content, x, y, width, height, minimizable, movable, replaceNode, style)\n{\n\tif (content != null)\n\t{\n\t\tminimizable = (minimizable != null) ? minimizable : true;\n\t\tthis.content = content;\n\t\tthis.init(x, y, width, height, style);\n\t\t\n\t\tthis.installMaximizeHandler();\n\t\tthis.installMinimizeHandler();\n\t\tthis.installCloseHandler();\n\t\tthis.setMinimizable(minimizable);\n\t\tthis.setTitle(title);\n\t\t\n\t\tif (movable == null || movable)\n\t\t{\n\t\t\tthis.installMoveHandler();\n\t\t}\n\n\t\tif (replaceNode != null && replaceNode.parentNode != null)\n\t\t{\n\t\t\treplaceNode.parentNode.replaceChild(this.div, replaceNode);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tdocument.body.appendChild(this.div);\n\t\t}\n\t}\n};\n\n/**\n * Extends mxEventSource.\n */\nmxWindow.prototype = new mxEventSource();\nmxWindow.prototype.constructor = mxWindow;\n\n/**\n * Variable: closeImage\n * \n * URL of the image to be used for the close icon in the titlebar.\n */\nmxWindow.prototype.closeImage = mxClient.imageBasePath + '/close.gif';\n\n/**\n * Variable: minimizeImage\n * \n * URL of the image to be used for the minimize icon in the titlebar.\n */\nmxWindow.prototype.minimizeImage = mxClient.imageBasePath + '/minimize.gif';\n\t\n/**\n * Variable: normalizeImage\n * \n * URL of the image to be used for the normalize icon in the titlebar.\n */\nmxWindow.prototype.normalizeImage = mxClient.imageBasePath + '/normalize.gif';\n\t\n/**\n * Variable: maximizeImage\n * \n * URL of the image to be used for the maximize icon in the titlebar.\n */\nmxWindow.prototype.maximizeImage = mxClient.imageBasePath + '/maximize.gif';\n\n/**\n * Variable: normalizeImage\n * \n * URL of the image to be used for the resize icon.\n */\nmxWindow.prototype.resizeImage = mxClient.imageBasePath + '/resize.gif';\n\n/**\n * Variable: visible\n * \n * Boolean flag that represents the visible state of the window.\n */\nmxWindow.prototype.visible = false;\n\n/**\n * Variable: minimumSize\n * \n * <mxRectangle> that specifies the minimum width and height of the window.\n * Default is (50, 40).\n */\nmxWindow.prototype.minimumSize = new mxRectangle(0, 0, 50, 40);\n\n/**\n * Variable: destroyOnClose\n * \n * Specifies if the window should be destroyed when it is closed. If this\n * is false then the window is hidden using <setVisible>. Default is true.\n */\nmxWindow.prototype.destroyOnClose = true;\n\n/**\n * Variable: contentHeightCorrection\n * \n * Defines the correction factor for computing the height of the contentWrapper.\n * Default is 6 for IE 7/8 standards mode and 2 for all other browsers and modes.\n */\nmxWindow.prototype.contentHeightCorrection = (document.documentMode == 8 || document.documentMode == 7) ? 6 : 2;\n\n/**\n * Variable: title\n * \n * Reference to the DOM node (TD) that contains the title.\n */\nmxWindow.prototype.title = null;\n\n/**\n * Variable: content\n * \n * Reference to the DOM node that represents the window content.\n */\nmxWindow.prototype.content = null;\n\n/**\n * Function: init\n * \n * Initializes the DOM tree that represents the window.\n */\nmxWindow.prototype.init = function(x, y, width, height, style)\n{\n\tstyle = (style != null) ? style : 'mxWindow';\n\t\n\tthis.div = document.createElement('div');\n\tthis.div.className = style;\n\n\tthis.div.style.left = x + 'px';\n\tthis.div.style.top = y + 'px';\n\tthis.table = document.createElement('table');\n\tthis.table.className = style;\n\n\t// Disables built-in pan and zoom in IE10 and later\n\tif (mxClient.IS_POINTER)\n\t{\n\t\tthis.div.style.touchAction = 'none';\n\t}\n\t\n\t// Workaround for table size problems in FF\n\tif (width != null)\n\t{\n\t\tif (!mxClient.IS_QUIRKS)\n\t\t{\n\t\t\tthis.div.style.width = width + 'px'; \n\t\t}\n\t\t\n\t\tthis.table.style.width = width + 'px';\n\t} \n\t\n\tif (height != null)\n\t{\n\t\tif (!mxClient.IS_QUIRKS)\n\t\t{\n\t\t\tthis.div.style.height = height + 'px';\n\t\t}\n\t\t\n\t\tthis.table.style.height = height + 'px';\n\t}\t\t\n\t\n\t// Creates title row\n\tvar tbody = document.createElement('tbody');\n\tvar tr = document.createElement('tr');\n\t\n\tthis.title = document.createElement('td');\n\tthis.title.className = style + 'Title';\n\t\n\tthis.buttons = document.createElement('div');\n\tthis.buttons.style.position = 'absolute';\n\tthis.buttons.style.display = 'inline-block';\n\tthis.buttons.style.right = '4px';\n\tthis.buttons.style.top = '5px';\n\tthis.title.appendChild(this.buttons);\n\t\n\ttr.appendChild(this.title);\n\ttbody.appendChild(tr);\n\t\n\t// Creates content row and table cell\n\ttr = document.createElement('tr');\n\tthis.td = document.createElement('td');\n\tthis.td.className = style + 'Pane';\n\t\n\tif (document.documentMode == 7)\n\t{\n\t\tthis.td.style.height = '100%';\n\t}\n\n\tthis.contentWrapper = document.createElement('div');\n\tthis.contentWrapper.className = style + 'Pane';\n\tthis.contentWrapper.style.width = '100%';\n\tthis.contentWrapper.appendChild(this.content);\n\n\t// Workaround for div around div restricts height\n\t// of inner div if outerdiv has hidden overflow\n\tif (mxClient.IS_QUIRKS || this.content.nodeName.toUpperCase() != 'DIV')\n\t{\n\t\tthis.contentWrapper.style.height = '100%';\n\t}\n\n\t// Puts all content into the DOM\n\tthis.td.appendChild(this.contentWrapper);\n\ttr.appendChild(this.td);\n\ttbody.appendChild(tr);\n\tthis.table.appendChild(tbody);\n\tthis.div.appendChild(this.table);\n\t\n\t// Puts the window on top of other windows when clicked\n\tvar activator = mxUtils.bind(this, function(evt)\n\t{\n\t\tthis.activate();\n\t});\n\t\n\tmxEvent.addGestureListeners(this.title, activator);\n\tmxEvent.addGestureListeners(this.table, activator);\n\n\tthis.hide();\n};\n\n/**\n * Function: setTitle\n * \n * Sets the window title to the given string. HTML markup inside the title\n * will be escaped.\n */\nmxWindow.prototype.setTitle = function(title)\n{\n\t// Removes all text content nodes (normally just one)\n\tvar child = this.title.firstChild;\n\t\n\twhile (child != null)\n\t{\n\t\tvar next = child.nextSibling;\n\t\t\n\t\tif (child.nodeType == mxConstants.NODETYPE_TEXT)\n\t\t{\n\t\t\tchild.parentNode.removeChild(child);\n\t\t}\n\t\t\n\t\tchild = next;\n\t}\n\t\n\tmxUtils.write(this.title, title || '');\n\tthis.title.appendChild(this.buttons);\n};\n\n/**\n * Function: setScrollable\n * \n * Sets if the window contents should be scrollable.\n */\nmxWindow.prototype.setScrollable = function(scrollable)\n{\n\t// Workaround for hang in Presto 2.5.22 (Opera 10.5)\n\tif (navigator.userAgent.indexOf('Presto/2.5') < 0)\n\t{\n\t\tif (scrollable)\n\t\t{\n\t\t\tthis.contentWrapper.style.overflow = 'auto';\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.contentWrapper.style.overflow = 'hidden';\n\t\t}\n\t}\n};\n\n/**\n * Function: activate\n * \n * Puts the window on top of all other windows.\n */\nmxWindow.prototype.activate = function()\n{\n\tif (mxWindow.activeWindow != this)\n\t{\n\t\tvar style = mxUtils.getCurrentStyle(this.getElement());\n\t\tvar index = (style != null) ? style.zIndex : 3;\n\n\t\tif (mxWindow.activeWindow)\n\t\t{\n\t\t\tvar elt = mxWindow.activeWindow.getElement();\n\t\t\t\n\t\t\tif (elt != null && elt.style != null)\n\t\t\t{\n\t\t\t\telt.style.zIndex = index;\n\t\t\t}\n\t\t}\n\t\t\n\t\tvar previousWindow = mxWindow.activeWindow;\n\t\tthis.getElement().style.zIndex = parseInt(index) + 1;\n\t\tmxWindow.activeWindow = this;\n\t\t\n\t\tthis.fireEvent(new mxEventObject(mxEvent.ACTIVATE, 'previousWindow', previousWindow));\n\t}\n};\n\n/**\n * Function: getElement\n * \n * Returuns the outermost DOM node that makes up the window.\n */\nmxWindow.prototype.getElement = function()\n{\n\treturn this.div;\n};\n\n/**\n * Function: fit\n * \n * Makes sure the window is inside the client area of the window.\n */\nmxWindow.prototype.fit = function()\n{\n\tmxUtils.fit(this.div);\n};\n\n/**\n * Function: isResizable\n * \n * Returns true if the window is resizable.\n */\nmxWindow.prototype.isResizable = function()\n{\n\tif (this.resize != null)\n\t{\n\t\treturn this.resize.style.display != 'none';\n\t}\n\t\n\treturn false;\n};\n\n/**\n * Function: setResizable\n * \n * Sets if the window should be resizable. To avoid interference with some\n * built-in features of IE10 and later, the use of the following code is\n * recommended if there are resizable <mxWindow>s in the page:\n * \n * (code)\n * if (mxClient.IS_POINTER)\n * {\n *   document.body.style.msTouchAction = 'none';\n * }\n * (end)\n */\nmxWindow.prototype.setResizable = function(resizable)\n{\n\tif (resizable)\n\t{\n\t\tif (this.resize == null)\n\t\t{\n\t\t\tthis.resize = document.createElement('img');\n\t\t\tthis.resize.style.position = 'absolute';\n\t\t\tthis.resize.style.bottom = '2px';\n\t\t\tthis.resize.style.right = '2px';\n\n\t\t\tthis.resize.setAttribute('src', this.resizeImage);\n\t\t\tthis.resize.style.cursor = 'nw-resize';\n\t\t\t\n\t\t\tvar startX = null;\n\t\t\tvar startY = null;\n\t\t\tvar width = null;\n\t\t\tvar height = null;\n\t\t\t\n\t\t\tvar start = mxUtils.bind(this, function(evt)\n\t\t\t{\n\t\t\t\t// LATER: pointerdown starting on border of resize does start\n\t\t\t\t// the drag operation but does not fire consecutive events via\n\t\t\t\t// one of the listeners below (does pan instead).\n\t\t\t\t// Workaround: document.body.style.msTouchAction = 'none'\n\t\t\t\tthis.activate();\n\t\t\t\tstartX = mxEvent.getClientX(evt);\n\t\t\t\tstartY = mxEvent.getClientY(evt);\n\t\t\t\twidth = this.div.offsetWidth;\n\t\t\t\theight = this.div.offsetHeight;\n\t\t\t\t\n\t\t\t\tmxEvent.addGestureListeners(document, null, dragHandler, dropHandler);\n\t\t\t\tthis.fireEvent(new mxEventObject(mxEvent.RESIZE_START, 'event', evt));\n\t\t\t\tmxEvent.consume(evt);\n\t\t\t});\n\n\t\t\t// Adds a temporary pair of listeners to intercept\n\t\t\t// the gesture event in the document\n\t\t\tvar dragHandler = mxUtils.bind(this, function(evt)\n\t\t\t{\n\t\t\t\tif (startX != null && startY != null)\n\t\t\t\t{\n\t\t\t\t\tvar dx = mxEvent.getClientX(evt) - startX;\n\t\t\t\t\tvar dy = mxEvent.getClientY(evt) - startY;\n\t\n\t\t\t\t\tthis.setSize(width + dx, height + dy);\n\t\n\t\t\t\t\tthis.fireEvent(new mxEventObject(mxEvent.RESIZE, 'event', evt));\n\t\t\t\t\tmxEvent.consume(evt);\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tvar dropHandler = mxUtils.bind(this, function(evt)\n\t\t\t{\n\t\t\t\tif (startX != null && startY != null)\n\t\t\t\t{\n\t\t\t\t\tstartX = null;\n\t\t\t\t\tstartY = null;\n\t\t\t\t\tmxEvent.removeGestureListeners(document, null, dragHandler, dropHandler);\n\t\t\t\t\tthis.fireEvent(new mxEventObject(mxEvent.RESIZE_END, 'event', evt));\n\t\t\t\t\tmxEvent.consume(evt);\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tmxEvent.addGestureListeners(this.resize, start, dragHandler, dropHandler);\n\t\t\tthis.div.appendChild(this.resize);\n\t\t}\n\t\telse \n\t\t{\n\t\t\tthis.resize.style.display = 'inline';\n\t\t}\n\t}\n\telse if (this.resize != null)\n\t{\n\t\tthis.resize.style.display = 'none';\n\t}\n};\n\t\n/**\n * Function: setSize\n * \n * Sets the size of the window.\n */\nmxWindow.prototype.setSize = function(width, height)\n{\n\twidth = Math.max(this.minimumSize.width, width);\n\theight = Math.max(this.minimumSize.height, height);\n\n\t// Workaround for table size problems in FF\n\tif (!mxClient.IS_QUIRKS)\n\t{\n\t\tthis.div.style.width =  width + 'px';\n\t\tthis.div.style.height = height + 'px';\n\t}\n\t\n\tthis.table.style.width =  width + 'px';\n\tthis.table.style.height = height + 'px';\n\n\tif (!mxClient.IS_QUIRKS)\n\t{\n\t\tthis.contentWrapper.style.height = (this.div.offsetHeight -\n\t\t\tthis.title.offsetHeight - this.contentHeightCorrection) + 'px';\n\t}\n};\n\t\n/**\n * Function: setMinimizable\n * \n * Sets if the window is minimizable.\n */\nmxWindow.prototype.setMinimizable = function(minimizable)\n{\n\tthis.minimize.style.display = (minimizable) ? '' : 'none';\n};\n\n/**\n * Function: getMinimumSize\n * \n * Returns an <mxRectangle> that specifies the size for the minimized window.\n * A width or height of 0 means keep the existing width or height. This\n * implementation returns the height of the window title and keeps the width.\n */\nmxWindow.prototype.getMinimumSize = function()\n{\n\treturn new mxRectangle(0, 0, 0, this.title.offsetHeight);\n};\n\n/**\n * Function: installMinimizeHandler\n * \n * Installs the event listeners required for minimizing the window.\n */\nmxWindow.prototype.installMinimizeHandler = function()\n{\n\tthis.minimize = document.createElement('img');\n\t\n\tthis.minimize.setAttribute('src', this.minimizeImage);\n\tthis.minimize.setAttribute('title', 'Minimize');\n\tthis.minimize.style.cursor = 'pointer';\n\tthis.minimize.style.marginLeft = '2px';\n\tthis.minimize.style.display = 'none';\n\t\n\tthis.buttons.appendChild(this.minimize);\n\t\n\tvar minimized = false;\n\tvar maxDisplay = null;\n\tvar height = null;\n\n\tvar funct = mxUtils.bind(this, function(evt)\n\t{\n\t\tthis.activate();\n\t\t\n\t\tif (!minimized)\n\t\t{\n\t\t\tminimized = true;\n\t\t\t\n\t\t\tthis.minimize.setAttribute('src', this.normalizeImage);\n\t\t\tthis.minimize.setAttribute('title', 'Normalize');\n\t\t\tthis.contentWrapper.style.display = 'none';\n\t\t\tmaxDisplay = this.maximize.style.display;\n\t\t\t\n\t\t\tthis.maximize.style.display = 'none';\n\t\t\theight = this.table.style.height;\n\t\t\t\n\t\t\tvar minSize = this.getMinimumSize();\n\t\t\t\n\t\t\tif (minSize.height > 0)\n\t\t\t{\n\t\t\t\tif (!mxClient.IS_QUIRKS)\n\t\t\t\t{\n\t\t\t\t\tthis.div.style.height = minSize.height + 'px';\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.table.style.height = minSize.height + 'px';\n\t\t\t}\n\t\t\t\n\t\t\tif (minSize.width > 0)\n\t\t\t{\n\t\t\t\tif (!mxClient.IS_QUIRKS)\n\t\t\t\t{\n\t\t\t\t\tthis.div.style.width = minSize.width + 'px';\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.table.style.width = minSize.width + 'px';\n\t\t\t}\n\t\t\t\n\t\t\tif (this.resize != null)\n\t\t\t{\n\t\t\t\tthis.resize.style.visibility = 'hidden';\n\t\t\t}\n\t\t\t\n\t\t\tthis.fireEvent(new mxEventObject(mxEvent.MINIMIZE, 'event', evt));\n\t\t}\n\t\telse\n\t\t{\n\t\t\tminimized = false;\n\t\t\t\n\t\t\tthis.minimize.setAttribute('src', this.minimizeImage);\n\t\t\tthis.minimize.setAttribute('title', 'Minimize');\n\t\t\tthis.contentWrapper.style.display = ''; // default\n\t\t\tthis.maximize.style.display = maxDisplay;\n\t\t\t\n\t\t\tif (!mxClient.IS_QUIRKS)\n\t\t\t{\n\t\t\t\tthis.div.style.height = height;\n\t\t\t}\n\t\t\t\n\t\t\tthis.table.style.height = height;\n\n\t\t\tif (this.resize != null)\n\t\t\t{\n\t\t\t\tthis.resize.style.visibility = '';\n\t\t\t}\n\t\t\t\n\t\t\tthis.fireEvent(new mxEventObject(mxEvent.NORMALIZE, 'event', evt));\n\t\t}\n\t\t\n\t\tmxEvent.consume(evt);\n\t});\n\t\n\tmxEvent.addGestureListeners(this.minimize, funct);\n};\n\t\n/**\n * Function: setMaximizable\n * \n * Sets if the window is maximizable.\n */\nmxWindow.prototype.setMaximizable = function(maximizable)\n{\n\tthis.maximize.style.display = (maximizable) ? '' : 'none';\n};\n\n/**\n * Function: installMaximizeHandler\n * \n * Installs the event listeners required for maximizing the window.\n */\nmxWindow.prototype.installMaximizeHandler = function()\n{\n\tthis.maximize = document.createElement('img');\n\t\n\tthis.maximize.setAttribute('src', this.maximizeImage);\n\tthis.maximize.setAttribute('title', 'Maximize');\n\tthis.maximize.style.cursor = 'default';\n\tthis.maximize.style.marginLeft = '2px';\n\tthis.maximize.style.cursor = 'pointer';\n\tthis.maximize.style.display = 'none';\n\t\n\tthis.buttons.appendChild(this.maximize);\n\t\n\tvar maximized = false;\n\tvar x = null;\n\tvar y = null;\n\tvar height = null;\n\tvar width = null;\n\tvar minDisplay = null;\n\n\tvar funct = mxUtils.bind(this, function(evt)\n\t{\n\t\tthis.activate();\n\t\t\n\t\tif (this.maximize.style.display != 'none')\n\t\t{\n\t\t\tif (!maximized)\n\t\t\t{\n\t\t\t\tmaximized = true;\n\t\t\t\t\n\t\t\t\tthis.maximize.setAttribute('src', this.normalizeImage);\n\t\t\t\tthis.maximize.setAttribute('title', 'Normalize');\n\t\t\t\tthis.contentWrapper.style.display = '';\n\t\t\t\tminDisplay = this.minimize.style.display;\n\t\t\t\tthis.minimize.style.display = 'none';\n\t\t\t\t\n\t\t\t\t// Saves window state\n\t\t\t\tx = parseInt(this.div.style.left);\n\t\t\t\ty = parseInt(this.div.style.top);\n\t\t\t\theight = this.table.style.height;\n\t\t\t\twidth = this.table.style.width;\n\n\t\t\t\tthis.div.style.left = '0px';\n\t\t\t\tthis.div.style.top = '0px';\n\t\t\t\tvar docHeight = Math.max(document.body.clientHeight || 0, document.documentElement.clientHeight || 0);\n\n\t\t\t\tif (!mxClient.IS_QUIRKS)\n\t\t\t\t{\n\t\t\t\t\tthis.div.style.width = (document.body.clientWidth - 2) + 'px';\n\t\t\t\t\tthis.div.style.height = (docHeight - 2) + 'px';\n\t\t\t\t}\n\n\t\t\t\tthis.table.style.width = (document.body.clientWidth - 2) + 'px';\n\t\t\t\tthis.table.style.height = (docHeight - 2) + 'px';\n\t\t\t\t\n\t\t\t\tif (this.resize != null)\n\t\t\t\t{\n\t\t\t\t\tthis.resize.style.visibility = 'hidden';\n\t\t\t\t}\n\n\t\t\t\tif (!mxClient.IS_QUIRKS)\n\t\t\t\t{\n\t\t\t\t\tvar style = mxUtils.getCurrentStyle(this.contentWrapper);\n\t\t\n\t\t\t\t\tif (style.overflow == 'auto' || this.resize != null)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.contentWrapper.style.height = (this.div.offsetHeight -\n\t\t\t\t\t\t\tthis.title.offsetHeight - this.contentHeightCorrection) + 'px';\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.fireEvent(new mxEventObject(mxEvent.MAXIMIZE, 'event', evt));\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tmaximized = false;\n\t\t\t\t\n\t\t\t\tthis.maximize.setAttribute('src', this.maximizeImage);\n\t\t\t\tthis.maximize.setAttribute('title', 'Maximize');\n\t\t\t\tthis.contentWrapper.style.display = '';\n\t\t\t\tthis.minimize.style.display = minDisplay;\n\n\t\t\t\t// Restores window state\n\t\t\t\tthis.div.style.left = x+'px';\n\t\t\t\tthis.div.style.top = y+'px';\n\t\t\t\t\n\t\t\t\tif (!mxClient.IS_QUIRKS)\n\t\t\t\t{\n\t\t\t\t\tthis.div.style.height = height;\n\t\t\t\t\tthis.div.style.width = width;\n\n\t\t\t\t\tvar style = mxUtils.getCurrentStyle(this.contentWrapper);\n\t\t\n\t\t\t\t\tif (style.overflow == 'auto' || this.resize != null)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.contentWrapper.style.height = (this.div.offsetHeight -\n\t\t\t\t\t\t\tthis.title.offsetHeight - this.contentHeightCorrection) + 'px';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.table.style.height = height;\n\t\t\t\tthis.table.style.width = width;\n\n\t\t\t\tif (this.resize != null)\n\t\t\t\t{\n\t\t\t\t\tthis.resize.style.visibility = '';\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.fireEvent(new mxEventObject(mxEvent.NORMALIZE, 'event', evt));\n\t\t\t}\n\t\t\t\n\t\t\tmxEvent.consume(evt);\n\t\t}\n\t});\n\t\n\tmxEvent.addGestureListeners(this.maximize, funct);\n\tmxEvent.addListener(this.title, 'dblclick', funct);\n};\n\t\n/**\n * Function: installMoveHandler\n * \n * Installs the event listeners required for moving the window.\n */\nmxWindow.prototype.installMoveHandler = function()\n{\n\tthis.title.style.cursor = 'move';\n\t\n\tmxEvent.addGestureListeners(this.title,\n\t\tmxUtils.bind(this, function(evt)\n\t\t{\n\t\t\tvar startX = mxEvent.getClientX(evt);\n\t\t\tvar startY = mxEvent.getClientY(evt);\n\t\t\tvar x = this.getX();\n\t\t\tvar y = this.getY();\n\t\t\t\t\t\t\n\t\t\t// Adds a temporary pair of listeners to intercept\n\t\t\t// the gesture event in the document\n\t\t\tvar dragHandler = mxUtils.bind(this, function(evt)\n\t\t\t{\n\t\t\t\tvar dx = mxEvent.getClientX(evt) - startX;\n\t\t\t\tvar dy = mxEvent.getClientY(evt) - startY;\n\t\t\t\tthis.setLocation(x + dx, y + dy);\n\t\t\t\tthis.fireEvent(new mxEventObject(mxEvent.MOVE, 'event', evt));\n\t\t\t\tmxEvent.consume(evt);\n\t\t\t});\n\t\t\t\n\t\t\tvar dropHandler = mxUtils.bind(this, function(evt)\n\t\t\t{\n\t\t\t\tmxEvent.removeGestureListeners(document, null, dragHandler, dropHandler);\n\t\t\t\tthis.fireEvent(new mxEventObject(mxEvent.MOVE_END, 'event', evt));\n\t\t\t\tmxEvent.consume(evt);\n\t\t\t});\n\t\t\t\n\t\t\tmxEvent.addGestureListeners(document, null, dragHandler, dropHandler);\n\t\t\tthis.fireEvent(new mxEventObject(mxEvent.MOVE_START, 'event', evt));\n\t\t\tmxEvent.consume(evt);\n\t\t}));\n\t\n\t// Disables built-in pan and zoom in IE10 and later\n\tif (mxClient.IS_POINTER)\n\t{\n\t\tthis.title.style.touchAction = 'none';\n\t}\n};\n\n/**\n * Function: setLocation\n * \n * Sets the upper, left corner of the window.\n */\n mxWindow.prototype.setLocation = function(x, y)\n {\n\tthis.div.style.left = x + 'px';\n\tthis.div.style.top = y + 'px';\n };\n\n/**\n * Function: getX\n *\n * Returns the current position on the x-axis.\n */\nmxWindow.prototype.getX = function()\n{\n\treturn parseInt(this.div.style.left);\n};\n\n/**\n * Function: getY\n *\n * Returns the current position on the y-axis.\n */\nmxWindow.prototype.getY = function()\n{\n\treturn parseInt(this.div.style.top);\n};\n\n/**\n * Function: installCloseHandler\n *\n * Adds the <closeImage> as a new image node in <closeImg> and installs the\n * <close> event.\n */\nmxWindow.prototype.installCloseHandler = function()\n{\n\tthis.closeImg = document.createElement('img');\n\t\n\tthis.closeImg.setAttribute('src', this.closeImage);\n\tthis.closeImg.setAttribute('title', 'Close');\n\tthis.closeImg.style.marginLeft = '2px';\n\tthis.closeImg.style.cursor = 'pointer';\n\tthis.closeImg.style.display = 'none';\n\t\n\tthis.buttons.appendChild(this.closeImg);\n\n\tmxEvent.addGestureListeners(this.closeImg,\n\t\tmxUtils.bind(this, function(evt)\n\t\t{\n\t\t\tthis.fireEvent(new mxEventObject(mxEvent.CLOSE, 'event', evt));\n\t\t\t\n\t\t\tif (this.destroyOnClose)\n\t\t\t{\n\t\t\t\tthis.destroy();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.setVisible(false);\n\t\t\t}\n\t\t\t\n\t\t\tmxEvent.consume(evt);\n\t\t}));\n};\n\n/**\n * Function: setImage\n * \n * Sets the image associated with the window.\n * \n * Parameters:\n * \n * image - URL of the image to be used.\n */\nmxWindow.prototype.setImage = function(image)\n{\n\tthis.image = document.createElement('img');\n\tthis.image.setAttribute('src', image);\n\tthis.image.setAttribute('align', 'left');\n\tthis.image.style.marginRight = '4px';\n\tthis.image.style.marginLeft = '0px';\n\tthis.image.style.marginTop = '-2px';\n\t\n\tthis.title.insertBefore(this.image, this.title.firstChild);\n};\n\n/**\n * Function: setClosable\n * \n * Sets the image associated with the window.\n * \n * Parameters:\n * \n * closable - Boolean specifying if the window should be closable.\n */\nmxWindow.prototype.setClosable = function(closable)\n{\n\tthis.closeImg.style.display = (closable) ? '' : 'none';\n};\n\n/**\n * Function: isVisible\n * \n * Returns true if the window is visible.\n */\nmxWindow.prototype.isVisible = function()\n{\n\tif (this.div != null)\n\t{\n\t\treturn this.div.style.display != 'none';\n\t}\n\t\n\treturn false;\n};\n\n/**\n * Function: setVisible\n *\n * Shows or hides the window depending on the given flag.\n * \n * Parameters:\n * \n * visible - Boolean indicating if the window should be made visible.\n */\nmxWindow.prototype.setVisible = function(visible)\n{\n\tif (this.div != null && this.isVisible() != visible)\n\t{\n\t\tif (visible)\n\t\t{\n\t\t\tthis.show();\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.hide();\n\t\t}\n\t}\n};\n\n/**\n * Function: show\n *\n * Shows the window.\n */\nmxWindow.prototype.show = function()\n{\n\tthis.div.style.display = '';\n\tthis.activate();\n\t\n\tvar style = mxUtils.getCurrentStyle(this.contentWrapper);\n\t\n\tif (!mxClient.IS_QUIRKS && (style.overflow == 'auto' || this.resize != null) &&\n\t\tthis.contentWrapper.style.display != 'none')\n\t{\n\t\tthis.contentWrapper.style.height = (this.div.offsetHeight -\n\t\t\t\tthis.title.offsetHeight - this.contentHeightCorrection) + 'px';\n\t}\n\t\n\tthis.fireEvent(new mxEventObject(mxEvent.SHOW));\n};\n\n/**\n * Function: hide\n *\n * Hides the window.\n */\nmxWindow.prototype.hide = function()\n{\n\tthis.div.style.display = 'none';\n\tthis.fireEvent(new mxEventObject(mxEvent.HIDE));\n};\n\n/**\n * Function: destroy\n *\n * Destroys the window and removes all associated resources. Fires a\n * <destroy> event prior to destroying the window.\n */\nmxWindow.prototype.destroy = function()\n{\n\tthis.fireEvent(new mxEventObject(mxEvent.DESTROY));\n\t\n\tif (this.div != null)\n\t{\n\t\tmxEvent.release(this.div);\n\t\tthis.div.parentNode.removeChild(this.div);\n\t\tthis.div = null;\n\t}\n\t\n\tthis.title = null;\n\tthis.content = null;\n\tthis.contentWrapper = null;\n};\n\n__mxOutput.mxWindow = typeof mxWindow !== 'undefined' ? mxWindow : undefined;\n"]}